<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>监听器与过滤器 | 荣先森</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Spring框架的IOC开发的两种模式，包括XML开发与注解开发的比较">
<meta name="keywords" content="javaWeb基础">
<meta property="og:type" content="article">
<meta property="og:title" content="监听器与过滤器">
<meta property="og:url" content="http://SlectRxz.github.io/2019/02/27/java/javaWeb基础之Listener&Filter/index.html">
<meta property="og:site_name" content="荣先森">
<meta property="og:description" content="Spring框架的IOC开发的两种模式，包括XML开发与注解开发的比较">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://slectrxz.github.io/img/imgs/listener/1.png">
<meta property="og:image" content="http://slectrxz.github.io/img/imgs/listener/3.png">
<meta property="og:image" content="http://slectrxz.github.io/img/imgs/listener/4.png">
<meta property="og:image" content="http://slectrxz.github.io/img/imgs/listener/2.png">
<meta property="og:image" content="http://slectrxz.github.io/2019/02/27/java/javaWeb基础之Listener&Filter/img/img05.png">
<meta property="og:updated_time" content="2019-02-27T13:15:33.427Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="监听器与过滤器">
<meta name="twitter:description" content="Spring框架的IOC开发的两种模式，包括XML开发与注解开发的比较">
<meta name="twitter:image" content="http://slectrxz.github.io/img/imgs/listener/1.png">
  
    <link rel="alternative" href="/atom.xml" title="荣先森" type="application/atom+xml">
  
  
    <link rel="icon" href="img/1.jpg">
  
  <link rel="stylesheet" href="/css/style.css">
  
  

  <script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>
  <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

  
      <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
<script>AV.initialize("bpxE8dkqS0IAdFxTbcqm4IiX-gzGzoHsz", "VRnKkxnTxbDSQtPbl1TiWyLw");</script>
<script src="/js/Counter.js"></script>
  
</head>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="img/1.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Rong</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/SlectRxz" title="github">github</a>
					        
								<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/rselect/activities" title="zhihu">zhihu</a>
					        
								<a class="qq" target="_blank" href="/2215857051" title="qq">qq</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/blog记录/" style="font-size: 10px;">blog记录</a> <a href="/tags/javaWeb基础/" style="font-size: 15px;">javaWeb基础</a> <a href="/tags/学习/" style="font-size: 20px;">学习</a> <a href="/tags/框架学习/" style="font-size: 10px;">框架学习</a> <a href="/tags/注解开发/" style="font-size: 10px;">注解开发</a> <a href="/tags/算法/" style="font-size: 10px;">算法</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/smackgg/hexo-theme-smackdown">smackdown</a>
			        
			        </div>
				</section>
				

				
			</div>
		</div>
		<div style="position:absolute;bottom:170px;opacity:0.6">
		<object type="application/x-shockwave-flash" style="outline:none;" data="http://cdn.abowman.com/widgets/treefrog/treefrog.swf?up_bodyColor=84BF84&up_pattern=1&up_flyColor=F0E80C&up_tongueColor=2BA029&up_patternColor=CFBCBC&up_releaseFly=0&up_frogName=Tree Frog&up_backgroundImage=http://&up_bellySize=.5&up_footColor=2BA029&up_eyeColor=2BA029&up_backgroundColor=261109&" width="250" height="150"><param name="movie" value="http://cdn.abowman.com/widgets/treefrog/treefrog.swf?up_bodyColor=84BF84&up_pattern=1&up_flyColor=F0E80C&up_tongueColor=2BA029&up_patternColor=CFBCBC&up_releaseFly=0&up_frogName=Tree Frog&up_backgroundImage=http://&up_bellySize=.5&up_footColor=2BA029&up_eyeColor=2BA029&up_backgroundColor=261109&"></param><param name="AllowScriptAccess" value="always"></param><param name="wmode" value="opaque"></param><param name="scale" value="noscale"/><param name="salign" value="tl"/></object>
		</div>
		<div style="position:absolute;bottom:80px;left:auto;width:60%;opacity:0.6">
		<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=250 height=86 src="//music.163.com/outchain/player?type=2&id=543681750&auto=1&height=66"></iframe>
		</div>
		
	
		
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Rong</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="img/1.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Rong</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/SlectRxz" title="github">github</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/rselect/activities" title="zhihu">zhihu</a>
			        
						<a class="qq" target="_blank" href="/2215857051" title="qq">qq</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-java/javaWeb基础之Listener&amp;Filter" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/02/27/java/javaWeb基础之Listener&Filter/" class="article-date">
  	<time datetime="2019-02-26T16:00:00.000Z" itemprop="datePublished">2019-02-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      监听器与过滤器
      
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javaWeb基础/">javaWeb基础</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/JavaWeb/">JavaWeb</a>
	</div>


        
          
<div class="counter-tag counter">
    <span id="/2019/02/27/java/javaWeb基础之Listener&Filter/" class="leancloud_visitors post-title-link"
          style="font-size: 12px" data-flag-title="监听器与过滤器">
         &nbsp;
        view
    </span>
</div>

        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Spring框架的IOC开发的两种模式，包括XML开发与注解开发的比较<br><a id="more"></a></p>
<h1 id="Listener-amp-Filter"><a href="#Listener-amp-Filter" class="headerlink" title="Listener  &amp; Filter"></a>Listener  &amp; Filter</h1><h2 id="Listener"><a href="#Listener" class="headerlink" title="Listener"></a>Listener</h2><blockquote>
<p>监听器</p>
</blockquote>
<ul>
<li>能做什么事？</li>
</ul>
<blockquote>
<p>监听某一个事件的发生。 状态的改变。</p>
</blockquote>
<ul>
<li>监听器的内部机制</li>
</ul>
<blockquote>
<p>其实就是接口回调.</p>
</blockquote>
<h4 id="接口回调"><a href="#接口回调" class="headerlink" title="接口回调"></a>接口回调</h4><ul>
<li>需求：</li>
</ul>
<blockquote>
<p>A在执行循环，当循环到5的时候， 通知B。</p>
</blockquote>
<blockquote>
<p>事先先把一个对象传递给 A ， 当A 执行到5的时候，通过这个对象，来调用B中的方法。 但是注意，不是直接传递B的实例，而是传递一个接口的实例过去。</p>
</blockquote>
<p><img src="/img/imgs/listener/1.png" alt=""></p>
<h3 id="Web监听器"><a href="#Web监听器" class="headerlink" title="Web监听器"></a>Web监听器</h3><blockquote>
<p>总共有8个 划分成<font color="red">三种类型</font></p>
</blockquote>
<p><strong>监听器使用：</strong></p>
<ol>
<li><p>定义一个类，实现接口</p>
</li>
<li><p>注册 | 配置监听器</p>
</li>
</ol>
<h4 id="1-监听三个作用域创建和销毁"><a href="#1-监听三个作用域创建和销毁" class="headerlink" title="1.监听三个作用域创建和销毁"></a>1.监听三个作用域创建和销毁</h4><p>request  —httpServletRequest</p>
<p>session  —httpSession</p>
<p>application  — ServletContext</p>
<pre><code>1. ServletContextListener

    servletcontext在什么时候创建？

        1. 启动服务器的时候

    servletContext销毁：

        2. 关闭服务器. 从服务器移除项目


2. ServletRequestListener

    request创建:

        访问服务器上的任意资源都会有请求出现。

        访问 html： 会
        访问 jsp:    会
        访问 servlet : 会


    request销毁：

        服务器已经对这次请求作出了响应。


        public class MyRequestListener implements ServletRequestListener {
                @Override
                public void requestDestroyed(ServletRequestEvent sre) {
                    System.out.println(&quot;servletrequest 销毁了&quot;);
                }

                @Override
                public void requestInitialized(ServletRequestEvent sre) {
                    System.out.println(&quot;servletrequest 初始化了&quot;);
                }
            }


          &lt;listener&gt;
              &lt;listener-class&gt;com.itheima.listener.MyRequestListener&lt;/listener-class&gt;
          &lt;/listener&gt;



3. HttpSessionListener

    session的创建
        只要调用getSession

        html:        不会
        jsp:        会      getSession();
        servlet:     会

    session的销毁
        超时  30分钟

        非正常关闭 销毁

        正常关闭服务器(序列化)

        public class MySessionListener implements HttpSessionListener {

            @Override
            public void sessionCreated(HttpSessionEvent se) {
                System.out.println(&quot;创建session了&quot;);
            }

            @Override
            public void sessionDestroyed(HttpSessionEvent se) {
                System.out.println(&quot;销毁session了&quot;);
            }
        }
</code></pre><p><strong>作用：</strong></p>
<pre><code>ServletContextListener

    利用它来，在servletcontext创建的时候，
        1. 完成自己想要的初始化工作

        2. 执行自定义任务调度。 执行某一个任务。 Timer  

HttpSessionListener

    统计在线人数.
</code></pre><h2 id="2-监听三个作用域属性状态变更"><a href="#2-监听三个作用域属性状态变更" class="headerlink" title="2.监听三个作用域属性状态变更"></a>2.监听三个作用域属性状态变更</h2><blockquote>
<p>可以监听在作用域中值 添加  | 替换  | 移除的动作。</p>
</blockquote>
<ul>
<li><p>servletContext — ServletContextAttributeListener<br><img src="/img/imgs/listener/3.png" alt=""></p>
</li>
<li><p>request — ServletRequestAttributeListener<br><img src="/img/imgs/listener/4.png" alt=""></p>
</li>
<li><p>session — HttpSessionAttributeListener<br><img src="/img/imgs/listener/2.png" alt=""></p>
</li>
</ul>
<h3 id="监听httpSession里面存值的状态变更"><a href="#监听httpSession里面存值的状态变更" class="headerlink" title="监听httpSession里面存值的状态变更"></a>监听httpSession里面存值的状态变更</h3><blockquote>
<p>这一类监听器不用注册。</p>
</blockquote>
<ul>
<li>HttpSessionBindingListener</li>
</ul>
<blockquote>
<p>监听对象与session 绑定和解除绑定 的动作    （就是监听这个值在不在session中）</p>
</blockquote>
<pre><code>1. 让javaBean 实现该接口即可

        @Override
        public void valueBound(HttpSessionBindingEvent event) {
            System.out.println(&quot;对象被绑定进来了&quot;);
        }

        @Override
        public void valueUnbound(HttpSessionBindingEvent event) {
            System.out.println(&quot;对象被解除绑定&quot;);
        }
</code></pre><ul>
<li>HttpSessionActivationListener</li>
</ul>
<blockquote>
<p>用于监听<font color="red">检测</font>现在session的值 是 钝化 （序列化）还是活化 （反序列化）的动作<br><strong>注意：serializable接口，标志着该类可以实现序列化与反序列化，要想该类能够实现序列化与反序列化，必须继承该类</strong></p>
</blockquote>
<ul>
<li>钝化 （序列化）</li>
</ul>
<blockquote>
<p>把内存中的数据 存储到硬盘上</p>
</blockquote>
<ul>
<li>活化 （反序列化）</li>
</ul>
<blockquote>
<p>把硬盘中的数据读取到内存中。</p>
</blockquote>
<ul>
<li>session的钝化活化的用意何在</li>
</ul>
<blockquote>
<p> session中的值可能会很多， 并且我们有很长一段时间不使用这个内存中的值， 那么可以考虑把session的值可以存储到硬盘上【钝化】，等下一次在使用的时候，在从硬盘上提取出来。 【活化】</p>
</blockquote>
<ul>
<li>如何让session的在一定时间内钝化.</li>
</ul>
<blockquote>
<p>做配置即可</p>
</blockquote>
<pre><code>1. 在tomcat里面 conf/context.xml 里面配置

        对所有的运行在这个服务器的项目生效  

2. 在conf/Catalina/localhost/context.xml 配置

        对 localhost生效。  localhost:8080

3. 在自己的web工程项目中的 META-INF/context.xml

        只对当前的工程生效。

    maxIdleSwap ： 1分钟不用就钝化
    directory ：  钝化后的那个文件存放的目录位置。

        D:\tomcat\apache-tomcat-7.0.52\work\Catalina\localhost\ListenerDemo\itheima

    &lt;Context&gt;
        &lt;Manager className=&quot;org.apache.catalina.session.PersistentManager&quot; maxIdleSwap=&quot;1&quot;&gt;
            &lt;Store className=&quot;org.apache.catalina.session.FileStore&quot; directory=&quot;itheima&quot;/&gt;
        &lt;/Manager&gt;
    &lt;/Context&gt;
</code></pre><h2 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h2><blockquote>
<p>过滤器 ， 其实就是对客户端发出来的请求进行过滤。 浏览器发出， 然后服务器派servlet处理。  在中间就可以过滤， 其实过滤器起到的是拦截的作用。</p>
</blockquote>
<ul>
<li><p>作用</p>
<ol>
<li>对一些敏感词汇进行过滤</li>
<li>统一设置编码</li>
<li><p>自动登录</p>
<p>…</p>
</li>
</ol>
</li>
</ul>
<h3 id="如何使用Filter"><a href="#如何使用Filter" class="headerlink" title="如何使用Filter"></a>如何使用Filter</h3><ol>
<li><p>定义一个类， 实现Filter</p>
<pre><code>public class FilterDemo implements Filter {

    public void destroy() {
    }

    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {
        System.out.println(&quot;来到过虑器了。。。&quot;);
        chain.doFilter(request, response);
    }

    public void init(FilterConfig fConfig) throws ServletException {
    }

}
</code></pre></li>
<li><p>注册过滤器</p>
</li>
</ol>
<blockquote>
<p>在web.xml里面注册，注册的手法与servlet基本一样。</p>
</blockquote>
<pre><code>    &lt;filter&gt;
  &lt;display-name&gt;FilterDemo&lt;/display-name&gt;
  &lt;filter-name&gt;FilterDemo&lt;/filter-name&gt;
  &lt;filter-class&gt;com.itheima.filter.FilterDemo&lt;/filter-class&gt;
&lt;/filter&gt;
&lt;filter-mapping&gt;
  &lt;filter-name&gt;FilterDemo&lt;/filter-name&gt;
  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;
</code></pre><h3 id="Filter的生命周期"><a href="#Filter的生命周期" class="headerlink" title="Filter的生命周期"></a>Filter的生命周期</h3><ul>
<li>创建</li>
</ul>
<blockquote>
<p>在服务器启动的时候就创建。</p>
</blockquote>
<ul>
<li>销毁</li>
</ul>
<blockquote>
<p>服务器停止的时候。</p>
</blockquote>
<p>###Filter执行顺序</p>
<ol>
<li><p>客户端发出请求，先经过过滤器， 如果过滤器放行，那么才能到servlet</p>
</li>
<li><p>如果有多个过滤器， 那么他们会按照注册的映射顺序 来 排队。 只要有一个过滤器， 不放行，那么后面排队的过滤器以及咱们的servlet都不会收到请求。</p>
</li>
</ol>
<h2 id="Filter细节："><a href="#Filter细节：" class="headerlink" title="Filter细节："></a>Filter细节：</h2><ol>
<li><p>init方法的参数 FilterConfig , 可以用于获取filter在注册的名字 以及初始化参数。  其实这里的设计的初衷与ServletConfig是一样的。</p>
</li>
<li><p>如果想放行，那么在doFilter 方法里面操作，使用参数 chain</p>
</li>
</ol>
<pre><code>chain.doFilter(request, response); 放行， 让请求到达下一个目标。
</code></pre><ol start="3">
<li><p><url-pattern>/*</url-pattern> 写法格式与servlet一样。</p>
<ol>
<li><p>全路径匹配  以 /  开始</p>
<pre><code>/LoginServlet
</code></pre></li>
<li><p>以目录匹配 以 / 开始  以 * 结束</p>
<p> /demo01/*  </p>
</li>
<li><p>以后缀名匹配  以 * 开始 以后缀名结束</p>
<p> <em>.jsp  </em>.html *.do</p>
</li>
</ol>
</li>
<li><p>针对 dispatcher 设置</p>
<pre><code>REQUEST ： 只要是请求过来，都拦截，默认就是REQUEST
FORWARD : 只要是转发都拦截。
ERROR ： 页面出错发生跳转
INCLUDE ： 包含页面的时候就拦截。
</code></pre></li>
</ol>
<h3 id="自动登录"><a href="#自动登录" class="headerlink" title="自动登录"></a>自动登录</h3><ul>
<li>需求分析</li>
</ul>
<p><img src="img/img05.png" alt="icon"></p>
<h4 id="1-搭建环境"><a href="#1-搭建环境" class="headerlink" title="1. 搭建环境"></a>1. 搭建环境</h4><ol>
<li><p>搭建数据库</p>
</li>
<li><p>搭建页面</p>
</li>
</ol>
<h3 id="登录servlet代码"><a href="#登录servlet代码" class="headerlink" title="登录servlet代码"></a>登录servlet代码</h3><pre><code>    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

    try {
        String userName = request.getParameter(&quot;username&quot;);
        String password = request.getParameter(&quot;password&quot;);
        String autoLogin = request.getParameter(&quot;auto_login&quot;);
        UserBean user = new UserBean();
        user.setUsername(userName);
        user.setPassword(password);

        UserDao dao = new UserDaoImpl();
        UserBean userBean = dao.login(user);

        if(userBean != null){
            //成功了，进入首页
            request.getSession().setAttribute(&quot;userBean&quot;, userBean);
            response.sendRedirect(&quot;index.jsp&quot;);
        }else{
            //不成功...
            request.getRequestDispatcher(&quot;login.jsp&quot;).forward(request, response);
        }

    } catch (SQLException e) {
        e.printStackTrace();
    }
}
</code></pre><h2 id="过滤器代码"><a href="#过滤器代码" class="headerlink" title="过滤器代码"></a>过滤器代码</h2><blockquote>
<p> 过滤器的核心不是完成拦截不给 ， 还是放行显示。 它的核心是在放行之前，帮用户完成登录的功能。</p>
</blockquote>
<ul>
<li>实现思路</li>
</ul>
<ol>
<li><p>先判断session是否有效， 如果有效，就不用取cookie了，直接放行。</p>
</li>
<li><p>如果session失效了，那么就取 cookie。</p>
<ol>
<li><p>没有cookie  放行</p>
</li>
<li><p>有cookie</p>
<pre><code>1. 取出来cookie的值，然后完成登录
2. 把这个用户的值存储到session中

3. 放行。

/**
 * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain)
 */
public void doFilter(ServletRequest req, ServletResponse response, FilterChain chain) throws IOException, ServletException {

try {
    HttpServletRequest request = (HttpServletRequest) req;

    //先判断，现在session中还有没有那个userBean.
    UserBean userBean = (UserBean) request.getSession().getAttribute(&quot;userBean&quot;);
    //还有，有效。
    if(userBean != null){
        chain.doFilter(request, response);
    }else{
        //代表session失效了。

        //2. 看cookie。

        //1. 来请求的时候，先从请求里面取出cookie , 但是cookie有很多的key-value
        Cookie[] cookies = request.getCookies();
        //2. 从一堆的cookie里面找出我们以前给浏览器发的那个cookie
        Cookie cookie = CookieUtil.findCookie(cookies, &quot;auto_login&quot;);

        //第一次来
        if(cookie  == null){
            chain.doFilter(request, response);
        }else{

            //不是第一次。

            String value = cookie.getValue();
            String username = value.split(&quot;#itheima#&quot;)[0];
            String password = value.split(&quot;#itheima#&quot;)[1];

            //完成登录
            UserBean user = new UserBean();
            user.setUsername(username);
            user.setPassword(password);

            UserDao dao = new UserDaoImpl();
            userBean = dao.login(user);

            //使用session存这个值到域中，方便下一次未过期前还可以用。
            request.getSession().setAttribute(&quot;userBean&quot;, userBean);

            chain.doFilter(request, response);
        }

    }

    } catch (Exception e) {
        e.printStackTrace();
        chain.doFilter(req, response);
    }
    }
</code></pre></li>
</ol>
</li>
</ol>
<h3 id="BeanUtils的使用"><a href="#BeanUtils的使用" class="headerlink" title="BeanUtils的使用"></a>BeanUtils的使用</h3><blockquote>
<p>BeanUtils.populate(bean, map);</p>
</blockquote>
<pre><code>//注册自己的日期转换器
ConvertUtils.register(new MyDateConverter(), Date.class);


//转化数据
Map map = request.getParameterMap();
UserBean bean = new UserBean();

转化map中的数据，放置到bean对象身上
BeanUtils.populate(bean, map);
</code></pre><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><h2 id="Listener-1"><a href="#Listener-1" class="headerlink" title="Listener"></a>Listener</h2><pre><code>8个

三种类型  
    针对三个作用域的创建和销毁
    针对三个作用域的值改变 【添加 | 替换 | 移除】
    针对session中的值 【钝化 活化】 ， 【绑定  解绑】

钝化 ( 序列化 )
    内存中的对象存储到硬盘

    超时失效。 session销毁了。

非正常关闭服务器， 钝化  。 正常关闭服务器 销毁

设置了session，多久时间。 context.xml


活化 (反序列化)
    从硬盘里面读取到内存
</code></pre><p>ServletContextListner  ： 应用被部署的时候， 服务器加载这个项目的时候，做一些初始化工作， 任务调度。<br>HttpSessionListener    ： 统计在线人数<br>HttpSessionActivationListener  ： 钝化活化处理</p>
<p>##Filter</p>
<blockquote>
<p>使用频率更高</p>
</blockquote>
<ul>
<li>如果要写一个过滤器。</li>
</ul>
<blockquote>
<ol>
<li>定义一个类，实现接口 Filter</li>
</ol>
</blockquote>
<blockquote>
<ol start="2">
<li>注册 . web.xml . 与servlet相似。</li>
</ol>
</blockquote>
<ul>
<li>过滤器放行。</li>
</ul>
<blockquote>
<p>chain.doFilter(request, response);</p>
</blockquote>
<ul>
<li><p>过滤器生命周期</p>
<p>  创建： 服务器加载这个项目的时候创建实例</p>
<p>  销毁： 关闭服务器或者从服务器中移除项目的时候。</p>
</li>
</ul>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/02/28/java/javaWeb基础之域对象/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          四大域对象
        
      </div>
    </a>
  
  
    <a href="/2019/02/25/java/Spring学习(1)/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Spring学习日志（1）</div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>


<div class="ds-share share" data-thread-key="java/javaWeb基础之Listener&amp;Filter" data-title="监听器与过滤器" data-url="http://SlectRxz.github.io/2019/02/27/java/javaWeb基础之Listener&amp;Filter/"  data-images="img/1.jpg" data-content="监听器与过滤器">
    <div class="ds-share-inline">
      <ul  class="ds-share-icons-16">
      	<li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
        <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
        <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
        <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
        <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>
      </ul>
      <div class="ds-share-icons-more">
      </div>
    </div>
 </div>
 





</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2019 Rong
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/smackgg/hexo-theme-smackdown" target="_blank">Smackdown</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="/js/main.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js"></script>


  </div>
</body>
</html>