<!DOCTYPE html><html data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>Spring学习日志（2） | 荣先森</title><meta name="description" content="Spring学习日志（2）"><meta name="keywords" content="框架学习"><meta name="author" content="Rong"><meta name="copyright" content="Rong"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/1.jpg"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Spring学习日志（2）"><meta name="twitter:description" content="Spring学习日志（2）"><meta name="twitter:image" content="https://s2.ax1x.com/2019/12/20/QXMxVs.jpg"><meta property="og:type" content="article"><meta property="og:title" content="Spring学习日志（2）"><meta property="og:url" content="http://SlectRxz.github.io/2019/03/20/java/Spring学习(2)/"><meta property="og:site_name" content="荣先森"><meta property="og:description" content="Spring学习日志（2）"><meta property="og:image" content="https://s2.ax1x.com/2019/12/20/QXMxVs.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="http://SlectRxz.github.io/2019/03/20/java/Spring学习(2)/"><link rel="prev" title="MySql连接异常解决" href="http://SlectRxz.github.io/2019/03/24/java基础/MySql/"><link rel="next" title="数据库连接池以及JDBUtils使用" href="http://SlectRxz.github.io/2019/03/06/java基础/JDBC/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://blog.csdn.net/qq_36639232","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: true,
  fancybox: true,
  Snackbar: {"bookmark":{"title":"Snackbar.bookmark.title","message_prev":"Press","message_next":"to bookmark this page"},"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Light Mode Activated Manually","night_to_day":"Dark Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script></head><body><canvas class="fireworks"></canvas><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">荣先森</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">46</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">12</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">11</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">Catalog</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Spring（1）回顾"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">Spring（1）回顾</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Spring的基于ApspectJ的注解的AOP开发"><span class="toc_mobile_items-number"></span> <span class="toc_mobile_items-text">Spring的基于ApspectJ的注解的AOP开发</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#1-1创建项目，导入jar包"><span class="toc_mobile_items-number">0.1.</span> <span class="toc_mobile_items-text">1.1创建项目，导入jar包</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#1-2引入配置文件"><span class="toc_mobile_items-number">0.2.</span> <span class="toc_mobile_items-text">1.2引入配置文件</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#1-3编写目标类并配置"><span class="toc_mobile_items-number">0.3.</span> <span class="toc_mobile_items-text">1.3编写目标类并配置</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#1-4编写切面类并配置"><span class="toc_mobile_items-number">0.4.</span> <span class="toc_mobile_items-text">1.4编写切面类并配置</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#1-5编写测试类"><span class="toc_mobile_items-number">0.5.</span> <span class="toc_mobile_items-text">1.5编写测试类</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#2-Spring的注解的AOP通知类型"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">2.Spring的注解的AOP通知类型</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#2-1-Befor前置通知"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">2.1@Befor前置通知</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#2-2-AfterReturning后置通知"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">2.2@AfterReturning后置通知</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#2-3-Around环绕通知"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">2.3@Around环绕通知</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#2-4-AfterThrowing：异常抛出通知"><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text">2.4@AfterThrowing：异常抛出通知</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#2-5-After最终通知"><span class="toc_mobile_items-number">1.5.</span> <span class="toc_mobile_items-text">2.5@After最终通知</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#3-Spring的注解AOP切入点的配置"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">3.Spring的注解AOP切入点的配置</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#3-1Spring的AOP的注解切入点的配置"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">3.1Spring的AOP的注解切入点的配置</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#4-Spring的JDBC模板的使用"><span class="toc_mobile_items-number"></span> <span class="toc_mobile_items-text">4.Spring的JDBC模板的使用</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-1如何使用"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">4.1如何使用</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#4-1-1-导入jar包"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">4.1.1 导入jar包</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#4-1-2-使用Spring提供的JDBC模板"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">4.1.2 使用Spring提供的JDBC模板</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#4-1-3-把连接池和模板交给Spring管理"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">4.1.3 把连接池和模板交给Spring管理</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#4-1-4编写测试类"><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text">4.1.4编写测试类</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#4-2抽取配置信息到属性文件"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">4.2抽取配置信息到属性文件</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#4-2-1-定义一个属性文件"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">4.2.1 定义一个属性文件</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#4-2-2-如何在Spring的配追文件（XML）中引入属性文件"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">4.2.2 如何在Spring的配追文件（XML）中引入属性文件</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#4-2-3-对应在配置文件中的写法"><span class="toc_mobile_items-number">2.3.</span> <span class="toc_mobile_items-text">4.2.3 对应在配置文件中的写法</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring（1）回顾"><span class="toc-number">1.</span> <span class="toc-text">Spring（1）回顾</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring的基于ApspectJ的注解的AOP开发"><span class="toc-number"></span> <span class="toc-text">Spring的基于ApspectJ的注解的AOP开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1创建项目，导入jar包"><span class="toc-number">0.1.</span> <span class="toc-text">1.1创建项目，导入jar包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2引入配置文件"><span class="toc-number">0.2.</span> <span class="toc-text">1.2引入配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3编写目标类并配置"><span class="toc-number">0.3.</span> <span class="toc-text">1.3编写目标类并配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4编写切面类并配置"><span class="toc-number">0.4.</span> <span class="toc-text">1.4编写切面类并配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5编写测试类"><span class="toc-number">0.5.</span> <span class="toc-text">1.5编写测试类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Spring的注解的AOP通知类型"><span class="toc-number">1.</span> <span class="toc-text">2.Spring的注解的AOP通知类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-Befor前置通知"><span class="toc-number">1.1.</span> <span class="toc-text">2.1@Befor前置通知</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-AfterReturning后置通知"><span class="toc-number">1.2.</span> <span class="toc-text">2.2@AfterReturning后置通知</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-Around环绕通知"><span class="toc-number">1.3.</span> <span class="toc-text">2.3@Around环绕通知</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-AfterThrowing：异常抛出通知"><span class="toc-number">1.4.</span> <span class="toc-text">2.4@AfterThrowing：异常抛出通知</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-5-After最终通知"><span class="toc-number">1.5.</span> <span class="toc-text">2.5@After最终通知</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Spring的注解AOP切入点的配置"><span class="toc-number">2.</span> <span class="toc-text">3.Spring的注解AOP切入点的配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1Spring的AOP的注解切入点的配置"><span class="toc-number">2.1.</span> <span class="toc-text">3.1Spring的AOP的注解切入点的配置</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Spring的JDBC模板的使用"><span class="toc-number"></span> <span class="toc-text">4.Spring的JDBC模板的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1如何使用"><span class="toc-number">1.</span> <span class="toc-text">4.1如何使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-导入jar包"><span class="toc-number">1.1.</span> <span class="toc-text">4.1.1 导入jar包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-2-使用Spring提供的JDBC模板"><span class="toc-number">1.2.</span> <span class="toc-text">4.1.2 使用Spring提供的JDBC模板</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-3-把连接池和模板交给Spring管理"><span class="toc-number">1.3.</span> <span class="toc-text">4.1.3 把连接池和模板交给Spring管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-4编写测试类"><span class="toc-number">1.4.</span> <span class="toc-text">4.1.4编写测试类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2抽取配置信息到属性文件"><span class="toc-number">2.</span> <span class="toc-text">4.2抽取配置信息到属性文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-1-定义一个属性文件"><span class="toc-number">2.1.</span> <span class="toc-text">4.2.1 定义一个属性文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-2-如何在Spring的配追文件（XML）中引入属性文件"><span class="toc-number">2.2.</span> <span class="toc-text">4.2.2 如何在Spring的配追文件（XML）中引入属性文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-3-对应在配置文件中的写法"><span class="toc-number">2.3.</span> <span class="toc-text">4.2.3 对应在配置文件中的写法</span></a></li></ol></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://s2.ax1x.com/2019/12/20/QXMxVs.jpg)"><div id="post-info"><div id="post-title"><div class="posttitle">Spring学习日志（2）</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> Created 2019-03-20<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> Updated 2019-12-20</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/JavaWeb/">JavaWeb</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>Post View:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><p>Spring框架的AOP的注解开发，SpringJDBC模板的使用<br><a id="more"></a></p>
<h3 id="Spring（1）回顾"><a href="#Spring（1）回顾" class="headerlink" title="Spring（1）回顾"></a>Spring（1）回顾</h3><ul>
<li>Spring的IOC的注解开发<ul>
<li>注解的入门<ul>
<li>引入aop的包</li>
<li>引入context约束<ul>
<li>开启扫描类上的注解&lt;context:component-scan /&gt;    </li>
<li>开启扫描方法、成员上的注解&lt;<a href="context:annotation-config/" target="_blank" rel="noopener">context:annotation-config/</a>&gt;</li>
</ul>
<ul>
<li>使用注解开发</li>
</ul>
<ul>
<li>@Component        ：定义Bean</li>
<li>@Controller    ：WEB层</li>
<li>@Service        ：Service层</li>
<li>@Repository    ：DAO层</li>
</ul>
</li>
<li>属性注入：<ul>
<li>普通属性    ：@Value</li>
<li>对象属性    ：@Resource  不是Spring中的<ul>
<li>@Autowired    ：按类型注入属性，按名称@Qulifier</li>
</ul>
</li>
<li>XML方式和注解方式比较</li>
<li>XML方式    ：适用性更广，结构更加清晰。</li>
<li>注解方式    ：适用类是自己定义，开发更方便。</li>
<li>XML和注解的整合开发（重点）</li>
<li>XML定义类</li>
<li>注解属性注入</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>Spring的AOP的基于AspectJ的XML的开发</p>
<ul>
<li><p>AOP的概述</p>
<ul>
<li>AOP：面向切面编程，是OOP的扩展和延伸，是用来解决OOP遇到问题。<ul>
<li>Spring的AOP</li>
</ul>
</li>
<li>底层的实现<ul>
<li>JDK的动态代理<ul>
<li>Cglib的动态代理</li>
</ul>
</li>
<li>AOP的相关术语</li>
<li>连接点：可以被拦截的点。</li>
<li>切入点：真正被拦截的点。</li>
<li>通知：增强方法</li>
<li>引介：类的增强</li>
<li>目标：被增强的对象</li>
<li>织入：将增强应用到目标的过程。</li>
<li>代理：织入增强后产生的对象</li>
<li>切面：切入点和通知的组合</li>
<li>AOP的入门开发</li>
</ul>
</li>
<li>引入jar包</li>
<li>编写目标类并配置</li>
<li>编写切面类并配置</li>
<li>进行aop的配置<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;aop:config&gt;</span><br><span class="line">    &lt;aop:pointcut expression=”execution(表达式)” id=”pc1”/&gt;</span><br><span class="line">    &lt;aop:aspect &gt;</span><br><span class="line">    	&lt;aop:before method=”” pointcut-ref=”pc1”/&gt;</span><br><span class="line">    &lt;/aop:aspect&gt;</span><br><span class="line">&lt;/aop:config&gt;</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
</li>
<li><p>通知类型</p>
<ul>
<li>前置通知<ul>
<li>后置通知</li>
<li>环绕通知</li>
<li>异常抛出通知</li>
<li>最终通知</li>
<li>切入点表达式写法<h2 id="Spring的基于ApspectJ的注解的AOP开发"><a href="#Spring的基于ApspectJ的注解的AOP开发" class="headerlink" title="Spring的基于ApspectJ的注解的AOP开发"></a>Spring的基于ApspectJ的注解的AOP开发</h2>###1. 实现步骤<h4 id="1-1创建项目，导入jar包"><a href="#1-1创建项目，导入jar包" class="headerlink" title="1.1创建项目，导入jar包"></a>1.1创建项目，导入jar包</h4><a href="/img/imgs/Spring/7.png" data-fancybox="group" data-caption="引入的四个jar包" class="fancybox"><img src="/img/imgs/Spring/7.png" alt="引入的四个jar包" title="引入的四个jar包" class="mediumZoom"></a><h4 id="1-2引入配置文件"><a href="#1-2引入配置文件" class="headerlink" title="1.2引入配置文件"></a>1.2引入配置文件</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">	xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">	xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;</span><br><span class="line">	xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;</span><br><span class="line">	xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br><span class="line">	http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">	http://www.springframework.org/schema/context</span><br><span class="line">	http://www.springframework.org/schema/context/spring-context.xsd</span><br><span class="line">	http://www.springframework.org/schema/aop</span><br><span class="line">	http://www.springframework.org/schema/aop/spring-aop.xsd</span><br><span class="line">	http://www.springframework.org/schema/tx</span><br><span class="line">	http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;事务管理</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="1-3编写目标类并配置"><a href="#1-3编写目标类并配置" class="headerlink" title="1.3编写目标类并配置"></a>1.3编写目标类并配置</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean id=&quot;orderDao&quot; class=&quot;Spring.demo2.OrderDao&quot;&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure></div>
<p>也可以直接使用类上注解的方式，此时开启类上注解扫描</p>
<blockquote>
<p>&lt;context:component-scan base-package=”Spring.demo2”&gt;&lt;/context:component-scan&gt;</p>
</blockquote>
<h4 id="1-4编写切面类并配置"><a href="#1-4编写切面类并配置" class="headerlink" title="1.4编写切面类并配置"></a>1.4编写切面类并配置</h4><blockquote>
<p>说明：<br>1.需要在类上配置@Aspect，说明这是一个切面类<br>2.在方法上配置如何增强，中的属性会告诉你Spring在哪个方法上的哪个类上应用增强。<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package Spring.demo2;</span><br><span class="line"></span><br><span class="line">import org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line">import org.aspectj.lang.annotation.AfterReturning;</span><br><span class="line">import org.aspectj.lang.annotation.Around;</span><br><span class="line">import org.aspectj.lang.annotation.Aspect;</span><br><span class="line">import org.aspectj.lang.annotation.Before;</span><br><span class="line">import org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line">@Component(value=&quot;myAspect&quot;)</span><br><span class="line">@Aspect</span><br><span class="line">public class MyAspect &#123;</span><br><span class="line">	@Before(value=&quot;execution(* Spring.demo2.OrderDao.add(..))&quot;)</span><br><span class="line">	public void befor()&#123;</span><br><span class="line">		System.out.println(&quot;----------前置增强-----&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	//可以获取被增强方法的返回值，注意两个result必须相同</span><br><span class="line">	@AfterReturning(value=&quot;execution(* Spring.demo2.OrderDao.delete(..))&quot;,returning=&quot;result&quot;)</span><br><span class="line">	public void after(Object result)&#123;</span><br><span class="line">		System.out.println(&quot;-------后置增强-----&quot;+result);</span><br><span class="line">	&#125;</span><br><span class="line">	@Around(value=&quot;execution(* Spring.demo2.OrderDao.update(..))&quot;)</span><br><span class="line">	public Object around(ProceedingJoinPoint joinPoint) throws Throwable&#123;</span><br><span class="line">		System.out.println(&quot;-------环绕前增强------&quot;);</span><br><span class="line">		Object proceed = joinPoint.proceed();</span><br><span class="line">		System.out.println(&quot;----环绕后增强-------&quot;);</span><br><span class="line">		return proceed;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></p>
</blockquote>
<h4 id="1-5编写测试类"><a href="#1-5编写测试类" class="headerlink" title="1.5编写测试类"></a>1.5编写测试类</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package Spring.demo2;</span><br><span class="line"></span><br><span class="line">import javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line">import org.junit.runner.RunWith;</span><br><span class="line">import org.springframework.test.context.ContextConfiguration;</span><br><span class="line">import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line">/**</span><br><span class="line"> * Spring的AOP的基于AspectJ注解开发</span><br><span class="line"> * 注意事项：</span><br><span class="line"> * 	1.导包</span><br><span class="line"> * 	2.导入XML中的配置文件</span><br><span class="line"> * 	3.在XML中开启AOP注解开发&lt;aop:aspectj-autoproxy/&gt;</span><br><span class="line"> * 	4.扫描类上的注解&lt;context:component-scan base-package=&quot;Spring.demo2&quot;&gt;&lt;/context:component-scan&gt;</span><br><span class="line"> * 		或者 &lt;context:annotation-config/&gt;</span><br><span class="line">		在没有扫描的情况下，使用注解  @Resource @value、@Autowired、@Qulifier</span><br><span class="line"> * @author rong</span><br><span class="line"> *</span><br><span class="line"> */</span><br><span class="line">@RunWith(SpringJUnit4ClassRunner.class)//固定写法</span><br><span class="line">@ContextConfiguration(&quot;classpath:applicationContextAop.xml&quot;)</span><br><span class="line">public class Test &#123;</span><br><span class="line">	@Resource(name=&quot;OrderDao&quot;)</span><br><span class="line">	private OrderDao orderDao;</span><br><span class="line">	@org.junit.Test</span><br><span class="line">	public void test1()&#123;</span><br><span class="line">		orderDao.find();</span><br><span class="line">		orderDao.add();</span><br><span class="line">		orderDao.delete();</span><br><span class="line">		orderDao.update();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="2-Spring的注解的AOP通知类型"><a href="#2-Spring的注解的AOP通知类型" class="headerlink" title="2.Spring的注解的AOP通知类型"></a>2.Spring的注解的AOP通知类型</h3><h4 id="2-1-Befor前置通知"><a href="#2-1-Befor前置通知" class="headerlink" title="2.1@Befor前置通知"></a>2.1@Befor前置通知</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">@Before(value=&quot;execution(* Spring.demo2.OrderDao.add(..))&quot;)</span><br><span class="line">	public void befor()&#123;</span><br><span class="line">		System.out.println(&quot;----------前置增强-----&quot;);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="2-2-AfterReturning后置通知"><a href="#2-2-AfterReturning后置通知" class="headerlink" title="2.2@AfterReturning后置通知"></a>2.2@AfterReturning后置通知</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//可以获取被增强方法的返回值，注意两个result必须相同</span><br><span class="line">	@AfterReturning(value=&quot;execution(* Spring.demo2.OrderDao.delete(..))&quot;,returning=&quot;result&quot;)</span><br><span class="line">	public void after(Object result)&#123;</span><br><span class="line">		System.out.println(&quot;-------后置增强-----&quot;+result);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="2-3-Around环绕通知"><a href="#2-3-Around环绕通知" class="headerlink" title="2.3@Around环绕通知"></a>2.3@Around环绕通知</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//注意：写方法的时候需要返回一个Object,返回的是被增强的方法</span><br><span class="line">@Around(value=&quot;execution(* Spring.demo2.OrderDao.update(..))&quot;)</span><br><span class="line">	public Object around(ProceedingJoinPoint joinPoint) throws Throwable&#123;</span><br><span class="line">		System.out.println(&quot;-------环绕前增强------&quot;);</span><br><span class="line">		Object proceed = joinPoint.proceed();</span><br><span class="line">		System.out.println(&quot;----环绕后增强-------&quot;);</span><br><span class="line">		return proceed;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></div>
<h4 id="2-4-AfterThrowing：异常抛出通知"><a href="#2-4-AfterThrowing：异常抛出通知" class="headerlink" title="2.4@AfterThrowing：异常抛出通知"></a>2.4@AfterThrowing：异常抛出通知</h4><p><a href="/img/imgs/Spring/8.png" data-fancybox="group" data-caption="异常抛出通知" class="fancybox"><img src="/img/imgs/Spring/8.png" alt="异常抛出通知" title="异常抛出通知" class="mediumZoom"></a></p>
<h4 id="2-5-After最终通知"><a href="#2-5-After最终通知" class="headerlink" title="2.5@After最终通知"></a>2.5@After最终通知</h4><p><a href="/img/imgs/Spring/9.png" data-fancybox="group" data-caption="最终通知" class="fancybox"><img src="/img/imgs/Spring/9.png" alt="最终通知" title="最终通知" class="mediumZoom"></a></p>
<h3 id="3-Spring的注解AOP切入点的配置"><a href="#3-Spring的注解AOP切入点的配置" class="headerlink" title="3.Spring的注解AOP切入点的配置"></a>3.Spring的注解AOP切入点的配置</h3><blockquote>
<p>使用情景：假设在同一个方法上我需要进行多个通知，那么比较麻烦的是我需要在每个方法上都配置，但是如果有一天我增强的方法改了，导致我 需要在每个方法上都进行修改配置</p>
</blockquote>
<h4 id="3-1Spring的AOP的注解切入点的配置"><a href="#3-1Spring的AOP的注解切入点的配置" class="headerlink" title="3.1Spring的AOP的注解切入点的配置"></a>3.1Spring的AOP的注解切入点的配置</h4><p><a href="/img/imgs/Spring/10.png" data-fancybox="group" data-caption="切入点注解" class="fancybox"><img src="/img/imgs/Spring/10.png" alt="切入点注解" title="切入点注解" class="mediumZoom"></a></p>
<h2 id="4-Spring的JDBC模板的使用"><a href="#4-Spring的JDBC模板的使用" class="headerlink" title="4.Spring的JDBC模板的使用"></a>4.Spring的JDBC模板的使用</h2><blockquote>
<p>Spring是EE开发的一站式的框架，有EE开发的每层的解决方案。Spring对持久层也提供了解决方案：ORM模块和JDBC的模板。<br>Spring提供了很多的模板用于简化开发</p>
</blockquote>
<h3 id="4-1如何使用"><a href="#4-1如何使用" class="headerlink" title="4.1如何使用"></a>4.1如何使用</h3><blockquote>
<p>以下使用分为以下几步：<br>1.导入jar包<br>2.准备数据库。<br>3.使用JDBC模板保存数据<br>4.将连接池和模板类交给Spring管理<br>5.编写测试类</p>
</blockquote>
<h4 id="4-1-1-导入jar包"><a href="#4-1-1-导入jar包" class="headerlink" title="4.1.1 导入jar包"></a>4.1.1 导入jar包</h4><p><a href="/img/imgs/Spring/11.png" data-fancybox="group" data-caption="Spring中JDBC模板的jar包" class="fancybox"><img src="/img/imgs/Spring/11.png" alt="Spring中JDBC模板的jar包" title="Spring中JDBC模板的jar包" class="mediumZoom"></a></p>
<h4 id="4-1-2-使用Spring提供的JDBC模板"><a href="#4-1-2-使用Spring提供的JDBC模板" class="headerlink" title="4.1.2 使用Spring提供的JDBC模板"></a>4.1.2 使用Spring提供的JDBC模板</h4><blockquote>
<p>核心类：JdbcTemplate jdbc=new JdbcTemplate(dataSource);<br><strong>注意：</strong> 需要传入的是一个连接池对象，也支持无参的构造方法，可以使用jdbc.setDataSource(dataSource)配置。<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">//1.不使用Spring管理</span><br><span class="line">	@Test</span><br><span class="line">	public void test1()&#123;</span><br><span class="line">		//获取连接池（Spring自带的一个）</span><br><span class="line">		DriverManagerDataSource dataSource = new DriverManagerDataSource();</span><br><span class="line">		dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">		dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/student&quot;);</span><br><span class="line">		dataSource.setUsername(&quot;root&quot;);</span><br><span class="line">		dataSource.setPassword(&quot;root&quot;);</span><br><span class="line">		//创建JDBC模板</span><br><span class="line">		JdbcTemplate jdbc=new JdbcTemplate(dataSource);</span><br><span class="line">		jdbc.update(&quot;insert into stu values (?,?,?,?)&quot;,101,&quot;张大胖1&quot;,&quot;男&quot;,25);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></div></p>
</blockquote>
<h4 id="4-1-3-把连接池和模板交给Spring管理"><a href="#4-1-3-把连接池和模板交给Spring管理" class="headerlink" title="4.1.3 把连接池和模板交给Spring管理"></a>4.1.3 把连接池和模板交给Spring管理</h4><blockquote>
<p><strong>说明：</strong> 一直我都在想，所谓的交给Spring管理，意思就是把那些需要我们new的对象用注解去代替new的过程。<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">	xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">	xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;</span><br><span class="line">	xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;</span><br><span class="line">	xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br><span class="line">	http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">	http://www.springframework.org/schema/context</span><br><span class="line">	http://www.springframework.org/schema/context/spring-context.xsd</span><br><span class="line">	http://www.springframework.org/schema/aop</span><br><span class="line">	http://www.springframework.org/schema/aop/spring-aop.xsd</span><br><span class="line">	http://www.springframework.org/schema/tx</span><br><span class="line">	http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;</span><br><span class="line">	 &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;</span><br><span class="line">		&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;</span><br><span class="line">		&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/student&quot;&gt;&lt;/property&gt;</span><br><span class="line">		&lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;</span><br><span class="line">		&lt;property name=&quot;password&quot; value=&quot;root&quot;&gt;&lt;/property&gt;</span><br><span class="line">	&lt;/bean&gt;	 </span><br><span class="line">	&lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;</span><br><span class="line">		&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></div></p>
</blockquote>
<h4 id="4-1-4编写测试类"><a href="#4-1-4编写测试类" class="headerlink" title="4.1.4编写测试类"></a>4.1.4编写测试类</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package SpringJDBC.demo3;</span><br><span class="line"></span><br><span class="line">import javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line">import org.junit.Test;</span><br><span class="line">import org.junit.runner.RunWith;</span><br><span class="line">import org.springframework.jdbc.core.JdbcTemplate;</span><br><span class="line">import org.springframework.jdbc.datasource.DriverManagerDataSource;</span><br><span class="line">import org.springframework.test.context.ContextConfiguration;</span><br><span class="line">import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line">import com.mchange.v2.c3p0.ComboPooledDataSource;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 使用Spring提供的JDBC模板</span><br><span class="line"> * Spring提供的JDBC模板核心类：</span><br><span class="line"> *	JdbcTemplate jdbc=new JdbcTemplate(dataSource);</span><br><span class="line"> * 其中连接池的核心类：</span><br><span class="line"> * 1.Spring提供的连接池</span><br><span class="line"> * DriverManagerDataSource dataSource = new DriverManagerDataSource();</span><br><span class="line"> * 2.c3p0连接池</span><br><span class="line"> * ComboPooledDataSource dataSource2 = new ComboPooledDataSource();</span><br><span class="line"> * 3.DBCP连接池</span><br><span class="line"> * new BasicDataSource();</span><br><span class="line"> * @author rong</span><br><span class="line"> *</span><br><span class="line"> */</span><br><span class="line">@RunWith(SpringJUnit4ClassRunner.class)</span><br><span class="line">@ContextConfiguration(&quot;classpath:applicationContextJDBC.xml&quot;)</span><br><span class="line">public class JDBCTest &#123;</span><br><span class="line">	//1.不使用Spring管理</span><br><span class="line">	@Test</span><br><span class="line">	public void test1()&#123;</span><br><span class="line">		//获取连接池（Spring自带的一个）</span><br><span class="line">		DriverManagerDataSource dataSource = new DriverManagerDataSource();</span><br><span class="line">		dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);</span><br><span class="line">		dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/student&quot;);</span><br><span class="line">		dataSource.setUsername(&quot;root&quot;);</span><br><span class="line">		dataSource.setPassword(&quot;root&quot;);</span><br><span class="line"></span><br><span class="line">		//创建JDBC模板</span><br><span class="line">		JdbcTemplate jdbc=new JdbcTemplate(dataSource);</span><br><span class="line">		jdbc.update(&quot;insert into stu values (?,?,?,?)&quot;,101,&quot;张大胖1&quot;,&quot;男&quot;,25);</span><br><span class="line">	&#125;</span><br><span class="line">	//2.将其交给Spring管理</span><br><span class="line">	//说明：那个类需要new的时候，就可以把这个类交给Spring管理，不需要自己去new</span><br><span class="line">	@Resource(name=&quot;jdbcTemplate&quot;)</span><br><span class="line">	private JdbcTemplate jdbcTemplate;</span><br><span class="line">	@Test</span><br><span class="line">	public void test2()&#123;</span><br><span class="line">		jdbcTemplate.update(&quot;insert into stu values (?,?,?,?)&quot;,103,&quot;张大胖3&quot;,&quot;男&quot;,25);</span><br><span class="line">	&#125;</span><br><span class="line">	//3.使用c3p0连接池</span><br><span class="line">	/**</span><br><span class="line">	 * 导包</span><br><span class="line">	 * 有使用配置文件和不使用配置文件两种方式</span><br><span class="line">	 */</span><br><span class="line">	@Test</span><br><span class="line">	public void test3()&#123;</span><br><span class="line">		jdbcTemplate.update(&quot;insert into stu values (?,?,?,?)&quot;,105,&quot;张大胖5&quot;,&quot;男&quot;,25);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<h3 id="4-2抽取配置信息到属性文件"><a href="#4-2抽取配置信息到属性文件" class="headerlink" title="4.2抽取配置信息到属性文件"></a>4.2抽取配置信息到属性文件</h3><blockquote>
<p><strong>使用场景：</strong> 在实际开发中，将配置文件的参数单独放在一个配置文件，在XML文件中再将其引入进来 ，username，password</p>
</blockquote>
<h4 id="4-2-1-定义一个属性文件"><a href="#4-2-1-定义一个属性文件" class="headerlink" title="4.2.1 定义一个属性文件"></a>4.2.1 定义一个属性文件</h4><blockquote>
<p>创建一个properties的文件<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">jdbc.driverClass=com.mysql.jdbc.Driver</span><br><span class="line">jdbc.url=jdbc:mysql://localhost:3306/student</span><br><span class="line">jdbc.username=root</span><br><span class="line">jdbc.password=root</span><br></pre></td></tr></table></figure></div></p>
</blockquote>
<h4 id="4-2-2-如何在Spring的配追文件（XML）中引入属性文件"><a href="#4-2-2-如何在Spring的配追文件（XML）中引入属性文件" class="headerlink" title="4.2.2 如何在Spring的配追文件（XML）中引入属性文件"></a>4.2.2 如何在Spring的配追文件（XML）中引入属性文件</h4><blockquote>
<p>有两种方式<br>1.(用的少)<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;</span><br><span class="line">    &lt;property name=&quot;location&quot; value=&quot;classpath:properties&quot;/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure></div></p>
</blockquote>
<p>2.(常用)<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;context:property-placeholder location=&quot;classpath:db.properties&quot;/&gt;</span><br></pre></td></tr></table></figure></div></p>
<blockquote>
<p>就会去加载类路径下的属性文件了，我猜测是放在域对象中，后面直接${key}取出。</p>
</blockquote>
<h4 id="4-2-3-对应在配置文件中的写法"><a href="#4-2-3-对应在配置文件中的写法" class="headerlink" title="4.2.3 对应在配置文件中的写法"></a>4.2.3 对应在配置文件中的写法</h4><blockquote>
<p>注意property中的value的写法<br><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">	xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">	xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;</span><br><span class="line">	xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;</span><br><span class="line">	xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br><span class="line">	http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">	http://www.springframework.org/schema/context</span><br><span class="line">	http://www.springframework.org/schema/context/spring-context.xsd</span><br><span class="line">	http://www.springframework.org/schema/aop</span><br><span class="line">	http://www.springframework.org/schema/aop/spring-aop.xsd</span><br><span class="line">	http://www.springframework.org/schema/tx</span><br><span class="line">	http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;</span><br><span class="line">	&lt;context:property-placeholder location=&quot;classpath:db.properties&quot;/&gt;</span><br><span class="line">	&lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;</span><br><span class="line">		&lt;property name=&quot;driverClass&quot; value=&quot;$&#123;jdbc.driverClass&#125;&quot;&gt;&lt;/property&gt;</span><br><span class="line">		&lt;property name=&quot;jdbcUrl&quot; value=&quot;$&#123;jdbc.url&#125;&quot;&gt;&lt;/property&gt;</span><br><span class="line">		&lt;property name=&quot;user&quot; value=&quot;$&#123;jdbc.username&#125;&quot;&gt;&lt;/property&gt;</span><br><span class="line">		&lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;&gt;&lt;/property&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line">	&lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;</span><br><span class="line">		&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></div></p>
</blockquote>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Rong</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://SlectRxz.github.io/2019/03/20/java/Spring学习(2)/">http://SlectRxz.github.io/2019/03/20/java/Spring学习(2)/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/框架学习/">框架学习    </a></div><div class="post_share"><div class="social-share" data-image="https://s2.ax1x.com/2019/12/20/QXMxVs.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.jpg" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2019/03/24/java基础/MySql/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Previous Post</div><div class="prev_info"><span>MySql连接异常解决</span></div></a></div><div class="next-post pull_right"><a href="/2019/03/06/java基础/JDBC/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">Next Post</div><div class="next_info"><span>数据库连接池以及JDBUtils使用</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> Recommend</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2019/04/04/java/MyBatis学习(1)/" title="MyBatis学习（1）"><img class="relatedPosts_cover lazyload"data-src="https://s2.ax1x.com/2019/12/20/QXMjbj.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-10</div><div class="relatedPosts_title">MyBatis学习（1）</div></div></a></div><div class="relatedPosts_item"><a href="/2019/04/12/java/MyBatis逆向工程/" title="MyBatis逆向工程"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-10</div><div class="relatedPosts_title">MyBatis逆向工程</div></div></a></div><div class="relatedPosts_item"><a href="/2019/04/15/java/Mybatis与Spring整合/" title="MyBatis整合Spring"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-10</div><div class="relatedPosts_title">MyBatis整合Spring</div></div></a></div><div class="relatedPosts_item"><a href="/2019/04/19/java/SpringMVC(1)/" title="SpringMVC学习日志（1）"><img class="relatedPosts_cover lazyload"data-src="https://s2.ax1x.com/2019/12/20/QXMzan.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-10</div><div class="relatedPosts_title">SpringMVC学习日志（1）</div></div></a></div><div class="relatedPosts_item"><a href="/2019/04/10/java/Mybatis学习(2)/" title="MyBatis学习（2）"><img class="relatedPosts_cover lazyload"data-src="https://s2.ax1x.com/2019/12/20/QXMjbj.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-10</div><div class="relatedPosts_title">MyBatis学习（2）</div></div></a></div><div class="relatedPosts_item"><a href="/2019/04/29/java/SpringMVC(3)/" title="SpringMVC学习日志（3）"><img class="relatedPosts_cover lazyload"data-src="https://s2.ax1x.com/2019/12/20/QXMzan.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-10</div><div class="relatedPosts_title">SpringMVC学习日志（3）</div></div></a></div></div><div class="clear_both"></div></div></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By Rong</div><div class="framework-info"><span>Driven </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly"><span>Butterfly</span></a></div><div class="footer_custom_text">welcome to my blog~</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/fireworks.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/tw_cn.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script></body></html>