{"meta":{"title":"è£å…ˆæ£®","subtitle":null,"description":null,"author":"Rong","url":"http://SlectRxz.github.io"},"pages":[{"title":"tags","date":"2018-10-14T03:20:38.000Z","updated":"2018-10-14T03:21:15.422Z","comments":true,"path":"tags/index.html","permalink":"http://SlectRxz.github.io/tags/index.html","excerpt":"","text":""},{"title":"categories","date":"2018-10-14T03:19:41.000Z","updated":"2018-10-14T03:20:17.064Z","comments":true,"path":"categories/index.html","permalink":"http://SlectRxz.github.io/categories/index.html","excerpt":"","text":""},{"title":"about","date":"2018-10-14T03:21:36.000Z","updated":"2018-10-14T03:21:53.111Z","comments":true,"path":"about/index.html","permalink":"http://SlectRxz.github.io/about/index.html","excerpt":"","text":""}],"posts":[{"title":"IDEAä¸­é…ç½®mavené¡¹ç›®","slug":"Javaå·¥å…·/mavené…ç½®IDEA","date":"2020-02-09T16:00:00.000Z","updated":"2020-02-10T05:59:35.322Z","comments":true,"path":"2020/02/10/Javaå·¥å…·/mavené…ç½®IDEA/","link":"","permalink":"http://SlectRxz.github.io/2020/02/10/Javaå·¥å…·/mavené…ç½®IDEA/","excerpt":"åœ¨IDEAä¸­è®¾ç½®mavenä»“åº“ï¼Œåˆ›å»ºmavenå·¥ç¨‹ã€‚","text":"åœ¨IDEAä¸­è®¾ç½®mavenä»“åº“ï¼Œåˆ›å»ºmavenå·¥ç¨‹ã€‚ ideaä¸­å¼€å‘mavené¡¹ç›® è®¾ç½®mavenä»“åº“ åœ¨ä½¿ç”¨mavenå·¥å…·å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ideaè¿›è¡Œé…ç½®ï¼š File-&gt;Settingsé…ç½®maven ideaä¸­åˆ›å»ºmavençš„webå·¥ç¨‹æ‰“å¼€ideaï¼Œé€‰æ‹©åˆ›å»ºä¸€ä¸ªæ–°å·¥ç¨‹ é€‰æ‹©ideaæä¾›å¥½çš„mavençš„webå·¥ç¨‹æ¨¡æ¿ ç‚¹å‡»Nextå¡«å†™é¡¹ç›®ä¿¡æ¯ ç‚¹å‡»Nextï¼Œæ­¤å¤„ä¸åšæ”¹åŠ¨ã€‚ ç‚¹å‡»Nexté€‰æ‹©é¡¹ç›®æ‰€åœ¨ç›®å½• ç‚¹å‡»Finishåå¼€å§‹åˆ›å»ºå·¥ç¨‹ï¼Œè€å¿ƒç­‰å¾…ï¼Œç›´åˆ°å‡ºç°å¦‚ä¸‹ç•Œé¢ã€‚ æ‰‹åŠ¨æ·»åŠ src/main/javaç›®å½•ï¼Œå¦‚ä¸‹å›¾å³é”®mainæ–‡ä»¶å¤¹Ã NewÃ Directory åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹å‘½åä¸ºjava ç‚¹å‡»OKåï¼Œåœ¨æ–°çš„æ–‡ä»¶å¤¹javaä¸Šå³é”®Ã Make Directory asÃ Sources Root","categories":[{"name":"Java","slug":"Java","permalink":"http://SlectRxz.github.io/categories/Java/"}],"tags":[{"name":"å·¥å…·å­¦ä¹ ","slug":"å·¥å…·å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/å·¥å…·å­¦ä¹ /"}]},{"title":"mavenåŸºç¡€","slug":"Javaå·¥å…·/mavenåŸºç¡€","date":"2020-02-09T16:00:00.000Z","updated":"2020-02-10T05:50:21.622Z","comments":true,"path":"2020/02/10/Javaå·¥å…·/mavenåŸºç¡€/","link":"","permalink":"http://SlectRxz.github.io/2020/02/10/Javaå·¥å…·/mavenåŸºç¡€/","excerpt":"å…³äºmavençš„åŸºç¡€ä»‹ç»ï¼Œä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨mavenã€mavençš„å®‰è£…åŠåŸºæœ¬ä½¿ç”¨æ–¹æ³•ã€mavenå·¥ç¨‹çš„ç”Ÿå‘½å‘¨æœŸåŠå¸¸ç”¨æŒ‡ä»¤ã€‚ï¼ˆIDEAé…ç½®ï¼‰ã€‚","text":"å…³äºmavençš„åŸºç¡€ä»‹ç»ï¼Œä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨mavenã€mavençš„å®‰è£…åŠåŸºæœ¬ä½¿ç”¨æ–¹æ³•ã€mavenå·¥ç¨‹çš„ç”Ÿå‘½å‘¨æœŸåŠå¸¸ç”¨æŒ‡ä»¤ã€‚ï¼ˆIDEAé…ç½®ï¼‰ã€‚ [TOC] ä»€ä¹ˆæ˜¯mavenåŠä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨maven ä»€ä¹ˆçš„mavenï¼Ÿ Mavenæ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå®ƒåŒ…å«äº†ä¸€ä¸ªé¡¹ç›®å¯¹è±¡æ¨¡å‹ (POMï¼šProject Object Model)ï¼Œä¸€ç»„æ ‡å‡†é›†åˆï¼Œä¸€ä¸ªé¡¹ç›®ç”Ÿå‘½å‘¨æœŸ(Project Lifecycle)ï¼Œä¸€ä¸ªä¾èµ–ç®¡ç†ç³»ç»Ÿ(Dependency Management System)ï¼Œå’Œç”¨æ¥è¿è¡Œå®šä¹‰åœ¨ç”Ÿå‘½å‘¨æœŸé˜¶æ®µ(phase)ä¸­æ’ä»¶(plugin)ç›®æ ‡(goal)çš„é€»è¾‘ã€‚ ç®€å•è€Œè¨€ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨mavenæ¥è¿›è¡Œé¡¹ç›®ç»“æ„çš„ç®¡ç†ï¼Œå¯ä»¥æŠŠmavenæŠ½è±¡ä¸ºä¸€ä¸ªå¤§ç¯å¢ƒï¼Œæˆ‘ä»¬çš„ç¨‹åºåœ¨æ­¤ç¯ å¢ƒä¸‹è¿è¡Œï¼Œåé¢å°†ä¼šä»‹ç»mavené¡¹ç›®çš„å·¥ç¨‹ç»“æ„ã€‚ æç¤ºï¼šMavençš„æ­£ç¡®å‘éŸ³æ˜¯[ËˆmevÉ™n]ï¼Œè€Œä¸æ˜¯â€œé©¬ç˜Ÿâ€ä»¥åŠå…¶ä»–ä»€ä¹ˆç˜Ÿã€‚ã€ğŸ•ã€‘ ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨mavenï¼Ÿ é¦–å…ˆï¼Œæˆ‘ä»¬å¹³æ—¶å†™ç¨‹åºï¼Œéœ€è¦å¼•å…¥å„ç§jaråŒ…ï¼Œå½“å·¥ç¨‹è¾ƒå¤§æ—¶ï¼Œå¯èƒ½éœ€è¦å‡ åç”šè‡³ä¸Šç™¾ä¸ªjaråŒ…ï¼Œè€Œä¸åŒçš„å·¥ç¨‹ç›´æ¥å¯èƒ½ç”±äºjaråŒ…çš„ç‰ˆæœ¬ä¸ä¸€è‡´è€Œäº§ç”Ÿå†²çªï¼›å†è€…ï¼Œæ¯ä¸€ä¸ªå·¥ç¨‹éƒ½èƒŒè´Ÿç€å¾ˆå¤šjaråŒ…ï¼Œè¿™æ ·å¯¼è‡´å·¥ç¨‹æ‰€å ç©ºé—´æ¯”ä¾‹å¢åŠ ï¼Œèƒ½ä¸èƒ½ä½¿å¾—ä¸åŒçš„æ¨¡å—å·¥ç¨‹å…±ç”¨ä¸€ä»½jaråŒ…åº“ï¼Ÿ ä½¿ç”¨mavençš„ä¸¤ä¸ªç»å…¸å¥½å¤„ï¼šä¾èµ–ç®¡ç†å’Œé¡¹ç›®ä¸€é”®æ„å»º ä¾èµ–ç®¡ç†ï¼šmavenå·¥ç¨‹ä¸­ä¸ç›´æ¥å°†jaråŒ…å¯¼å…¥åˆ°å·¥ç¨‹ä¸­ï¼Œè€Œæ˜¯é€šè¿‡åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ æ‰€éœ€jaråŒ…çš„åæ ‡ï¼Œè¿™æ ·å°±å¾ˆå¥½çš„é¿å…äº†jarç›´æ¥å¼•å…¥è¿›æ¥ï¼Œåœ¨éœ€è¦ç”¨åˆ°jaråŒ…çš„æ—¶å€™ï¼Œåªè¦æŸ¥æ‰¾pom.xmlæ–‡ä»¶ï¼Œå†é€šè¿‡pom.xmlæ–‡ä»¶ä¸­çš„åæ ‡ï¼Œåˆ°ä¸€ä¸ªä¸“é—¨ç”¨äºâ€å­˜æ”¾jaråŒ…çš„ä»“åº“â€(mavenä»“åº“)ä¸­æ ¹æ®åæ ‡ä»è€Œæ‰¾åˆ°è¿™äº›jaråŒ…ï¼Œå†æŠŠè¿™äº›jaråŒ…æ‹¿å»è¿è¡Œã€‚ é¡¹ç›®ä¸€é”®æ„å»ºï¼šæˆ‘ä»¬çš„é¡¹ç›®ï¼Œå¾€å¾€éƒ½è¦ç»å†ç¼–è¯‘ã€æµ‹è¯•ã€è¿è¡Œã€æ‰“åŒ…ã€å®‰è£… ï¼Œéƒ¨ç½²ç­‰ä¸€ç³»åˆ—è¿‡ç¨‹ã€‚ä»€ä¹ˆæ˜¯æ„å»ºï¼ŸæŒ‡çš„æ˜¯é¡¹ç›®ä»ç¼–è¯‘ã€æµ‹è¯•ã€è¿è¡Œã€æ‰“åŒ…ã€å®‰è£… ï¼Œéƒ¨ç½²æ•´ä¸ªè¿‡ç¨‹éƒ½äº¤ç»™mavenè¿›è¡Œç®¡ç†ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºæ„å»ºã€‚ä¸€é”®æ„å»ºæŒ‡çš„æ˜¯æ•´ä¸ªæ„å»ºè¿‡ç¨‹ï¼Œä½¿ç”¨mavenä¸€ä¸ªå‘½ä»¤å¯ä»¥è½»æ¾å®Œæˆæ•´ä¸ªå·¥ä½œã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦æ‰§è¡Œmavençš„ä¸€äº›æŒ‡ä»¤ï¼Œå°±èƒ½å¤Ÿè‡ªåŠ¨å¸®æˆ‘ä»¬å®Œæˆé¡¹ç›®çš„ç¼–è¯‘è¿è¡Œç­‰æ“ä½œã€‚ mavençš„å®‰è£… mavenè½¯ä»¶ä¸‹è½½ å®˜ç½‘ä¸‹è½½ï¼š mavenè½¯ä»¶å®‰è£… Mavenä¸‹è½½åï¼Œå°†Mavenè§£å‹åˆ°ä¸€ä¸ªæ²¡æœ‰ä¸­æ–‡æ²¡æœ‰ç©ºæ ¼çš„è·¯å¾„ä¸‹ï¼Œæ¯”å¦‚D:\\software\\mavenä¸‹é¢ã€‚ è§£å‹åç›®å½•ç»“æ„å¦‚ä¸‹ï¼š bin:å­˜æ”¾äº†mavençš„å‘½ä»¤ï¼Œæ¯”å¦‚æˆ‘ä»¬å‰é¢ç”¨åˆ°çš„mvn tomcat:run boot:å­˜æ”¾äº†ä¸€äº›mavenæœ¬èº«çš„å¼•å¯¼ç¨‹åºï¼Œå¦‚ç±»åŠ è½½å™¨ç­‰ conf:å­˜æ”¾äº†mavençš„ä¸€äº›é…ç½®æ–‡ä»¶ï¼Œå¦‚setting.xmlæ–‡ä»¶ lib:å­˜æ”¾äº†mavenæœ¬èº«è¿è¡Œæ‰€éœ€çš„ä¸€äº›jaråŒ… è‡³æ­¤æˆ‘ä»¬çš„mavenè½¯ä»¶å°±å¯ä»¥ä½¿ç”¨äº†ï¼Œå‰ææ˜¯ä½ çš„ç”µè„‘ä¸Šä¹‹å‰å·²ç»å®‰è£…å¹¶é…ç½®å¥½äº†JDKã€‚ mavenåŠjdké…ç½® é…ç½® MAVEN_HOME ï¼Œå˜é‡å€¼å°±æ˜¯ä½ çš„mavenå®‰è£… çš„è·¯å¾„ï¼ˆbinç›®å½•ä¹‹å‰ä¸€çº§ç›®å½•ï¼‰ ä¸Šé¢é…ç½®äº†æˆ‘ä»¬çš„Mavenè½¯ä»¶ï¼Œæ³¨æ„è¿™ä¸ªç›®å½•å°±æ˜¯ä¹‹å‰ä½ è§£å‹mavençš„å‹ç¼©æ–‡ä»¶åŒ…åœ¨çš„çš„ç›®å½•ï¼Œæœ€å¥½ä¸è¦æœ‰ä¸­æ–‡å’Œç©ºæ ¼ã€‚ å†æ¬¡æ£€æŸ¥JDKçš„å®‰è£…ç›®å½•ï¼Œå¦‚ä¸‹å›¾ï¼š mavenå®‰è£…æµ‹è¯•é€šè¿‡ mvn -vå‘½ä»¤æ£€æŸ¥ mavenæ˜¯å¦å®‰è£…æˆåŠŸï¼Œçœ‹åˆ°mavençš„ç‰ˆæœ¬ä¸º3.5.2åŠjavaç‰ˆæœ¬ä¸º1.8å³ä¸ºå®‰è£…æˆåŠŸã€‚ æ‰¾å¼€cmdå‘½ä»¤ï¼Œè¾“å…¥mvn â€“vå‘½ä»¤ï¼Œå¦‚ä¸‹å›¾ï¼š mavenå·¥ç¨‹çš„é¡¹ç›®ç»“æ„ ä½œä¸ºä¸€ä¸ªmavenå·¥ç¨‹ï¼Œå®ƒçš„srcç›®å½•å’Œpom.xmlæ˜¯å¿…å¤‡çš„ã€‚ è¿›å…¥srcç›®å½•åï¼Œæˆ‘ä»¬å‘ç°å®ƒé‡Œé¢çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š src/main/java â€”â€” å­˜æ”¾é¡¹ç›®çš„.javaæ–‡ä»¶ src/main/resources â€”â€” å­˜æ”¾é¡¹ç›®èµ„æºæ–‡ä»¶ï¼Œå¦‚spring, hibernateé…ç½®æ–‡ä»¶ src/test/java â€”â€” å­˜æ”¾æ‰€æœ‰å•å…ƒæµ‹è¯•.javaæ–‡ä»¶ï¼Œå¦‚JUnitæµ‹è¯•ç±» src/test/resources â€”â€” æµ‹è¯•èµ„æºæ–‡ä»¶ target â€”â€” é¡¹ç›®è¾“å‡ºä½ç½®ï¼Œç¼–è¯‘åçš„classæ–‡ä»¶ä¼šè¾“å‡ºåˆ°æ­¤ç›®å½• pom.xmlâ€”â€”mavené¡¹ç›®æ ¸å¿ƒé…ç½®æ–‡ä»¶ æ³¨æ„ï¼šå¦‚æœæ˜¯æ™®é€šçš„javaé¡¹ç›®ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰webappç›®å½•ã€‚ mavenä»“åº“å‰é¢æˆ‘ä»¬æŒ‡å‡ºï¼Œéœ€è¦å¯¹jaråŒ…è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œé‚£ä¹ˆjaråŒ…å°†é›†ä¸­å­˜æ”¾ä¸ä½•å¤„å‘¢ï¼Ÿ mavençš„å·¥ä½œéœ€è¦ä»ä»“åº“ä¸‹è½½ä¸€äº›jaråŒ…ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæœ¬åœ°çš„é¡¹ç›®Aã€é¡¹ç›®Bç­‰éƒ½ä¼šé€šè¿‡mavenè½¯ä»¶ä»è¿œç¨‹ä»“åº“ï¼ˆå¯ä»¥ç†è§£ä¸ºäº’è”ç½‘ä¸Šçš„ä»“åº“ï¼‰ä¸‹è½½jaråŒ…å¹¶å­˜åœ¨æœ¬åœ°ä»“åº“ï¼Œæœ¬åœ°ä»“åº“ å°±æ˜¯æœ¬åœ°æ–‡ä»¶å¤¹ï¼Œå½“ç¬¬äºŒæ¬¡éœ€è¦æ­¤jaråŒ…æ—¶åˆ™ä¸å†ä»è¿œç¨‹ä»“åº“ä¸‹è½½ï¼Œå› ä¸ºæœ¬åœ°ä»“åº“å·²ç»å­˜åœ¨äº†ï¼Œå¯ä»¥å°†æœ¬åœ°ä»“åº“ç†è§£ä¸ºç¼“å­˜ï¼Œæœ‰äº†æœ¬åœ°ä»“åº“å°±ä¸ç”¨æ¯æ¬¡ä»è¿œç¨‹ä»“åº“ä¸‹è½½äº†ã€‚ æœ¬åœ°ä»“åº“ï¼š ç”¨æ¥å­˜å‚¨ä»è¿œç¨‹ä»“åº“æˆ–ä¸­å¤®ä»“åº“ä¸‹è½½çš„æ’ä»¶å’ŒjaråŒ…ï¼Œé¡¹ç›®ä½¿ç”¨ä¸€äº›æ’ä»¶æˆ–jaråŒ…ï¼Œä¼˜å…ˆä»æœ¬åœ°ä»“åº“æŸ¥æ‰¾ é»˜è®¤æœ¬åœ°ä»“åº“ä½ç½®åœ¨ ${user.dir}/.m2/repositoryï¼Œ${user.dir}è¡¨ç¤ºwindowsç”¨æˆ·ç›®å½•ã€‚ è¿œç¨‹ä»“åº“ï¼šå¦‚æœæœ¬åœ°éœ€è¦æ’ä»¶æˆ–è€…jaråŒ…ï¼Œæœ¬åœ°ä»“åº“æ²¡æœ‰ï¼Œé»˜è®¤å»è¿œç¨‹ä»“åº“ä¸‹è½½ã€‚ è¿œç¨‹ä»“åº“å¯ä»¥åœ¨äº’è”ç½‘å†…ä¹Ÿå¯ä»¥åœ¨å±€åŸŸç½‘å†…ã€‚ ä¸­å¤®ä»“åº“ï¼šåœ¨mavenè½¯ä»¶ä¸­å†…ç½®ä¸€ä¸ªè¿œç¨‹ä»“åº“åœ°å€http://repo1.maven.org/maven2 ï¼Œå®ƒæ˜¯ä¸­å¤®ä»“åº“ï¼ŒæœåŠ¡äºæ•´ä¸ªäº’è”ç½‘ï¼Œå®ƒæ˜¯ç”±Mavenå›¢é˜Ÿè‡ªå·±ç»´æŠ¤ï¼Œé‡Œé¢å­˜å‚¨äº†éå¸¸å…¨çš„jaråŒ…ï¼Œå®ƒåŒ…å«äº†ä¸–ç•Œä¸Šå¤§éƒ¨åˆ†æµè¡Œçš„å¼€æºé¡¹ç›®æ„ä»¶ã€‚ mavenæœ¬åœ°ä»“åº“çš„é…ç½® åœ¨æˆ‘ä»¬å®‰è£…äº†mavenåï¼Œå®‰è£…äº†æœ¬åœ°mavenä»“åº“ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®mavenæœ¬åœ°ä»“åº“çš„ä½ç½®ï¼Œä½¿å¾—mavenèƒ½å¤Ÿé¡ºåˆ©åŠ è½½ã€‚ åœ¨MAVE_HOME/conf/settings.xmlæ–‡ä»¶ä¸­é…ç½®æœ¬åœ°ä»“åº“ä½ç½®ï¼ˆmavençš„å®‰è£…ç›®å½•ä¸‹ï¼‰ï¼šæ‰“å¼€setting.xmlæ–‡ä»¶ æ³¨æ„ï¼šä»Mavenä¸­å¿ƒä»“åº“ä¸‹è½½åˆ°æœ¬åœ°çš„jaråŒ…çš„é»˜è®¤å­˜æ”¾åœ¨â€${user.home}/.m2/repositoryâ€ä¸­ï¼Œåœ¨Cç›˜ï¼Œä¸€èˆ¬ä¸ºäº†èŠ‚çº¦ç©ºé—´ï¼Œä¿®æ”¹æ”¾åœ¨å…¶ä»–åœ°æ–¹ã€‚ å…¨å±€settingä¸ç”¨æˆ·setting mavenä»“åº“åœ°å€ã€ç§æœç­‰é…ç½®ä¿¡æ¯éƒ½éœ€è¦åœ¨setting.xmlæ–‡ä»¶ä¸­é…ç½®ï¼Œåˆ†ä¸ºå…¨å±€é…ç½®å’Œç”¨æˆ·é…ç½®ã€‚ åœ¨ï¼Œmavenå®‰è£…ç›®å½•ä¸‹conf/setting.xmlæ–‡ä»¶ã€‚æ­¤setting.xmlæ–‡ä»¶ç”¨äºmavençš„æ‰€æœ‰projecté¡¹ç›®ï¼Œå®ƒæ˜¯ä½œä¸ºä¸€ä¸ªå…¨å±€é…ç½®ã€‚ å¦‚æœéœ€è¦ä¸ªæ€§é…ç½®åˆ™éœ€è¦åœ¨ç”¨æˆ·é…ç½®ä¸­è®¾ç½®ï¼Œç”¨æˆ·é…ç½®çš„setting.xmlæ–‡ä»¶é»˜è®¤ä½ç½®åœ¨ï¼š${user.dir} /.m2/settings.xmlç›®å½•ä¸­,${user.dir} æŒ‡windows ä¸­çš„ç”¨æˆ·ç›®å½•ã€‚ mavençš„å¸¸ç”¨å‘½ä»¤compilecompileæ˜¯mavenå·¥ç¨‹çš„ç¼–è¯‘å‘½ä»¤ï¼Œä½œç”¨æ˜¯å°†src/main/javaä¸‹çš„æ–‡ä»¶ç¼–è¯‘ä¸ºclassæ–‡ä»¶è¾“å‡ºåˆ°targetç›®å½•ä¸‹ã€‚ testtestæ˜¯mavenå·¥ç¨‹çš„æµ‹è¯•å‘½ä»¤ï¼Œmvn testï¼Œä¼šæ‰§è¡Œsrc/test/javaä¸‹çš„å•å…ƒæµ‹è¯•ç±»ã€‚ cleancleanæ˜¯mavenå·¥ç¨‹çš„æ¸…ç†å‘½ä»¤ï¼Œæ‰§è¡Œåå°†åˆ é™¤targetç›®å½•ä¸‹çš„å†…å®¹ã€‚ï¼ˆæ–°ä¸€æ¬¡ç¼–è¯‘å‰å°†ä¸Šä¸€æ¬¡ç¼–è¯‘çš„ç»“æœå¹²æ‰ã€‚ï¼‰ packagepackageæ˜¯mavenå·¥ç¨‹çš„æ‰“åŒ…å‘½ä»¤ï¼Œmvn clean package -Dmaven.test.skip=true è·³è¿‡æœ¬åœ°æµ‹è¯•æ‰“åŒ… installinstallæ˜¯mavenå·¥ç¨‹çš„å®‰è£…å‘½ä»¤ï¼Œæ‰§è¡Œinstallå°†mavenæ‰“åŒ…jar/waråŒ…å‘å¸ƒåˆ°æœ¬åœ°ä»“åº“ã€‚ æ ¹æ®é¡ºåºï¼Œåé¢çš„æ‰§è¡Œçš„æ‰§è¡Œï¼Œé¦–å…ˆéœ€è¦æ‰§è¡Œå‰é¢çš„æŒ‡ä»¤ã€‚ mavençš„ç”Ÿå‘½å‘¨æœŸClean Lifecycle åœ¨è¿›è¡ŒçœŸæ­£çš„æ„å»ºä¹‹å‰è¿›è¡Œä¸€äº›æ¸…ç†å·¥ä½œã€‚ Default Lifecycle æ„å»ºçš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œç¼–è¯‘ï¼Œæµ‹è¯•ï¼Œæ‰“åŒ…ï¼Œéƒ¨ç½²ç­‰ç­‰ã€‚ Site Lifecycle ç”Ÿæˆé¡¹ç›®æŠ¥å‘Šï¼Œç«™ç‚¹ï¼Œå‘å¸ƒç«™ç‚¹ã€‚ mavençš„pomæ–‡ä»¶mavenå·¥ç¨‹çš„åæ ‡æ˜¯åœ¨pom.xmlä¸­ç»™å‡ºçš„ï¼Œåœ¨pom.xmlä¸­å®šä¹‰åæ ‡ï¼Œå†…å®¹åŒ…æ‹¬groupIdã€artifactIdã€versionã€‚ é¡¹ç›®åç§°ï¼Œç±»ä¼¼äºåŒ…å coderxz.maven æ¨¡å—åç§° maven-helloworld å½“å‰æœ¬æ ‡å· 0.0.1-SNAPSHOT æ‰“åŒ…ç±»å‹ ï¼šæ‰“åŒ…ç±»å‹jarï¼šæ‰§è¡Œpackageä¼šæ‰“æˆjaråŒ…warï¼šæ‰§è¡Œpackageä¼šæ‰“æˆwaråŒ…pom ï¼šç”¨äºmavenå·¥ç¨‹çš„ç»§æ‰¿ï¼Œé€šå¸¸çˆ¶å·¥ç¨‹è®¾ç½®ä¸ºpom","categories":[{"name":"Java","slug":"Java","permalink":"http://SlectRxz.github.io/categories/Java/"}],"tags":[{"name":"å·¥å…·å­¦ä¹ ","slug":"å·¥å…·å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/å·¥å…·å­¦ä¹ /"}]},{"title":"è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•é¡µé¢","slug":"taotao/ä¸»é¢˜æµ‹è¯•","date":"2019-12-19T16:00:00.000Z","updated":"2019-12-20T11:15:47.065Z","comments":true,"path":"2019/12/20/taotao/ä¸»é¢˜æµ‹è¯•/","link":"","permalink":"http://SlectRxz.github.io/2019/12/20/taotao/ä¸»é¢˜æµ‹è¯•/","excerpt":"","text":"1å·æ ‡é¢˜2å·æ ‡é¢˜3å·æ ‡é¢˜4å·æ ‡é¢˜5å·æ ‡é¢˜6å·æ ‡é¢˜ Galleryç›¸å†Š","categories":[{"name":"Spring Data JPA","slug":"Spring-Data-JPA","permalink":"http://SlectRxz.github.io/categories/Spring-Data-JPA/"}],"tags":[{"name":"Javaæ¡†æ¶","slug":"Javaæ¡†æ¶","permalink":"http://SlectRxz.github.io/tags/Javaæ¡†æ¶/"}]},{"title":"Spring Data JPAåº•å±‚å®ç°åŸç†","slug":"Spring Data JPA/SpringDataJPA_åº•å±‚å®ç°åŸç†","date":"2019-12-14T16:00:00.000Z","updated":"2019-12-20T11:53:11.020Z","comments":true,"path":"2019/12/15/Spring Data JPA/SpringDataJPA_åº•å±‚å®ç°åŸç†/","link":"","permalink":"http://SlectRxz.github.io/2019/12/15/Spring Data JPA/SpringDataJPA_åº•å±‚å®ç°åŸç†/","excerpt":"å¯¹Spring Data JPAå†…éƒ¨åŸç†è§£æ","text":"å¯¹Spring Data JPAå†…éƒ¨åŸç†è§£æ [TOC] Spring Data JPAå¸¸ç”¨æ¥å£åˆ†æåœ¨å…¥é—¨æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ä»…ä»…å®šä¹‰äº†CustomerDaoçš„æ¥å£ï¼Œå¹¶æ²¡æœ‰æä¾›ä»»ä½•çš„æ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ‰€è°ƒç”¨çš„å¢åˆ æ”¹æŸ¥çš„æ–¹æ³•æ¥è‡ªå“ªé‡Œå‘¢ï¼Ÿç­”æ¡ˆå¾ˆç®€å•ï¼Œå¯¹äºæˆ‘ä»¬è‡ªå®šä¹‰çš„Daoæ¥å£ï¼Œç”±äºç»§æ‰¿äº†JpaRepositoryå’ŒJpaSpecificationExecutorï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸¤ä¸ªæ¥å£çš„æ‰€æœ‰æ–¹æ³•ã€‚ è¿›å…¥JpaRepositoryï¼Œåœ¨ç±»ä¸ŠæŒ‰ä½ctrl+F2ï¼š åœ¨JpaSpecificationExecutorä¸­ä¹Ÿæ˜¯ç±»ä¼¼çš„æƒ…å†µã€‚ ä½†æ˜¯æˆ‘ä»¬æ³¨æ„åˆ°ï¼ŒJpaRepositoryå’ŒJpaSpecificationExecutoræ˜¯æ¥å£ï¼Œå…¶åªæ˜¯ä¸€äº›æ–¹æ³•å£°æ˜ï¼Œæ²¡æœ‰å…·ä½“çš„å®ç°æ–¹å¼ï¼Œé‚£ä¹ˆåœ¨ Spring Data JPAä¸­å®ƒåˆæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ Spring Data JPAçš„å®ç°è¿‡ç¨‹å·²æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä»£ç ä¸ºä¾‹ï¼š æ‰“æ–­ç‚¹ï¼Œè§‚å¯Ÿæˆ‘ä»¬å®šä¹‰çš„customerdaoçš„å®ç°å¯¹è±¡æ˜¯è°ï¼š æˆ‘ä»¬å¯ä»¥çœ‹åˆ°äº§ç”Ÿäº†ä¸€ä¸ªåŠ¨æ€ä»£ç†å¯¹è±¡JdkDynamicAopProxyï¼Œè€Œè¯¥å¯¹è±¡æ˜¯Springå†…éƒ¨é€šè¿‡AOPå¸®åŠ©æˆ‘ä»¬åˆ›å»ºå¯¹è±¡çš„ï¼Œå•æœºå³é”®ï¼ŒæŸ¥çœ‹æºç ï¼š è¿›å¦‚åˆ°JdkDynamicAopProxyå¯¹è±¡ä¸­ï¼š æˆ‘ä»¬å‘ç°JdkDynamicAopProxyå¯¹è±¡å®ç°äº†InvocationHandleræ¥å£ï¼Œæ‰¾åˆ°invokeæ–¹æ³•ï¼Œå…¶ä¸­targetå¯¹è±¡å°±æ˜¯ç”Ÿæˆçš„åŠ¨æ€ä»£ç†å¯¹è±¡ï¼Œæ‰“æ–­ç‚¹æŸ¥çœ‹ï¼š è®©æˆ‘ä»¬æŸ¥è¯¢ä¸€ä¸‹targetå¯¹è±¡çš„æºä»£ç ï¼ˆå…¶å®æ˜¯SimpleJpaRepositoryå¯¹è±¡ï¼‰ å¯ä»¥çœ‹åˆ°SimpleJpaRepositoryå¯¹è±¡ç»§æ‰¿å®ç°äº†JpaRepositoryå’ŒJpaSpecificationExecutoræ¥å£ä¸­çš„æ–¹æ³•ã€‚ ç”±äºæˆ‘ä»¬çš„æµ‹è¯•æ¡ˆä¾‹æ˜¯æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·ï¼Œå®é™…ä¸Šè°ƒç”¨äº†findOne()æ–¹æ³•ï¼Œé‚£ä¹ˆç©¶ç«Ÿæ˜¯ä¸æ˜¯è°ƒç”¨äº†SimpleJpaRepositoryå¯¹è±¡ä¸­çš„findOne()æ–¹æ³•å‘¢ï¼Ÿæˆ‘ä»¬æ‰“æ–­ç‚¹æµ‹è¯•ä¸€ä¸‹ï¼š æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œé¡µé¢è·³è½¬åˆ°SimpleJpaRepositoryå¯¹è±¡ä¸­çš„findOne()æ–¹æ³•ä¸­ï¼Œä¸”æ¥æ”¶åˆ°å‚æ•°ä¸º1ï¼Œä¸æµ‹è¯•æ¡ˆä¾‹ç›¸å»åˆã€‚ é¡ºå¸¦ä¸€æï¼Œä¸Šè¿°findOne()æ–¹æ³•è¿”å›äº†ä¸€ä¸ªem.find()ï¼Œå…¶å®emå°±æ˜¯EntityManagerå¯¹è±¡ï¼Œè€Œä»–æ˜¯JPAåŸç”Ÿçš„å®ç°æ–¹å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—åˆ°ç»“è®ºSpring Data JPAåªæ˜¯å¯¹æ ‡å‡†JPAæ“ä½œè¿›è¡Œäº†è¿›ä¸€æ­¥å°è£…ï¼Œç®€åŒ–äº†Daoå±‚ä»£ç çš„å¼€å‘ã€‚ Spring Data JPAå®Œæ•´è°ƒç”¨è¿‡ç¨‹åˆ†æ","categories":[{"name":"Spring Data JPA","slug":"Spring-Data-JPA","permalink":"http://SlectRxz.github.io/categories/Spring-Data-JPA/"}],"tags":[{"name":"Javaæ¡†æ¶","slug":"Javaæ¡†æ¶","permalink":"http://SlectRxz.github.io/tags/Javaæ¡†æ¶/"}]},{"title":"Spring Data JPAå…¥é—¨æ¡ˆä¾‹","slug":"Spring Data JPA/SpringDataJPA_å…¥é—¨æ¡ˆä¾‹","date":"2019-12-13T16:00:00.000Z","updated":"2019-12-20T11:50:59.848Z","comments":true,"path":"2019/12/14/Spring Data JPA/SpringDataJPA_å…¥é—¨æ¡ˆä¾‹/","link":"","permalink":"http://SlectRxz.github.io/2019/12/14/Spring Data JPA/SpringDataJPA_å…¥é—¨æ¡ˆä¾‹/","excerpt":"å¯¹Spring Data JPAåšäº†ä¸€ä¸ªåŸºæœ¬çš„ç®€ä»‹ï¼ŒåŒ…æ‹¬springdatajpaä¸hibernateã€jpaä¹‹é—´çš„å…³ç³»ï¼›Spring Data JPAçš„å…¥é—¨æ¡ˆä¾‹ç¯å¢ƒçš„æ­å»ºã€CRUDç­‰æ“ä½œã€‚","text":"å¯¹Spring Data JPAåšäº†ä¸€ä¸ªåŸºæœ¬çš„ç®€ä»‹ï¼ŒåŒ…æ‹¬springdatajpaä¸hibernateã€jpaä¹‹é—´çš„å…³ç³»ï¼›Spring Data JPAçš„å…¥é—¨æ¡ˆä¾‹ç¯å¢ƒçš„æ­å»ºã€CRUDç­‰æ“ä½œã€‚ [TOC] SpringDataJPAçš„æ¦‚è¿° Spring Data JPA æ˜¯ Spring åŸºäº ORM æ¡†æ¶ã€JPA è§„èŒƒçš„åŸºç¡€ä¸Šå°è£…çš„ä¸€å¥—JPAåº”ç”¨æ¡†æ¶ï¼Œå¯ä½¿å¼€å‘è€…ç”¨æç®€çš„ä»£ç å³å¯å®ç°å¯¹æ•°æ®åº“çš„è®¿é—®å’Œæ“ä½œã€‚å®ƒæä¾›äº†åŒ…æ‹¬å¢åˆ æ”¹æŸ¥ç­‰åœ¨å†…çš„å¸¸ç”¨åŠŸèƒ½ï¼Œä¸”æ˜“äºæ‰©å±•ï¼å­¦ä¹ å¹¶ä½¿ç”¨ Spring Data JPA å¯ä»¥æå¤§æé«˜å¼€å‘æ•ˆç‡ï¼åœ¨JPAçš„åŸºç¡€ä¸Šå†åšäº†ä¸€å±‚å°è£…ã€‚ ç‰¹æ€§ï¼š Spring Data JPA æå¤§çš„ç®€åŒ–äº†æ•°æ®åº“è®¿é—®å±‚ä»£ç ï¼ˆæŒä¹…å±‚ï¼‰ã€‚å¦‚ä½•ç®€åŒ–å‘¢ï¼Ÿä½¿ç”¨äº†Spring Data JPA,æˆ‘ä»¬çš„daoå±‚åªéœ€è¦å†™æ¥å£ï¼Œå†é…ç½®åŒ…æ‰«æï¼Œæˆ‘ä»¬åªéœ€è¦è°ƒç”¨æ¥å£å¯¹è±¡ï¼Œå°†ä¼šè‡ªåŠ¨ç”ŸæˆåŠ¨æ€ä»£ç†å¯¹è±¡æ‰§è¡Œå¢åˆ æŸ¥æ”¹ã€åˆ†é¡µç­‰æ“ä½œã€‚ Spring Data JPAä¸JPAä¸hibernateä¹‹é—´çš„å…³ç³»JPAæ˜¯ä¸€å¥—è§„èŒƒï¼Œå†…éƒ¨ç”±æ¥å£å’ŒæŠ½è±¡ç±»å®ç°ï¼›hibernateæ˜¯ä¸€å¥—æˆç†Ÿçš„ORMæ¡†æ¶ï¼Œä¸”hibernateå®ç°äº†JPAè§„èŒƒï¼Œæ‰€ä»¥hibernateæ˜¯JPAçš„ä¸€ç§å®ç°æ–¹å¼ï¼Œæˆ‘ä»¬ä½¿ç”¨JPAä¸­çš„APIç¼–ç¨‹ï¼Œæ„å‘³ç€ç«™åœ¨æ›´é«˜çš„è§’åº¦çœ‹ä»£é—®é¢˜ï¼ˆé¢å‘æ¥å£ç¼–ç¨‹ã€‚ï¼‰ Spring Data JPAæ˜¯Springæä¾›çš„ä¸€å¥—å¯¹JPAæ“ä½œæ›´åŠ é«˜çº§çš„å°è£…ã€‚ Spring Data JPAå¿«é€Ÿå…¥é—¨ ç¯å¢ƒæ­å»º Mavenå·¥ç¨‹ ä¾èµ– &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;ctgu.rxz&lt;/groupId&gt; &lt;artifactId&gt;springdataJpa01&lt;/artifactId&gt; &lt;packaging&gt;pom&lt;/packaging&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;properties&gt; &lt;spring.version&gt;4.2.4.RELEASE&lt;/spring.version&gt; &lt;hibernate.version&gt;5.0.7.Final&lt;/hibernate.version&gt; &lt;slf4j.version&gt;1.6.6&lt;/slf4j.version&gt; &lt;log4j.version&gt;1.2.12&lt;/log4j.version&gt; &lt;c3p0.version&gt;0.9.1.2&lt;/c3p0.version&gt; &lt;mysql.version&gt;5.1.6&lt;/mysql.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- junitå•å…ƒæµ‹è¯• --&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- spring beg --&gt; &lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.9.4&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-aop&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--æ˜¯springå¯¹ormç›¸å…³æ”¯æŒçš„åŒ…--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-orm&lt;/artifactId&gt; &lt;version&gt;4.2.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- spring end --&gt; &lt;!-- hibernate beg --&gt; &lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt; &lt;version&gt;$&#123;hibernate.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt; &lt;version&gt;$&#123;hibernate.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt; &lt;version&gt;5.4.1.Final&lt;/version&gt; &lt;/dependency&gt; &lt;!-- hibernate end --&gt; &lt;!-- c3p0 beg --&gt; &lt;dependency&gt; &lt;groupId&gt;c3p0&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;$&#123;c3p0.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- c3p0 end --&gt; &lt;!-- log end --&gt; &lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;$&#123;log4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; &lt;version&gt;$&#123;slf4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;version&gt;$&#123;slf4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- log end --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;$&#123;mysql.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!--springdatajpaçš„åæ ‡--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.data&lt;/groupId&gt; &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt; &lt;version&gt;1.9.0.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- el beg ä½¿ç”¨spring data jpa å¿…é¡»å¼•å…¥ --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.el&lt;/groupId&gt; &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt; &lt;version&gt;2.2.4&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt; &lt;artifactId&gt;javax.el&lt;/artifactId&gt; &lt;version&gt;2.2.4&lt;/version&gt; &lt;/dependency&gt; &lt;!-- el end --&gt; &lt;/dependencies&gt;&lt;/project&gt; é…ç½®æ–‡ä»¶ 1.é…ç½®æ•°æ®åº“è¿æ¥æ±  2.é…ç½®entityManageFactoryå¯¹è±¡äº¤ç»™Springå®¹å™¨ç®¡ç† 1ï¼‰é…ç½®å®ä½“ç±»åŒ…æ‰«æ 2ï¼‰é…ç½®JPAçš„å®ç°å‚å®¶ 3ï¼‰é…ç½®JPAçš„ä¾›åº”é€‚é…å™¨ï¼ˆæŒ‡å®šæ•°æ®åº“ï¼‰ 3.è®¾ç½®JPAäº‹åŠ¡ç®¡ç†å™¨ 4.æ•´åˆSpring Data JPAï¼ŒæŒ‡å®šdaoæ¥å£çš„åŒ…åç§°ï¼Œå£°æ˜è¦å¯¹æ­¤åŒ…ä¸‹çš„daoæ¥å£è¿›è¡ŒåŠ¨æ€ä»£ç† 5.AOPäº‹åŠ¡ç®¡ç† 6.é…ç½®springåŒ…æ‰«æ xml&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:aop=\"http://www.springframework.org/schema/aop\" xmlns:context=\"http://www.springframework.org/schema/context\" xmlns:jdbc=\"http://www.springframework.org/schema/jdbc\" xmlns:tx=\"http://www.springframework.org/schema/tx\" xmlns:jpa=\"http://www.springframework.org/schema/data/jpa\" xmlns:task=\"http://www.springframework.org/schema/task\" xsi:schemaLocation=\" http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa.xsd\"&gt; &lt;!--springå’Œspring data jpaçš„é…ç½®--&gt; &lt;!--é…ç½®åŒ…æ‰«æ--&gt; &lt;context:component-scan base-package=\"ctgu\"/&gt; &lt;!--1.é…ç½®æ•°æ®åº“è¿æ¥æ± --&gt; &lt;bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\"&gt; &lt;property name=\"driverClass\" value=\"com.mysql.jdbc.Driver\"/&gt; &lt;property name=\"jdbcUrl\" value=\"jdbc:mysql://localhost:3306/mybatis?characterEncoding=utf-8\"/&gt; &lt;property name=\"user\" value=\"root\"/&gt; &lt;property name=\"password\" value=\"root\"/&gt; &lt;/bean&gt; &lt;!--2.é…ç½®entityManageFactoryå¯¹è±¡äº¤ç»™springå®¹å™¨ç®¡ç† æŒ‡å®šå®ä½“ç±»æ‰€åœ¨çš„åŒ…åç§°--&gt; &lt;bean id=\"entityManagerFactory\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt; &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt; &lt;!--i é…ç½®çš„æ˜¯æ‰«æçš„åŒ…ï¼ˆå®ä½“ç±»æ‰€åœ¨çš„åŒ…ï¼‰--&gt; &lt;property name=\"packagesToScan\" value=\"ctgu.pojo\"/&gt; &lt;!--ii é…ç½®Jpaçš„å®ç°å‚å®¶--&gt; &lt;property name=\"persistenceProvider\"&gt; &lt;bean class=\"org.hibernate.jpa.HibernatePersistenceProvider\"/&gt; &lt;/property&gt; &lt;!--iii é…ç½®JPAçš„ä¾›åº”å•†é€‚é…å™¨--&gt; &lt;property name=\"jpaVendorAdapter\"&gt; &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"&gt; &lt;!--é…ç½®æ˜¯å¦è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨--&gt; &lt;property name=\"generateDdl\" value=\"false\"/&gt; &lt;!--æŒ‡å®šæ•°æ®åº“ç±»å‹ï¼Œæ³¨æ„å…¨éƒ¨æ˜¯å¤§å†™--&gt; &lt;property name=\"database\" value=\"MYSQL\"/&gt; &lt;!--æ•°æ®åº“æ–¹è¨€ï¼šæ”¯æŒçš„ç‰¹æœ‰è¯­æ³•ï¼ˆæ¯ä¸ªæ•°æ®åº“éƒ½æœ‰ç»†å¾®çš„å·®åˆ«ï¼‰--&gt; &lt;property name=\"databasePlatform\" value=\"org.hibernate.dialect.MySQLDialect\"/&gt; &lt;property name=\"showSql\" value=\"true\"/&gt; &lt;/bean&gt; &lt;/property&gt; &lt;!--é…ç½®Jpaçš„æ–¹è¨€ï¼šé«˜çº§çš„ç‰¹æ€§ï¼Œä¸åŒçš„å®ç°å‚å•†æœ‰å„è‡ªçš„ç‰¹æ€§ï¼Œæ¯”å¦‚Hibernate--&gt; &lt;property name=\"jpaDialect\"&gt; &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaDialect\"/&gt; &lt;/property&gt; &lt;/bean&gt; &lt;!-- 3.JPAäº‹åŠ¡ç®¡ç†å™¨ --&gt; &lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt; &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactory\"/&gt; &lt;/bean&gt; &lt;!--4.æ•´åˆspring dataJpa æŒ‡å®šdaoæ¥å£çš„åŒ…åç§° å£°æ˜è¦å¯¹æ­¤åŒ…ä¸‹çš„daoæ¥å£è¿›è¡ŒåŠ¨æ€ä»£ç†å¢å¼ºï¼Œç”ŸæˆsimpleJpaRepositoryä»£ç†ç±»--&gt; &lt;jpa:repositories base-package=\"ctgu.dao\" transaction-manager-ref=\"transactionManager\" entity-manager-factory-ref=\"entityManagerFactory\"/&gt; &lt;!--5.txAdvice--&gt; &lt;tx:advice id=\"txAdvice\" transaction-manager=\"transactionManager\"&gt; &lt;tx:attributes&gt; &lt;tx:method name=\"save*\" propagation=\"REQUIRED\"/&gt; &lt;tx:method name=\"insert*\" propagation=\"REQUIRED\"/&gt; &lt;tx:method name=\"update*\" propagation=\"REQUIRED\"/&gt; &lt;tx:method name=\"delete*\" propagation=\"REQUIRED\"/&gt; &lt;tx:method name=\"get*\" read-only=\"true\"/&gt; &lt;tx:method name=\"find*\" read-only=\"true\"/&gt; &lt;tx:method name=\"*\" propagation=\"REQUIRED\"/&gt; &lt;/tx:attributes&gt; &lt;/tx:advice&gt; &lt;!-- 6.aop--&gt; &lt;aop:config&gt; &lt;aop:pointcut id=\"pointcut\" expression=\"execution(* cn.itcast.service.*.*(..))\"/&gt; &lt;aop:advisor advice-ref=\"txAdvice\" pointcut-ref=\"pointcut\"/&gt; &lt;/aop:config&gt;&lt;/beans&gt; ç¼–å†™å®ä½“ç±»ï¼Œå®Œæˆæ•°æ®åº“å’Œå®ä½“ç±»ä¹‹é—´çš„å…³ç³»æ˜ å°„ 1.é…ç½®å®ä½“ç±»ä¸è¡¨çš„æ˜ å°„å…³ç³»ï¼ˆæ­¤pojoä¸æ•°æ®åº“ä¸­çš„é‚£ä¸€å¼ è¡¨å…³ç³»æ˜ å°„ï¼‰ @Entiy @Table(name=â€æ•°æ®åº“è¡¨çš„åç§°â€) 2.å®ä½“ç±»ä¸­å±æ€§ä¸è¡¨ä¸­å­—æ®µçš„æ˜ å°„å…³ç³» @Id(â€œnameâ€)æ•°æ®åº“ä¸­çš„ä¸»é”®å­—æ®µå @GeneratedValue(value) strategy=GenerationType.IDENTITY:è‡ªå¢ Mysqlï¼ˆåº•å±‚æ•°æ®åº“æ”¯æŒçš„è‡ªå¢é•¿æ–¹å¼å¯¹idè‡ªå¢ï¼‰ strategy=GenerationType.SEQUENCEï¼šåºåˆ— Oracleï¼ˆåº•å±‚æ•°æ®åº“å¿…é¡»æ”¯æŒåºåˆ—ï¼‰ strategy=GenerationType.TABLEï¼šjpaæä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œé€šè¿‡ä¸€å¼ æ•°æ®åº“è¡¨çš„å½¢å¼å¸®åŠ©æˆ‘ä»¬å®Œæˆè‡ªå¢ strategy=GenerationType.AUTO:æœ‰ç¨‹åºè‡ªåŠ¨çš„å¸®åŠ©æˆ‘ä»¬é€‰æ‹©ä¸»é”®ç”Ÿæˆç­–ç•¥ @Columnï¼ˆname=â€valueâ€ï¼‰æ•°æ®åº“ä¸­è¡¨çš„å­—æ®µå æ³¨æ„ï¼š é»˜è®¤@Column()é…ç½®æ˜¯å¯ä»¥çœç•¥çš„ï¼Œéµä»é©¼å³°å¼å‘½åï¼Œä¹Ÿå°±æ˜¯é‡åˆ°å¤§å†™å­—æ¯ä¼šè½¬æˆ â€˜_â€™ ï¼Œä½†æ˜¯å¦‚æœé…ç½®ä¸‹é¢çš„ä»£ç å°±ä¸èƒ½çœç•¥äº†ï¼Œå±äºæ— ä¿®æ”¹å‘½åã€‚æ¯”å¦‚æ•°æ®åº“ä¸­å­—æ®µåæ˜¯ï¼šuser_name, åˆ™å¯¹åº”å®ä½“ç±»ä¸­å†™æˆ userName javapackage ctgu.pojo;import javax.persistence.*;@Entity@Table(name = \"cst_customer\")public class Customer &#123; /** * @ Idå£°æ˜ä¸»é”®çš„è®¾ç½® * @ GeneratedValueé…ç½®ä¸»é”®æ˜¯ç”Ÿæˆç­–ç•¥ï¼ˆè‡ªåŠ¨å¢é•¿ï¼‰ * GenerationType.IDENTITY * @ Column(name = \"cust_id\")æ•°æ®åº“ä¸­è¡¨ä¸­å­—æ®µçš„åå­— */ @Id @GeneratedValue(strategy = GenerationType.IDENTITY) @Column(name = \"cust_id\") private Long custId; @Column(name = \"cust_name\") private String custName; @Column(name = \"cust_source\") private String custSource; @Column(name = \"cust_industry\") private String custIndustry; @Column(name = \"cust_level\") private String custLevel; @Column(name = \"cust_address\") private String custAddress; @Column(name = \"cust_phone\") private String custPhone; public Long getCustId() &#123; return custId; &#125; public void setCustId(Long custId) &#123; this.custId = custId; &#125; public String getCustName() &#123; return custName; &#125; public void setCustName(String custName) &#123; this.custName = custName; &#125; public String getCustSource() &#123; return custSource; &#125; public void setCustSource(String custSource) &#123; this.custSource = custSource; &#125; public String getCustIndustry() &#123; return custIndustry; &#125; public void setCustIndustry(String custIndustry) &#123; this.custIndustry = custIndustry; &#125; public String getCustLevel() &#123; return custLevel; &#125; public void setCustLevel(String custLevel) &#123; this.custLevel = custLevel; &#125; public String getCustAddress() &#123; return custAddress; &#125; public void setCustAddress(String custAddress) &#123; this.custAddress = custAddress; &#125; public String getCustPhone() &#123; return custPhone; &#125; @Override public String toString() &#123; return \"Customer&#123;\" + \"custId=\" + custId + \", custName='\" + custName + '\\'' + \", custSource='\" + custSource + '\\'' + \", custIndustry='\" + custIndustry + '\\'' + \", custLevel='\" + custLevel + '\\'' + \", custAddress='\" + custAddress + '\\'' + \", custPhone='\" + custPhone + '\\'' + '&#125;'; &#125; public void setCustPhone(String custPhone) &#123; this.custPhone = custPhone; &#125;&#125; ç¼–å†™daoæ¥å£ ç¼–å†™æ¥å£éœ€è¦éµå¾ªï¼š å®ç°JpaRepository&lt;T,V&gt;å’ŒJpaSpecificationExecutoræ¥å£ã€‚ JpaRepository&lt;T,V&gt;:ç”¨äºå®ŒæˆåŸºæœ¬çš„CRUDæ“ä½œã€‚ Tï¼šä¸æ•°æ®åº“è¡¨å¯¹åº”çš„å®ä½“ç±»å‹ Vï¼šä¸æ•°æ®åº“è¡¨å¯¹åº”å®ä½“çš„ä¸»é”®ç±»å‹ JpaSpecificationExecutor:ä¸æ•°æ®åº“è¡¨å¯¹åº”çš„å®ä½“ç±»å‹ æä¾›ç›¸åº”çš„æ³›å‹ javapackage ctgu.dao;import ctgu.pojo.Customer;import org.springframework.data.jpa.repository.JpaRepository;import org.springframework.data.jpa.repository.JpaSpecificationExecutor;import org.springframework.data.jpa.repository.Modifying;import org.springframework.data.jpa.repository.Query;import java.util.List;/** * ç¬¦åˆspringDataJpaçš„daoå±‚æ¥å£è§„èŒƒ * JpaRepository&lt;æ“ä½œçš„å®ä½“ç±»å‹,å®ä½“ç±»å‹ä¸­çš„ ä¸»é”® å±æ€§çš„ç±»å‹&gt; * i å°è£…äº†åŸºæœ¬çš„CRUDçš„æ“ä½œ * JpaSpecificationExecutor&lt;æ“ä½œçš„å®ä½“ç±»ç±»å‹&gt; * i å°è£…äº†å¤æ‚æŸ¥è¯¢ï¼ˆåˆ†é¡µæ“ä½œï¼‰ */public interface CustomerDao extends JpaRepository&lt;Customer,Long&gt;, JpaSpecificationExecutor&lt;Customer&gt; &#123;&#125; æµ‹è¯• javapackage ctgu.test;import ctgu.dao.CustomerDao;import ctgu.pojo.Customer;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import org.springframework.transaction.annotation.Transactional;import javax.persistence.Table;import java.util.List;/** * å£°æ˜spingæä¾›çš„å•å…ƒæµ‹è¯•ç¯å¢ƒ */@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration(locations = \"classpath:applicationContext.xml\")public class CustomerDaoTest &#123; @Autowired private CustomerDao customerDao; /** * æ ¹æ®idæŸ¥è¯¢ * findOne(ä¸»é”®) */ @Test public void findCustomer()&#123; Customer customer = customerDao.findOne(2L); System.out.println(customer); &#125; Spring Data JPAå®ç°CRUDå®Œæˆä¸Šè¿°å…¥é—¨æ¡ˆä¾‹åï¼Œæˆ‘ä»¬å¯¹Customerç±»è¿›è¡ŒCRUDæµ‹è¯•ï¼š save(Object) java/** * save()ä¿å­˜æˆ–è€…æ›´æ–° * å¦‚æœä¼ å…¥çš„å¯¹è±¡æ²¡æœ‰idå±æ€§ï¼Œé‚£ä¹ˆå°±æ˜¯ä¿å­˜ï¼› * å¦‚æœå­˜åœ¨idå±æ€§ï¼Œå°±æ ¹æ®idæŸ¥è¯¢åï¼Œå†æ›´æ–° */ @Test public void saveCustomer()&#123; Customer customer = new Customer(); customer.setCustAddress(\"æ¹–åŒ—çœå®œæ˜Œå¸‚\"); customer.setCustName(\"coderxz\"); customerDao.save(customer); &#125; @Test public void updateCustomer()&#123; Customer customer = new Customer(); customer.setCustAddress(\"æ¹–åŒ—çœå®œæ˜Œå¸‚\"); customer.setCustName(\"coderxzï¼ˆä¿®æ”¹ï¼‰\"); customer.setCustId(5L); customerDao.save(customer); &#125; findOne(ä¸»é”®å±æ€§) java/** * æ ¹æ®idæŸ¥è¯¢ * findOne(ä¸»é”®) */ @Test public void findCustomer()&#123; Customer customer = customerDao.findOne(2L); System.out.println(customer); &#125; getOne(ä¸»é”®å±æ€§) java/** * getOne(Long id) * æµ‹è¯•æ—¶éœ€è¦åŠ å…¥ @Transactionalä¿è¯getOneï¼ˆï¼‰æ­£å¸¸è¿è¡Œ * getOneå’ŒfindOneæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿemæ˜¯EntityManagerå¯¹è±¡ * findOne() * åº•å±‚è°ƒç”¨ em.findï¼ˆï¼‰ ç«‹å³åŠ è½½ * getOne() * åº•å±‚è°ƒç”¨ em.getReference() å»¶è¿ŸåŠ è½½ */ @Test @Transactional public void getOne()&#123; Customer customer = customerDao.getOne(4L); System.out.println(customer); &#125; delete(ä¸»é”®/å¯¹è±¡) java/** * æ ¹æ®idè¿›è¡Œåˆ é™¤ * å…ˆæ ¹æ®idè¿›è¡ŒæŸ¥è¯¢ï¼Œå¦‚æœæœ‰å†æ‰§è¡Œåˆ é™¤ æ‰§è¡Œäº†selectåæ‰§è¡Œdelete */ @Test public void deleteCustomer()&#123; customerDao.delete(2L); &#125; findAll()/count()/exists java@Test public void findAllCustomer()&#123; List&lt;Customer&gt; list = customerDao.findAll(); for(Customer customer:list)&#123; System.out.println(customer); &#125; &#125; @Test public void countCustomer()&#123; long count = customerDao.count(); System.out.println(\"ç»Ÿè®¡å®¢æˆ·æ€»æ¡æ•°ï¼š\"+count); &#125; /** * æµ‹è¯•ç”¨æˆ·æ˜¯å¦å­˜åœ¨ * åº•å±‚æ‰§è¡Œçš„æ˜¯select */ @Test public void ExistsCustomer()&#123; boolean exists = customerDao.exists(10L); System.out.println(\"idä¸º10çš„ç”¨æˆ·å­˜åœ¨å—ï¼Ÿ\"+exists); &#125;","categories":[{"name":"Spring Data JPA","slug":"Spring-Data-JPA","permalink":"http://SlectRxz.github.io/categories/Spring-Data-JPA/"}],"tags":[{"name":"Javaæ¡†æ¶","slug":"Javaæ¡†æ¶","permalink":"http://SlectRxz.github.io/tags/Javaæ¡†æ¶/"}]},{"title":"JPAç®€ä»‹","slug":"Spring Data JPA/SpringDataJPA_ç®€ä»‹","date":"2019-12-12T16:00:00.000Z","updated":"2019-12-20T11:51:36.258Z","comments":true,"path":"2019/12/13/Spring Data JPA/SpringDataJPA_ç®€ä»‹/","link":"","permalink":"http://SlectRxz.github.io/2019/12/13/Spring Data JPA/SpringDataJPA_ç®€ä»‹/","excerpt":"å¯¹SpringDataJPAçš„å…¥é—¨ä»‹ç»ï¼ŒåŒ…æ‹¬ORMçš„æ¦‚è¿°ä»¥åŠå¯¹JPAå’Œhibernateçš„ç®€ä»‹ï¼Œæ­å»ºJPAçš„å…¥é—¨æ¡ˆä¾‹ã€å¢åˆ æŸ¥æ”¹ã€å¤æ‚æŸ¥è¯¢ç­‰æ“ä½œã€‚","text":"å¯¹SpringDataJPAçš„å…¥é—¨ä»‹ç»ï¼ŒåŒ…æ‹¬ORMçš„æ¦‚è¿°ä»¥åŠå¯¹JPAå’Œhibernateçš„ç®€ä»‹ï¼Œæ­å»ºJPAçš„å…¥é—¨æ¡ˆä¾‹ã€å¢åˆ æŸ¥æ”¹ã€å¤æ‚æŸ¥è¯¢ç­‰æ“ä½œã€‚ ORMçš„æ¦‚è¿° ORMï¼ˆObject-Relational Mappingï¼‰è¡¨ç¤ºå¯¹è±¡å…³ç³»æ˜ å°„ã€‚åŸºäºé¢å‘å¯¹è±¡çš„æ€æƒ³ï¼Œå°†å¯¹è±¡ä¸å…³ç³»å‹æ•°æ®åº“è¿›è¡Œæ˜ å°„ã€‚ç®€å•è€Œè¨€ï¼ŒORMå°±æ˜¯å»ºç«‹å®ä½“ç±»å’Œæ•°æ®åº“è¡¨ä¹‹é—´çš„å…³ç³»ï¼Œä»è€Œè¾¾åˆ°æ“ä½œå®ä½“ç±»å°±ç›¸å½“äºæ“ä½œæ•°æ®åº“è¡¨çš„ç›®çš„ã€‚ ä¸»è¦ç›®çš„ï¼šæ“ä½œå®ä½“ç±»å°±ç›¸å½“äºæ“ä½œæ•°æ®åº“è¡¨ å»ºç«‹ä¸¤ä¸ªæ˜ å°„å…³ç³»ï¼š å®ä½“ç±»å’Œè¡¨çš„æ˜ å°„å…³ç³» å®ä½“ç±»ä¸­å±æ€§å’Œè¡¨ä¸­å­—æ®µçš„æ˜ å°„å…³ç³» ä¸å†é‡ç‚¹å…³æ³¨ï¼šsqlè¯­å¥ JAPçš„æ¦‚è¿°å¸¸è§çš„ORMæ¡†æ¶æœ‰Mybatis(åŠè‡ªåŠ¨)ï¼ŒHibernateï¼ˆå…¨è‡ªåŠ¨ï¼‰ï¼ŒJPAã€‚ JAPï¼ˆJava Persistence APIï¼‰ï¼Œå³JavaæŒä¹…åŒ–APIï¼Œç”±SUNå…¬å¸é€€å‡ºçš„ä¸€å¥—åŸºäºORMçš„è§„èŒƒï¼Œå†…éƒ¨ç”±ä¸€ç³»åˆ—çš„æ¥å£å’ŒæŠ½è±¡ç±»ç»„æˆã€‚ JPAçš„ä¼˜åŠ¿ï¼š 1. æ ‡å‡†åŒ– JPA æ˜¯ JCP ç»„ç»‡å‘å¸ƒçš„ Java EE æ ‡å‡†ä¹‹ä¸€ï¼Œå› æ­¤ä»»ä½•å£°ç§°ç¬¦åˆ JPA æ ‡å‡†çš„æ¡†æ¶éƒ½éµå¾ªåŒæ ·çš„æ¶æ„ï¼Œæä¾›ç›¸åŒçš„è®¿é—®APIï¼Œè¿™ä¿è¯äº†åŸºäºJPAå¼€å‘çš„ä¼ä¸šåº”ç”¨èƒ½å¤Ÿç»è¿‡å°‘é‡çš„ä¿®æ”¹å°±èƒ½å¤Ÿåœ¨ä¸åŒçš„JPAæ¡†æ¶ä¸‹è¿è¡Œã€‚ 2. å®¹å™¨çº§ç‰¹æ€§çš„æ”¯æŒ JPAæ¡†æ¶ä¸­æ”¯æŒå¤§æ•°æ®é›†ã€äº‹åŠ¡ã€å¹¶å‘ç­‰å®¹å™¨çº§äº‹åŠ¡ï¼Œè¿™ä½¿å¾— JPA è¶…è¶Šäº†ç®€å•æŒä¹…åŒ–æ¡†æ¶çš„å±€é™ï¼Œåœ¨ä¼ä¸šåº”ç”¨å‘æŒ¥æ›´å¤§çš„ä½œç”¨ã€‚ 3. ç®€å•æ–¹ä¾¿ JPAçš„ä¸»è¦ç›®æ ‡ä¹‹ä¸€å°±æ˜¯æä¾›æ›´åŠ ç®€å•çš„ç¼–ç¨‹æ¨¡å‹ï¼šåœ¨JPAæ¡†æ¶ä¸‹åˆ›å»ºå®ä½“å’Œåˆ›å»ºJava ç±»ä¸€æ ·ç®€å•ï¼Œæ²¡æœ‰ä»»ä½•çš„çº¦æŸå’Œé™åˆ¶ï¼Œåªéœ€è¦ä½¿ç”¨ javax.persistence.Entityè¿›è¡Œæ³¨é‡Šï¼ŒJPAçš„æ¡†æ¶å’Œæ¥å£ä¹Ÿéƒ½éå¸¸ç®€å•ï¼Œæ²¡æœ‰å¤ªå¤šç‰¹åˆ«çš„è§„åˆ™å’Œè®¾è®¡æ¨¡å¼çš„è¦æ±‚ï¼Œå¼€å‘è€…å¯ä»¥å¾ˆå®¹æ˜“çš„æŒæ¡ã€‚JPAåŸºäºéä¾µå…¥å¼åŸåˆ™è®¾è®¡ï¼Œå› æ­¤å¯ä»¥å¾ˆå®¹æ˜“çš„å’Œå…¶å®ƒæ¡†æ¶æˆ–è€…å®¹å™¨é›†æˆ 4. æŸ¥è¯¢èƒ½åŠ› JPAçš„æŸ¥è¯¢è¯­è¨€æ˜¯é¢å‘å¯¹è±¡è€Œéé¢å‘æ•°æ®åº“çš„ï¼Œå®ƒä»¥é¢å‘å¯¹è±¡çš„è‡ªç„¶è¯­æ³•æ„é€ æŸ¥è¯¢è¯­å¥ï¼Œå¯ä»¥çœ‹æˆæ˜¯Hibernate HQLçš„ç­‰ä»·ç‰©ã€‚JPAå®šä¹‰äº†ç‹¬ç‰¹çš„JPQLï¼ˆJava Persistence Query Languageï¼‰ï¼ŒJPQLæ˜¯EJB QLçš„ä¸€ç§æ‰©å±•ï¼Œå®ƒæ˜¯é’ˆå¯¹å®ä½“çš„ä¸€ç§æŸ¥è¯¢è¯­è¨€ï¼Œæ“ä½œå¯¹è±¡æ˜¯å®ä½“ï¼Œè€Œä¸æ˜¯å…³ç³»æ•°æ®åº“çš„è¡¨ï¼Œè€Œä¸”èƒ½å¤Ÿæ”¯æŒæ‰¹é‡æ›´æ–°å’Œä¿®æ”¹ã€JOINã€GROUP BYã€HAVING ç­‰é€šå¸¸åªæœ‰ SQL æ‰èƒ½å¤Ÿæä¾›çš„é«˜çº§æŸ¥è¯¢ç‰¹æ€§ï¼Œç”šè‡³è¿˜èƒ½å¤Ÿæ”¯æŒå­æŸ¥è¯¢ã€‚ 5. é«˜çº§ç‰¹æ€§ JPA ä¸­èƒ½å¤Ÿæ”¯æŒé¢å‘å¯¹è±¡çš„é«˜çº§ç‰¹æ€§ï¼Œå¦‚ç±»ä¹‹é—´çš„ç»§æ‰¿ã€å¤šæ€å’Œç±»ä¹‹é—´çš„å¤æ‚å…³ç³»ï¼Œè¿™æ ·çš„æ”¯æŒèƒ½å¤Ÿè®©å¼€å‘è€…æœ€å¤§é™åº¦çš„ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ¨¡å‹è®¾è®¡ä¼ä¸šåº”ç”¨ï¼Œè€Œä¸éœ€è¦è‡ªè¡Œå¤„ç†è¿™äº›ç‰¹æ€§åœ¨å…³ç³»æ•°æ®åº“çš„æŒä¹…åŒ–ã€‚ JAPä¸hibernateçš„å…³ç³» hibernateæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„å¯¹è±¡å…³ç³»æ˜ å°„æ¡†æ¶ï¼Œå®ƒå¯¹JDBCè¿›è¡Œäº†éå¸¸è½»é‡çº§çš„å¯¹è±¡å°è£…ï¼Œå®ƒå°†POJOä¸æ•°æ®åº“è¡¨å»ºç«‹æ˜ å°„å…³ç³»ï¼Œæ˜¯ä¸€ä¸ªå…¨è‡ªåŠ¨çš„ormæ¡†æ¶ï¼Œhibernateå¯ä»¥è‡ªåŠ¨ç”ŸæˆSQLè¯­å¥ï¼Œè‡ªåŠ¨æ‰§è¡Œï¼Œä½¿å¾—Javaç¨‹åºå‘˜å¯ä»¥éšå¿ƒæ‰€æ¬²çš„ä½¿ç”¨å¯¹è±¡ç¼–ç¨‹æ€ç»´æ¥æ“çºµæ•°æ®åº“ã€‚ æ€»ä¹‹ï¼Œhibernateçš„ç›®çš„åœ¨äºç¨‹åºå‘˜å¿½ç•¥SQLè¯­å¥ï¼Œä»¥æ‰§è¡Œå¯¹è±¡çš„å½¢å¼è¾¾åˆ°æ“ä½œæ•°æ®åº“è¡¨ã€‚ JPAå’ŒHibernateçš„å…³ç³»å°±åƒJDBCå’ŒJDBCé©±åŠ¨çš„å…³ç³»ï¼ŒJPAæ˜¯è§„èŒƒï¼ŒHibernateé™¤äº†ä½œä¸ºORMæ¡†æ¶ä¹‹å¤–ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ç§JPAå®ç°ã€‚JPAæ€ä¹ˆå–ä»£Hibernateå‘¢ï¼ŸJDBCè§„èŒƒå¯ä»¥é©±åŠ¨åº•å±‚æ•°æ®åº“å—ï¼Ÿç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½¿ç”¨JPAè§„èŒƒè¿›è¡Œæ•°æ®åº“æ“ä½œï¼Œåº•å±‚éœ€è¦hibernateä½œä¸ºå…¶å®ç°ç±»å®Œæˆæ•°æ®æŒä¹…åŒ–å·¥ä½œã€‚ï¼ˆå¯ä»¥ç±»æ¯”JDBCè§„èŒƒå’Œå„ä¸ªæ•°æ®åº“å‚å•†æ¥å…·ä½“å®ç°è¿™ä¸¤è€…çš„å…³ç³»ï¼‰ JPAå…¥é—¨æ¡ˆä¾‹çš„æ­å»ºåŸºäºå·¥ç¨‹ï¼šMavenå·¥ç¨‹ åæ ‡ï¼šæ–‡ç« ç»“å°¾å¤„ æ•°æ®åº“è¡¨ï¼š Code/*åˆ›å»ºå®¢æˆ·è¡¨*/ CREATE TABLE cst_customer ( cust_id bigint(32) NOT NULL AUTO_INCREMENT COMMENT &apos;å®¢æˆ·ç¼–å·(ä¸»é”®)&apos;, cust_name varchar(32) NOT NULL COMMENT &apos;å®¢æˆ·åç§°(å…¬å¸åç§°)&apos;, cust_source varchar(32) DEFAULT NULL COMMENT &apos;å®¢æˆ·ä¿¡æ¯æ¥æº&apos;, cust_industry varchar(32) DEFAULT NULL COMMENT &apos;å®¢æˆ·æ‰€å±è¡Œä¸š&apos;, cust_level varchar(32) DEFAULT NULL COMMENT &apos;å®¢æˆ·çº§åˆ«&apos;, cust_address varchar(128) DEFAULT NULL COMMENT &apos;å®¢æˆ·è”ç³»åœ°å€&apos;, cust_phone varchar(64) DEFAULT NULL COMMENT &apos;å®¢æˆ·è”ç³»ç”µè¯&apos;, PRIMARY KEY (`cust_id`) ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8; å®ä½“ç±»POJOï¼š javapublic class Customer implements Serializable &#123; private Long custId; private String custName; private String custSource; private String custIndustry; private String custLevel; private String custAddress; private String custPhone; ...get/setæ–¹æ³•ï¼ˆç•¥ï¼‰ é¡¹ç›®ç›®å½•ï¼š æ¡ˆä¾‹ï¼šå¯¹æ•°æ®åº“ä¸­çš„å®¢æˆ·è¡¨ï¼ˆå¢åˆ æŸ¥æ”¹ï¼‰ åˆ›å»ºmavenå·¥ç¨‹ï¼Œå¯¼å…¥åæ ‡ é…ç½®JPAçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ ä½ç½®ï¼šé…ç½®åˆ°ç±»è·¯å¾„ä¸‹çš„ä¸€ä¸ªå«åšMETA-INFçš„æ–‡ä»¶å¤¹ä¸‹ å‘½åï¼špersistent.xml xml&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;persistence xmlns=\"http://java.sun.com/xml/ns/persistence\" version=\"2.0\"&gt; &lt;!-- æŒä¹…åŒ–å•å…ƒ nameï¼šæŒä¹…åŒ–å•å…ƒåç§° å¯ä»¥è‡ªå®šä¹‰ transaction-typeï¼šäº‹åŠ¡ç®¡ç†çš„æ–¹å¼ JTA:åˆ†å¸ƒå¼äº‹åŠ¡ç®¡ç†ï¼ˆé’ˆå¯¹ï¼šä¸åŒçš„è¡¨åˆ†å¸ƒåœ¨ä¸åŒçš„æ•°æ®åº“ä¸­ï¼‰ RESOURCE_LOCALï¼šæœ¬åœ°äº‹åŠ¡ç®¡ç† --&gt; &lt;persistence-unit name=\"myJpa\" transaction-type=\"RESOURCE_LOCAL\"&gt; &lt;!--1.jpaçš„å®ç°æ–¹å¼--&gt; &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt; &lt;properties&gt; &lt;!-- 2.é…ç½®æ•°æ®åº“ä¿¡æ¯ ç”¨æˆ·åï¼Œjavax.persistence.jdbc.user å¯†ç ï¼Œ javax.persistence.jdbc.password é©±åŠ¨ï¼Œ javax.persistence.jdbc.driver æ•°æ®åº“åœ°å€ javax.persistence.jdbc.url --&gt; &lt;property name=\"javax.persistence.jdbc.user\" value=\"root\"/&gt; &lt;property name=\"javax.persistence.jdbc.password\" value=\"root\"/&gt; &lt;property name=\"javax.persistence.jdbc.driver\" value=\"com.mysql.jdbc.Driver\"/&gt; &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:mysql://localhost:3306/mybatis?characterEncoding=utf-8\"/&gt; &lt;!--3.é…ç½®jpaå®ç°ï¼ˆhibernateï¼‰çš„é…ç½®ä¿¡æ¯ æ˜¾ç¤ºsqlï¼šhibernate.show_sql false/true è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨ï¼šhibernate.hbm2ddl.auto createï¼šç¨‹åºè¿è¡Œæ—¶åˆ›å»ºæ•°æ®åº“è¡¨ï¼ˆå¦‚æœè¡¨å·²å­˜åœ¨ï¼Œå…ˆåˆ é™¤å†åˆ›å»ºï¼‰ updateï¼šç¨‹åºè¿è¡Œæ—¶åˆ›å»ºï¼ˆå¦‚æœæœ‰è¡¨ï¼Œä¸ä¼šåˆ›å»ºè¡¨ï¼‰ noneï¼šä¸ä¼šåˆ›å»ºè¡¨ --&gt; &lt;property name=\"hibernate.show_sql\" value=\"true\"/&gt; &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"update\"/&gt; &lt;/properties&gt; &lt;/persistence-unit&gt;&lt;/persistence&gt; é…ç½®å®ä½“ç±»ä¸æ•°æ®åº“è¡¨çš„æ˜ å°„å…³ç³» æˆ‘ä»¬éœ€è¦é…ç½®ï¼š 1).å®ä½“ç±»ä¸è¡¨çš„æ˜ å°„å…³ç³»ï¼ˆæ­¤pojoä¸æ•°æ®åº“ä¸­çš„é‚£ä¸€å¼ è¡¨å…³ç³»æ˜ å°„ï¼‰ â€‹ @ Entityâ€‹ @ Table(name=â€cst_customerâ€)nameè¡¨ç¤ºæ•°æ®åº“ä¸­è¡¨çš„åç§° 2).å®ä½“ç±»ä¸­å±æ€§ä¸è¡¨ä¸­å­—æ®µçš„æ˜ å°„å…³ç³» â€‹ @ Idå£°æ˜ä¸»é”®çš„è®¾ç½®â€‹ @ GeneratedValueé…ç½®ä¸»é”®æ˜¯ç”Ÿæˆç­–ç•¥ï¼ˆè‡ªåŠ¨å¢é•¿ï¼‰â€‹ strategy=â€‹ GenerationType.IDENTITY:è‡ªå¢ Mysqlï¼ˆåº•å±‚æ•°æ®åº“æ”¯æŒçš„è‡ªå¢é•¿æ–¹å¼å¯¹idè‡ªå¢ï¼‰â€‹ GenerationType.SEQUENCEï¼šåºåˆ— Oracleï¼ˆåº•å±‚æ•°æ®åº“å¿…é¡»æ”¯æŒåºåˆ—ï¼‰â€‹ GenerationType.TABLEï¼šjpaæä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œé€šè¿‡ä¸€å¼ æ•°æ®åº“è¡¨çš„å½¢å¼å¸®åŠ©æˆ‘ä»¬å®Œæˆè‡ªå¢â€‹ GenerationType.AUTO:æœ‰ç¨‹åºè‡ªåŠ¨çš„å¸®åŠ©æˆ‘ä»¬é€‰æ‹©ä¸»é”®ç”Ÿæˆç­–ç•¥â€‹ @ Column(name = â€œcust_idâ€)æ•°æ®åº“ä¸­è¡¨ä¸­å­—æ®µçš„åå­— javapackage ctgu.pojo;import javax.persistence.*;@Entity@Table(name=\"cst_customer\")public class Customer &#123; /** * @ Idå£°æ˜ä¸»é”®çš„è®¾ç½® * @ GeneratedValueé…ç½®ä¸»é”®æ˜¯ç”Ÿæˆç­–ç•¥ï¼ˆè‡ªåŠ¨å¢é•¿ï¼‰ * GenerationType.IDENTITY * @ Column(name = \"cust_id\")æ•°æ®åº“ä¸­è¡¨ä¸­å­—æ®µçš„åå­— */ @Id @GeneratedValue(strategy = GenerationType.IDENTITY) @Column(name = \"cust_id\") private Long custId; @Column(name = \"cust_name\") private String custName; @Column(name = \"cust_source\") private String custSource; @Column(name = \"cust_industry\") private String custIndustry; @Column(name = \"cust_level\") private String custLevel; @Column(name = \"cust_address\") private String custAddress; @Column(name = \"cust_phone\") private String custPhone; ...set/getæ–¹æ³•(ç•¥)&#125; æµ‹è¯• æ“ä½œï¼šå‘æ•°æ®åº“ä¸­æ·»åŠ ä¸€ä¸ªç”¨æˆ·ã€‚ Jpaçš„æ“ä½œæ­¥éª¤ï¼š 1.åŠ è½½é…ç½®æ–‡ä»¶åˆ›å»ºå·¥å‚ï¼ˆå®ä½“ç®¡ç†å™¨å·¥å‚ï¼‰å¯¹è±¡ 2.é€šè¿‡å®ä½“ç®¡ç†ç±»å·¥å‚è·å–å®ä½“ç®¡ç†å™¨ 3.è·å–äº‹åŠ¡å¯¹è±¡ï¼Œå¼€å¯äº‹åŠ¡ï¼ˆé‡è¦ï¼ï¼‰ 4.å®Œæˆå¢åˆ æ”¹æŸ¥ 5.æäº¤äº‹åŠ¡ï¼ˆå¦‚æœæŠ›å‡ºå¼‚å¸¸ï¼Œå›æ»šäº‹åŠ¡ï¼‰ 6.é‡Šæ”¾èµ„æº java@Test public void saveCustomer()&#123; // 1.åŠ è½½é…ç½®æ–‡ä»¶åˆ›å»ºå·¥å‚ï¼ˆå®ä½“ç®¡ç†å™¨å·¥å‚ï¼‰å¯¹è±¡ è¾“å…¥å‚æ•°ï¼šæŒä¹…åŒ–å•å…ƒåç§°ï¼Œåœ¨ä¸‹xmlä¸­ EntityManagerFactory factory = Persistence.createEntityManagerFactory(\"myJpa\"); //2.é€šè¿‡å®ä½“ç®¡ç†ç±»å·¥å‚è·å–å®ä½“ç®¡ç†å™¨ EntityManager manager = factory.createEntityManager(); //3.è·å–äº‹åŠ¡å¯¹è±¡ï¼Œå¼€å¯äº‹åŠ¡ï¼ˆé‡è¦ï¼ï¼‰ EntityTransaction transaction = manager.getTransaction(); //å¼€å¯äº‹åŠ¡ transaction.begin(); //4.åˆ›å»ºå¯¹è±¡ï¼Œå®Œæˆä¿å­˜æ“ä½œ Customer customer = new Customer(); customer.setCustName(\"ä¸‰å³¡å¤§å­¦\"); customer.setCustIndustry(\"å¤§å­¦\"); manager.persist(customer); // 5.æäº¤äº‹åŠ¡ transaction.commit(); //6.é‡Šæ”¾èµ„æº manager.close(); //factory.close(); &#125; æˆ‘ä»¬å‘ç°ä¸Šè¿°æ­¥éª¤ä¸­è·å–å®ä½“ç®¡ç†å™¨æ˜¯å¯ä»¥ç®€åŒ–æˆå·¥å…·ç±»çš„ã€‚ JpaUtilsï¼š * è§£å†³å®ä½“ç®¡ç†å™¨å·¥å‚çš„æµªè´¹èµ„æºå’Œè€—æ—¶çš„é—®é¢˜ * é€šè¿‡é™æ€ä»£ç å—çš„å½¢å¼ï¼Œå½“ç¨‹åºç¬¬ä¸€æ¬¡è®¿é—®æ­¤ç±»æ—¶ï¼Œåˆ›å»ºä¸€ä¸ªå…¬å…±ç®¡ç†å™¨å·¥å‚å¯¹è±¡ * ç¬¬ä¸€æ¬¡è®¿é—®getEntityManagerï¼ˆï¼‰æ–¹æ³•æ—¶ï¼Œé¦–å…ˆä¼šæ‰§è¡Œé™æ€ä»£ç å—åˆ›å»ºä¸€ä¸ªfactoryå¯¹è±¡ï¼Œå†åˆ›å»ºä¸€ä¸ªEntityManagerå¯¹è±¡ï¼› * ç¬¬äºŒæ¬¡è®¿é—®æ—¶ï¼Œç”±äºé™æ€ä»£ç å—åªä¼šåœ¨åˆ›å»ºæ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œç›´æ¥è¿”å›EntityManagerå¯¹è±¡ javapackage ctgu.utils;import javax.persistence.EntityManager;import javax.persistence.EntityManagerFactory;public class JpaUtils &#123; private static EntityManagerFactory factory; static &#123; factory = Persistence.createEntityManagerFactory(\"myJpa\"); &#125; /** * è·å–EntityManagerå¯¹è±¡ */ public static EntityManager getEntityManager()&#123; return factory.createEntityManager(); &#125;&#125; ## JPAä¸­çš„APIä»‹ç» ä¸Šè¿°å·²ç»å®ç°äº†ä¸€ä¸ªåŸºæœ¬çš„ä¿å­˜ç”¨æˆ·çš„æ¡ˆä¾‹ï¼Œä¸‹é¢å¯¹äºJPAä¸­çš„ä¸€äº›APIè¿›è¡Œç®€å•çš„ä»‹ç»ï¼š 1. Persistence javaEntityManagerFactory factory = Persistence.createEntityManagerFactory(\"myJpa\"); ä¸»è¦æ˜¯ç”¨äºè·å–EntityManageFactoryå¯¹è±¡ï¼Œé€šè¿‡è°ƒç”¨è¯¥ç±»çš„é™æ€æ–¹æ³•ï¼Œå½¢å‚ä¸ºé…ç½®æ–‡ä»¶ä¸­æŒä¹…åŒ–å•å…ƒçš„åç§°ã€‚ 2. EntityManageFactory javaEntityManager manager = factory.createEntityManager(); EntityManageFactoryæ¥å£ä¸»è¦ç”¨äºåˆ›å»ºEntityManageå®ä¾‹ã€‚ 3. EntityManage javamanager.persist(customer);//å¢manager.find(Customer.class, 1L);//æŸ¥ï¼ˆç«‹å³åŠ è½½ï¼‰manager.getReference(Customer.class, 1L);//æŸ¥ï¼ˆå»¶è¿ŸåŠ è½½ï¼‰manager.remove(customer);//åˆ manager.merge(customer);//æ”¹ EntityManageræ˜¯å®ŒæˆæŒä¹…åŒ–æ“ä½œçš„æ ¸å¿ƒå¯¹è±¡ã€‚å®ä½“ç±»ä½œä¸ºæ™®é€š javaå¯¹è±¡ï¼Œåªæœ‰åœ¨è°ƒç”¨ EntityManagerå°†å…¶æŒä¹…åŒ–åæ‰ä¼šå˜æˆæŒä¹…åŒ–å¯¹è±¡ã€‚EntityManagerå¯¹è±¡åœ¨ä¸€ç»„å®ä½“ç±»ä¸åº•å±‚æ•°æ®æºä¹‹é—´è¿›è¡Œ O/R æ˜ å°„çš„ç®¡ç†ã€‚å®ƒå¯ä»¥ç”¨æ¥ç®¡ç†å’Œæ›´æ–° Entity Bean, æ ¹æ¤ä¸»é”®æŸ¥æ‰¾ Entity Bean, è¿˜å¯ä»¥é€šè¿‡JPQLè¯­å¥æŸ¥è¯¢å®ä½“ã€‚ 4. EntityTransaction EntityTransactionæ˜¯å®Œæˆäº‹åŠ¡æ“ä½œçš„æ ¸å¿ƒå¯¹è±¡ï¼Œå¯¹äºEntityTransactionåœ¨æˆ‘ä»¬çš„javaä»£ç ä¸­æ‰¿æ¥çš„åŠŸèƒ½æ¯”è¾ƒç®€å• beginï¼šå¼€å¯äº‹åŠ¡ commitï¼šæäº¤äº‹åŠ¡ rollbackï¼šå›æ»šäº‹åŠ¡ ## JPAä¸­çš„å¢åˆ æŸ¥æ”¹ ä¸Šè¿°æˆ‘ä»¬å·²ç»ä»‹ç»äº†å‘æ•°æ®åº“ä¸­æ·»åŠ æ•°æ®ï¼Œä¸‹é¢ä»‹ç»JPAä¸­çš„åˆ é™¤ï¼Œä¿®æ”¹ï¼ŒæŸ¥è¯¢ï¼š æŸ¥è¯¢ï¼šæ ¹æ®idæŸ¥ä¿®å®¢æˆ·find()æ–¹æ³•ï¼š å‚æ•°ä¸€ï¼šclassï¼ŒæŸ¥è¯¢æ•°æ®çš„ç»“æœéœ€è¦åŒ…è£…çš„å®ä½“ç±»å‹çš„å­—èŠ‚ç  å‚æ•°äºŒï¼šæŸ¥è¯¢çš„ä¸»é”®çš„å–å€¼ getRefrence() å‚æ•°åŒä¸Š åŒºåˆ«ï¼š ä½¿ç”¨findæŸ¥è¯¢ï¼šï¼ˆç«‹å³åŠ è½½ï¼‰ 1.æŸ¥è¯¢çš„å¯¹è±¡å°±æ˜¯å½“å‰å¯¹è±¡æœ¬èº« 2.åœ¨è°ƒç”¨findæ–¹æ³•çš„æ—¶å€™ï¼Œå°±ä¼šå‘é€sqlè¯­å¥æŸ¥è¯¢æ•°æ®åº“ä½¿ç”¨getReferenceæŸ¥è¯¢ï¼šï¼ˆå»¶è¿ŸåŠ è½½ï¼‰ 1.è·å–çš„å¯¹è±¡æ˜¯ä¸€ä¸ªåŠ¨æ€ä»£ç†å¯¹è±¡ 2.è°ƒç”¨getReferenceæ–¹æ³•ä¸ä¼šç«‹å³å‘é€sqlè¯­å¥æŸ¥è¯¢æ•°æ®åº“å½“éœ€è¦è°ƒç”¨æŸ¥è¯¢ç»“æœå¯¹è±¡çš„æ—¶å€™ï¼Œæ‰ä¼šå‘é€æŸ¥è¯¢çš„sqlè¯­å¥ã€‚ä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Œä»€ä¹ˆæ—¶å€™å‘é€ java@Test public void findCustomer()&#123; //1.è·å–å®ä½“å™¨å·¥å‚ï¼Œè·å–å®ä½“å™¨ç®¡ç†å¯¹è±¡ EntityManager manager = JpaUtils.getEntityManager(); //2.è·å–äº‹åŠ¡å¯¹è±¡ EntityTransaction transaction = manager.getTransaction(); //å¼€å¯äº‹åŠ¡ transaction.begin(); //3.æ‰§è¡ŒæŸ¥è¯¢ Customer customer = manager.find(Customer.class, 1L);//è®°ä½æ·»åŠ Lï¼Œidæ˜¯Longç±»å‹çš„ //Customer customer = manager.getReference(Customer.class, 1L); System.out.println(customer); //4.æäº¤äº‹åŠ¡ transaction.commit(); manager.close(); &#125; â€‹ åˆ é™¤ï¼š â€‹ åˆ é™¤æ“ä½œï¼šæ³¨æ„ï¼šåˆ é™¤ä¸æ˜¯ç›´æ¥ä¼ å…¥ä¸€ä¸ªidå»åˆ é™¤ï¼Œè€Œæ˜¯ä¼ å…¥ä¸€ä¸ªå¯¹è±¡å»å®Œæˆåˆ é™¤æ“ä½œã€‚remove(Object) â€‹ å…ˆfindè¯¥ç”¨æˆ·ï¼Œå†æ‰§è¡ŒæŸ¥è¯¢ã€‚ java@Test public void deleteCustomer()&#123; EntityManager manager = JpaUtils.getEntityManager(); EntityTransaction transaction = manager.getTransaction(); transaction.begin(); Customer customer = manager.find(Customer.class, 1L); manager.remove(customer); transaction.commit(); manager.close(); &#125; æ›´æ”¹ï¼š å…ˆå°†å¯¹è±¡æŸ¥è¯¢å‡ºæ¥ï¼Œå†è°ƒç”¨merge(Object)æ–¹æ³•ã€‚ java@Test public void updateCustomer()&#123; EntityManager manager = JpaUtils.getEntityManager(); EntityTransaction transaction = manager.getTransaction(); transaction.begin(); Customer customer = manager.find(Customer.class, 2L); customer.setCustPhone(\"123456789\"); manager.merge(customer); transaction.commit(); manager.close(); &#125; JPAä¸­çš„å¤æ‚æŸ¥è¯¢JPQL(Java Persistence Query Language). SQL:æŸ¥è¯¢çš„æ˜¯æ•°æ®åº“ä¸­çš„è¡¨å’Œè¡¨çš„å­—æ®µã€‚ JPQLï¼šæŸ¥è¯¢çš„æ˜¯å®ä½“ç±»å’Œç±»ä¸­çš„å±æ€§ã€‚ åŸºäºé¦–æ¬¡åœ¨EJB2.0ä¸­å¼•å…¥çš„EJBæŸ¥è¯¢è¯­è¨€(EJB QL),JavaæŒä¹…åŒ–æŸ¥è¯¢è¯­è¨€(JPQL)æ˜¯ä¸€ç§å¯ç§»æ¤çš„æŸ¥è¯¢è¯­è¨€ï¼Œæ—¨åœ¨ä»¥é¢å‘å¯¹è±¡è¡¨è¾¾å¼è¯­è¨€çš„è¡¨è¾¾å¼ï¼Œå°†SQLè¯­æ³•å’Œç®€å•æŸ¥è¯¢è¯­ä¹‰ç»‘å®šåœ¨ä¸€èµ·Â·ä½¿ç”¨è¿™ç§è¯­è¨€ç¼–å†™çš„æŸ¥è¯¢æ˜¯å¯ç§»æ¤çš„ï¼Œå¯ä»¥è¢«ç¼–è¯‘æˆæ‰€æœ‰ä¸»æµæ•°æ®åº“æœåŠ¡å™¨ä¸Šçš„SQLã€‚å…¶ç‰¹å¾ä¸åŸç”ŸSQLè¯­å¥ç±»ä¼¼ï¼Œå¹¶ä¸”å®Œå…¨é¢å‘å¯¹è±¡ï¼Œé€šè¿‡ç±»åå’Œå±æ€§è®¿é—®ï¼Œè€Œä¸æ˜¯è¡¨åå’Œè¡¨çš„å±æ€§ã€‚ æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ· æŸ¥è¯¢æ‰€æœ‰å¯¹è±¡ï¼šSQL:select * from cst_customer â€‹ JPQL:from ctgu.pojo.Customer from Customerçœç•¥åŒ…è·¯å¾„ä¹Ÿè¡Œ æ³¨æ„ï¼šJPQLä¸­ä¸èƒ½å†™select * ï¼ˆå¯ä»¥å†™select count(id)ï¼‰ java@Test public void findAllCustomer()&#123; //1.è·å–EntityManagerå¯¹è±¡ EntityManager manager = JpaUtils.getEntityManager(); //2.å¼€å¯äº‹åŠ¡ EntityTransaction transaction = manager.getTransaction(); transaction.begin(); //3.æŸ¥è¯¢å…¨éƒ¨ String jpql=\"from Customer\"; //åˆ›å»ºQueryæŸ¥è¯¢å¯¹è±¡ï¼Œqueryå¯¹è±¡æ‰æ˜¯æ‰§è¡Œjpqlçš„å¯¹è±¡ Query query = manager.createQuery(jpql); List list = query.getResultList(); for(Object customer:list)&#123; System.out.println(customer); &#125; //4.æäº¤äº‹åŠ¡ transaction.commit(); //5.é‡Šæ”¾èµ„æº manager.close(); &#125; æ’åºæŸ¥è¯¢ SQL:SELECT * FROM cst_customer ORDER BY cust_id DESC JPQL:from Customer ORDER BY custId DESC java@Test public void OrderAllCustomer()&#123; //1.è·å–EntityManagerå¯¹è±¡ EntityManager manager = JpaUtils.getEntityManager(); //2.å¼€å¯äº‹åŠ¡ EntityTransaction transaction = manager.getTransaction(); transaction.begin(); //3.æŸ¥è¯¢å…¨éƒ¨ String jpql=\"from Customer ORDER BY custId DESC\"; //åˆ›å»ºQueryæŸ¥è¯¢å¯¹è±¡ï¼Œqueryå¯¹è±¡æ‰æ˜¯æ‰§è¡Œjpqlçš„å¯¹è±¡ Query query = manager.createQuery(jpql); List list = query.getResultList(); for(Object customer:list)&#123; System.out.println(customer); &#125; //4.æäº¤äº‹åŠ¡ transaction.commit(); //5.é‡Šæ”¾èµ„æº manager.close(); &#125; ç»Ÿè®¡æŸ¥è¯¢æ€»æ•° SQL:SELECT COUNT(cust_id) FROM cst_customer JPQL:select count(custId) from Customer java@Test public void countCustomer()&#123; //1.è·å–EntityManagerå¯¹è±¡ EntityManager manager = JpaUtils.getEntityManager(); //2.å¼€å¯äº‹åŠ¡ EntityTransaction transaction = manager.getTransaction(); transaction.begin(); //3.æŸ¥è¯¢å…¨éƒ¨ String jpql=\"select count(custId) from Customer \"; //åˆ›å»ºQueryæŸ¥è¯¢å¯¹è±¡ï¼Œqueryå¯¹è±¡æ‰æ˜¯æ‰§è¡Œjpqlçš„å¯¹è±¡ Query query = manager.createQuery(jpql); /** * ç”±äºè¿”å›çš„æ˜¯å•ä¸ªå€¼ * getSingleResult()å¾—åˆ°å”¯ä¸€çš„ç»“æœ * getResultList()ç›´æ¥å°†æŸ¥è¯¢çš„ç»“æœå°è£…åœ¨listé›†åˆä¸­ */ Object result = query.getSingleResult(); System.out.println(\"è¿”å›çš„ç”¨æˆ·æ€»æ•°ä¸ºï¼š\"+result); //4.æäº¤äº‹åŠ¡ transaction.commit(); //5.é‡Šæ”¾èµ„æº manager.close(); &#125; åˆ†é¡µæŸ¥è¯¢ SQL:SELECT * FROM cst_customer LIMIT ?,? JPQL:from Customer å†è®¾ç½®åˆ†é¡µçš„å‚æ•° java@Test public void PageCustomer()&#123; //1.è·å–EntityManagerå¯¹è±¡ EntityManager manager = JpaUtils.getEntityManager(); //2.å¼€å¯äº‹åŠ¡ EntityTransaction transaction = manager.getTransaction(); transaction.begin(); //3.æŸ¥è¯¢å…¨éƒ¨ String jpql=\"from Customer \"; //åˆ›å»ºQueryæŸ¥è¯¢å¯¹è±¡ï¼Œqueryå¯¹è±¡æ‰æ˜¯æ‰§è¡Œjpqlçš„å¯¹è±¡ Query query = manager.createQuery(jpql); /** * è®¾ç½®åˆ†é¡µå‚æ•° */ query.setFirstResult(1); query.setMaxResults(3); List list = query.getResultList(); for (Object customer:list) &#123; System.out.println(customer); &#125; //4.æäº¤äº‹åŠ¡ transaction.commit(); //5.é‡Šæ”¾èµ„æº manager.close(); &#125; æ¨¡ç³ŠæŸ¥è¯¢ SQL:SELECT * FROM cst_customer where cust_name LIKE â€˜%å¤§å­¦%â€™ JPQL:FORM Customer where custName like ? java@Test public void chooseCustomer()&#123; //1.è·å–EntityManagerå¯¹è±¡ EntityManager manager = JpaUtils.getEntityManager(); //2.å¼€å¯äº‹åŠ¡ EntityTransaction transaction = manager.getTransaction(); transaction.begin(); //3.æŸ¥è¯¢å…¨éƒ¨ String jpql=\" from Customer where custName like ? \"; //åˆ›å»ºQueryæŸ¥è¯¢å¯¹è±¡ï¼Œqueryå¯¹è±¡æ‰æ˜¯æ‰§è¡Œjpqlçš„å¯¹è±¡ Query query = manager.createQuery(jpql); /** * è®¾ç½®æŸ¥è¯¢æ¡ä»¶ * ç¬¬ä¸€ä¸ªå‚æ•°ï¼šå ä½ç¬¦çš„ç´¢å¼•ä½ç½® * ç¬¬äºŒä¸ªå‚æ•°ï¼šå–å€¼ */ query.setParameter(1,\"%å¤§å­¦%\"); List list = query.getResultList(); for (Object customer:list) &#123; System.out.println(customer); &#125; //4.æäº¤äº‹åŠ¡ transaction.commit(); //5.é‡Šæ”¾èµ„æº manager.close(); &#125; mavenåæ ‡&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;ctgu.rxz&lt;/groupId&gt; &lt;artifactId&gt;jpa-01&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.hibernate.version&gt;5.0.7.Final&lt;/project.hibernate.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;!-- junit --&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- hibernateå¯¹jpaçš„æ”¯æŒåŒ… --&gt; &lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt; &lt;version&gt;$&#123;project.hibernate.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- c3p0 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt; &lt;version&gt;$&#123;project.hibernate.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- logæ—¥å¿— --&gt; &lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;1.2.17&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Mysql and MariaDB --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.6&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt;","categories":[{"name":"Spring Data JPA","slug":"Spring-Data-JPA","permalink":"http://SlectRxz.github.io/categories/Spring-Data-JPA/"}],"tags":[{"name":"Javaæ¡†æ¶","slug":"Javaæ¡†æ¶","permalink":"http://SlectRxz.github.io/tags/Javaæ¡†æ¶/"}]},{"title":"javaåŸºç¡€çŸ¥è¯†å¤ä¹ ","slug":"javaåŸºç¡€/åŸºç¡€çŸ¥è¯†çš„å¤ä¹ ","date":"2019-11-03T16:00:00.000Z","updated":"2019-12-20T12:07:55.905Z","comments":true,"path":"2019/11/04/javaåŸºç¡€/åŸºç¡€çŸ¥è¯†çš„å¤ä¹ /","link":"","permalink":"http://SlectRxz.github.io/2019/11/04/javaåŸºç¡€/åŸºç¡€çŸ¥è¯†çš„å¤ä¹ /","excerpt":"åœ¨ä¿ç ”å‰å‚åŠ äº†äººäººçš„é¢è¯•ï¼Œä¸‰é¢åäº†æ— éŸ³è®¯äº†ï¼Œç„¶åé¢è¯•å‰ä¹Ÿå‡†å¤‡äº†ä¸€äº›çŸ¥è¯†å‚¨å¤‡ï¼ŒåŒ…æ‹¬Javaé›†åˆï¼Œçº¿ç¨‹ä»¥åŠé¢è¯•ç»å¸¸ä¼šé—®çš„ä¸€äº›åŸºç¡€é—®é¢˜ï¼Œæ•´ç†ä¸€ä¸‹ã€‚","text":"åœ¨ä¿ç ”å‰å‚åŠ äº†äººäººçš„é¢è¯•ï¼Œä¸‰é¢åäº†æ— éŸ³è®¯äº†ï¼Œç„¶åé¢è¯•å‰ä¹Ÿå‡†å¤‡äº†ä¸€äº›çŸ¥è¯†å‚¨å¤‡ï¼ŒåŒ…æ‹¬Javaé›†åˆï¼Œçº¿ç¨‹ä»¥åŠé¢è¯•ç»å¸¸ä¼šé—®çš„ä¸€äº›åŸºç¡€é—®é¢˜ï¼Œæ•´ç†ä¸€ä¸‹ã€‚ JavaåŸºç¡€éƒ¨åˆ† 1.é‡è½½å’Œé‡å†™åŒºåˆ« é‡è½½ï¼šåŒä¸€ä¸ªç±»ï¼Œç›¸åŒåç§°æ–¹æ³•ï¼Œå‚æ•°ç±»å‹ï¼Œä¸ªæ•°ï¼Œé¡ºåºï¼Œè¿”å›å€¼ï¼Œè®¿é—®é¡ºåºä¸åŒï¼Œå‘ç”Ÿåœ¨ç¼–è¯‘æ—¶ã€‚ é‡å†™ï¼šå‘ç”Ÿåœ¨çˆ¶å­ç±»ä¸­ï¼Œæ–¹æ³•åï¼Œå‚æ•°ç›¸åŒï¼ˆä¸åŒç±»ï¼‰ï¼Œè¿”å›å€¼çš„è®¿é—®èŒƒå›´è¦å°äºçˆ¶ç±»ï¼ŒæŠ›å‡ºå¼‚å¸¸çš„èŒƒå›´å°äºçˆ¶ç±»ï¼Œè®¿é—®ä¿®é¥°ç¬¦èŒƒå›´å¤§äºçˆ¶ç±»ï¼Œå¦‚æœprivateåˆ™ä¸èƒ½é‡å†™ã€‚ privateï¼šåªæœ‰æœ¬ç±»æ–¹æ³•å¯ä»¥è®¿é—®ï¼Œä¸èƒ½é‡å†™ï¼Œä¸å¯ç›´æ¥è®¿é—®ã€‚friendlyï¼šåŒ…è®¿é—®æƒé™ï¼Œå­ç±»ä¸å¯è®¿é—®ã€‚protectï¼šåŒåŒ…ï¼Œå­ç±»å‡å¯ï¼Œå…¶ä»–åŒ…ä¸å¯è®¿é—®ã€‚ 2.Stringã€StringBufferã€StringBuildçš„åŒºåˆ« String:åº•å±‚ç”±final char[]value é€‚åˆæ“ä½œå°‘é‡æ•°æ®StringBufferï¼šåº•å±‚ç”±char[]value å…¶æ“ä½œæ–¹æ³•æœ‰sychronizedä¿®é¥°ï¼Œçº¿ç¨‹å®‰å…¨ã€‚StringBuildï¼šåº•å±‚ç”±char[]value çº¿ç¨‹ä¸å®‰å…¨ï¼Œå¯æ‰©å±•ï¼Œåˆå§‹é•¿åº¦16ã€‚ 3.è‡ªåŠ¨è£…ç®±/è‡ªåŠ¨æ‹†ç®± è£…ç®±ï¼šå°†åŸºæœ¬ç±»å‹ç”¨ä»–ä»¬å¯¹åº”çš„å¼•ç”¨ç±»å‹åŒ…è£…ã€‚int-&gt;Integeræ‹†ç®±ï¼šå°†å¼•ç”¨ç±»å‹è½¬æ¢æˆåŸºæœ¬ç±»å‹ã€‚ 4.equalsä¸== equalsæ¥è‡ªobjectç±»ï¼Œå¯¹äºå…¶æ–¹æ³•åœ¨å¼€å‘æ‰‹å†Œè¿™æ ·æè¿°ï¼šå¯¹äºä»»ä½•éç©ºå¼•ç”¨å€¼ x å’Œ yï¼Œå½“ä¸”ä»…å½“ x å’Œ y å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæ­¤æ–¹æ³•æ‰è¿”å› trueï¼ˆx == y å…·æœ‰å€¼ trueï¼‰ã€‚ ä¹Ÿå°±æ˜¯å’Œ==ä¸€æ ·çš„ã€‚ ä½†æ˜¯Javaä¸­å¾ˆå¤šå¼•ç”¨ç±»å‹éƒ½å°†equalsæ–¹æ³•é‡å†™äº†ï¼Œå¯¹äºStringç±»å‹æ¥è¯´ï¼Œå®ƒçš„equalsä¸å†æ˜¯==è€Œå®æ¯”è¾ƒå…¶å†…å®¹æ˜¯å¦ç›¸ç­‰ã€‚æ³¨æ„ï¼šå½“æ­¤æ–¹æ³•è¢«é‡å†™æ—¶ï¼Œé€šå¸¸æœ‰å¿…è¦é‡å†™ hashCode æ–¹æ³•ï¼Œä»¥ç»´æŠ¤ hashCode æ–¹æ³•çš„å¸¸è§„åå®šï¼Œè¯¥åå®šå£°æ˜ç›¸ç­‰å¯¹è±¡å¿…é¡»å…·æœ‰ç›¸ç­‰çš„å“ˆå¸Œç ã€‚ 5.finalã€finallyã€finalizeåŒºåˆ« final: ä¿®é¥°å˜é‡ï¼šè¡¨ç¤ºè¯¥å˜é‡çš„å€¼ä¸å¯æ›´æ”¹ï¼ˆå°±æ˜¯å¸¸é‡ï¼‰ ä¿®é¥°å¼•ç”¨ç±»å‹å˜é‡ï¼šè¡¨ç¤ºè¯¥å¼•ç”¨å˜é‡åˆå§‹åŒ–åä¸èƒ½æŒ‡å‘å…¶ä»–å¯¹è±¡ã€‚ ä¿®é¥°ç±»ï¼šè¡¨ç¤ºè¯¥ç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼Œä¸”å…¶æˆå‘˜éƒ½é»˜è®¤ä¸ºfinalã€‚ï¼ˆæ—©æœŸfinalä¿®é¥°çš„æ–¹æ³•ä¼šè½¬æ¢ä¸ºå†…åµŒè°ƒç”¨ï¼Œæé«˜æ•ˆç‡ï¼‰ finallyï¼šä½¿ç”¨åœ¨try/catchä¸­ã€‚finalizeï¼šObjectç±»ä¸­çš„æ–¹æ³•ï¼Œåœ¨GCå†…å­˜æ¸…ç†å¯¹è±¡æ—¶è¢«è°ƒç”¨ã€‚ 6.æ¥å£å’ŒæŠ½è±¡ç±» æ¥å£ï¼šåªèƒ½å®šä¹‰ï¼Œä¸èƒ½å®ç°ï¼Œéƒ½ä¸ºpublicï¼ŒæŠ½è±¡ç±»å¯ä»¥æœ‰éæŠ½è±¡æ–¹æ³•ã€‚æ³¨æ„ï¼šJava8æ–°å˜åŒ–ä¸­æ¥å£å…è®¸æ·»åŠ é»˜è®¤å®ç°æ–¹æ³•ã€‚æ¥å£ä¸­çš„å˜é‡ä¸ºstatic finalä¿®é¥°å¿…é¡»åˆå§‹åŒ–ï¼ŒæŠ½è±¡ç±»ä¸­ä¸ä¸€å®šã€‚æŠ½è±¡ç±»ï¼šé™¤äº†ä¸èƒ½å®ç°ä¸æ™®é€šJavaç±»å¹¶æ— åŒºåˆ«ã€‚ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œä½†æ˜¯åªèƒ½å®ç°ä¸€ä¸ªæŠ½è±¡ç±»ã€‚æ¥å£æ˜¯è¡Œä¸ºçš„æŠ½è±¡ï¼ŒæŠ½è±¡ç±»æ˜¯å¯¹è±¡çš„æŠ½è±¡ï¼Œæ˜¯ä¸€ç§æ¨¡æ¿è®¾è®¡ã€‚ 7.Javaå¯¹è±¡çš„åˆå§‹åŒ–é¡ºåºã€‚ å•ä¸ªç±»ï¼šé™æ€ï¼ˆæˆå‘˜ã€ä»£ç å—ï¼‰&gt;æˆå‘˜å˜é‡&gt;æ„é€ å™¨è°ƒç”¨æ„é€ å‡½æ•°ï¼Œä¼šå…ˆè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œé»˜è®¤è°ƒç”¨æ— å‚æ„é€ å‡½æ•°ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½è¦å†™ã€‚ 8.trueã€falseã€nullæ˜¯å…³é”®å­—å—ï¼Ÿ ä¸æ˜¯ true/falseæ˜¯å¸ƒå°”å¸¸é‡ã€‚nullæ˜¯å¼•ç”¨ç±»å‹å­—é¢å˜é‡ã€‚ 9.Integerçš„ç¼“å­˜æœºåˆ¶ åœ¨Integerç±»ä¸­å°è£…äº†ä¸€ä¸ª-128~127ä¹‹é—´çš„æ•´å‹å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“å¹´åˆ›å»ºå€¼ä¸º-128~127ä¹‹é—´çš„å¯¹è±¡çš„æ—¶å€™ï¼Œä¼šè¿”å›åŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚ 10.Stringç±»å‹çš„åˆ›å»ºæ–¹å¼ String str=new String(â€œhelloworldâ€);è‡³å°‘åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ ï¼Œå¯èƒ½åˆ›å»ºäº†ä¸¤ä¸ªå¯¹è±¡ã€‚åŸå› ï¼šæˆ‘ä»¬éœ€è¦æŠŠè¿™å¥è¯æ‹†åˆ†æˆä¸ºä¸¤å¥ã€‚new String()å’ŒString str=ã€‚newè‚¯å®šåˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡çš„ï¼ŒString str=â€helloworldâ€,è¿™å¥è¯é¦–å…ˆåœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ‰¾ï¼Œçœ‹æ˜¯å¦å­˜åœ¨è¯¥å¯¹è±¡ï¼Œå¦‚æœå­˜åœ¨åˆ™æ— éœ€åˆ›å»ºæ–° å¯¹è±¡ç›´æ¥è¿”å›è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼›ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼ŒåŠ å…¥åˆ°å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ï¼Œè¿”å›å®ƒçš„å¼•ç”¨ã€‚ 11.åç»­æ›´æ–° Javaé›†åˆç¯‡","categories":[{"name":"æ‰¾å·¥ä½œç¬”è®°","slug":"æ‰¾å·¥ä½œç¬”è®°","permalink":"http://SlectRxz.github.io/categories/æ‰¾å·¥ä½œç¬”è®°/"}],"tags":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://SlectRxz.github.io/tags/JavaåŸºç¡€/"}]},{"title":"ä¿ç ”çš„ç»è¿‡","slug":"çæ‰¯æ·¡/ä¿ç ”ç»å†","date":"2019-09-28T16:00:00.000Z","updated":"2019-12-20T12:06:22.208Z","comments":true,"path":"2019/09/29/çæ‰¯æ·¡/ä¿ç ”ç»å†/","link":"","permalink":"http://SlectRxz.github.io/2019/09/29/çæ‰¯æ·¡/ä¿ç ”ç»å†/","excerpt":"éšç€9.28å·å¿—æ„¿çš„å¡«æŠ¥ï¼Œï¼Œå®£å‘Šç€æˆ‘ä¿ç ”çš„ä¹‹è·¯çš„ç»“æŸï¼Œä¸‰å¹´çš„åŠªåŠ›å§ï¼ŒåŒéçš„æœ¬ç§‘å­¦æ ¡éœ€è¦é£å‡åˆ°985çš„å­¦æ ¡æœ‰å¾ˆå¤§çš„éš¾åº¦ï¼Œä¸‹é¢å¯¹æˆ‘çš„ä¿ç ”çš„ç»å†ç®€å•çš„æ€»ç»“ä¸€ä¸‹ï¼Œç®—æ˜¯å¯¹è‡ªå·±çš„ä¸€ä¸ªäº¤ä»£å§ã€‚","text":"éšç€9.28å·å¿—æ„¿çš„å¡«æŠ¥ï¼Œï¼Œå®£å‘Šç€æˆ‘ä¿ç ”çš„ä¹‹è·¯çš„ç»“æŸï¼Œä¸‰å¹´çš„åŠªåŠ›å§ï¼ŒåŒéçš„æœ¬ç§‘å­¦æ ¡éœ€è¦é£å‡åˆ°985çš„å­¦æ ¡æœ‰å¾ˆå¤§çš„éš¾åº¦ï¼Œä¸‹é¢å¯¹æˆ‘çš„ä¿ç ”çš„ç»å†ç®€å•çš„æ€»ç»“ä¸€ä¸‹ï¼Œç®—æ˜¯å¯¹è‡ªå·±çš„ä¸€ä¸ªäº¤ä»£å§ã€‚éšç€9.28å·å¿—æ„¿çš„å¡«æŠ¥ï¼Œï¼Œå®£å‘Šç€æˆ‘ä¿ç ”çš„ä¹‹è·¯çš„ç»“æŸï¼Œä¸‰å¹´çš„åŠªåŠ›å§ï¼ŒåŒéçš„æœ¬ç§‘å­¦æ ¡éœ€è¦é£å‡åˆ°985çš„å­¦æ ¡æœ‰å¾ˆå¤§çš„éš¾åº¦ï¼Œä¸‹é¢å¯¹æˆ‘çš„ä¿ç ”çš„ç»å†ç®€å•çš„æ€»ç»“ä¸€ä¸‹ï¼Œç®—æ˜¯å¯¹è‡ªå·±çš„ä¸€ä¸ªäº¤ä»£å§ã€‚å¼ºè°ƒï¼š ä»¥ä¸‹å†…å®¹åªæ˜¯éšå£è¯´ä¸€è¯´ã€‚æœ¬æ–‡çš„é¢å‘çš„å¯¹è±¡ï¼š å¤šå¹´åçš„è‡ªå·±ã€‚ æ­£æ–‡å¼€å§‹ä¹Ÿä¸çŸ¥é“ä»å“ªæ–¹é¢è¯´èµ·ï¼Œä¿ç ”è®¾è®¡åˆ°çš„ä¸œè¥¿å¾ˆå¤šï¼Œå…ˆè¯´ä¸€ä¸‹æˆ‘è‡ªå·±çš„æƒ…å†µï¼Œå‡ºèº«åŒéï¼ˆæ™®é€šæœ¬ç§‘ï¼‰ï¼Œä¸“ä¸šä¹Ÿä¸æ˜¯é‡ç‚¹ä¸“ä¸šï¼ˆç‰©è”ç½‘å·¥ç¨‹ï¼‰ï¼Œä¸‹é¢å°±ä»ä¿ç ”å‡†å¤‡çš„æ—¶é—´çº¿æ¥è®²å§ã€‚ ä¿ç ”éœ€è¦å“ªäº›ä¸œè¥¿ä¿ç ”éœ€è¦ï¼šå‰å…­å­¦æœŸçš„ä¸“ä¸šæˆç»©ï¼Œå­¦ç§‘ç«èµ›ï¼Œç§‘ç ”é¡¹ç›®ï¼Œè®ºæ–‡ï¼Œè½¯è‘—ï¼Œå„ç§è¯ä¹¦ï¼ˆè‹±è¯­å››å…­çº§ï¼Œè®¡ç®—æœºè¯ä¹¦ï¼Œè½¯è€ƒâ€¦ï¼‰ç­‰ç­‰ã€‚ ä¿ç ”çš„æµç¨‹æ‰€è°“ä¿ç ”å°±æ˜¯å…ˆæ‹¿åˆ°æœ¬æ ¡çš„èˆ¹ç¥¨ï¼ˆæœ¬æ ¡æŠŠä½ æ¨å‡ºå»ï¼‰ï¼Œç„¶åå†æ‹¿åˆ°ç›®æ ‡å­¦æ ¡çš„ä¸Šèˆ¹èµ„æ ¼ï¼ˆå¯¹é¢å­¦æ ¡ä¹Ÿæ„¿æ„æ¥æ”¶ä½ ï¼‰ã€‚ç¬¬ä¸€ç‚¹ï¼šä¸åŒçš„å­¦æ ¡ä¸åŒçš„ä¸“ä¸šèƒ½å¤ŸæŠ¥é€çš„å­¦ç”Ÿæ•°é‡æ˜¯ä¸åŒçš„ï¼Œæˆ‘çš„å­¦é™¢ä¿ç ”ç‡å¤§æ¦‚æ˜¯4.5%å·¦å³ï¼Œ211ï¼Œ985å¯èƒ½å¤šä¸€äº›ï¼›ç¬¬äºŒç‚¹ï¼šä¸åŒçš„å­¦é™¢åŠ åˆ†çš„æ”¿ç­–ä¸åŒï¼Œæ‰€ä»¥ä½ å¾—å…ˆåœ¨è‡ªå·±å­¦é™¢çš„å‰å‡ å¹´çš„æ”¿ç­–ç ”ç©¶ä¸€ä¸‹ï¼Œä»€ä¹ˆä¸œè¥¿èƒ½åŠ åˆ†ï¼Œæ¯•ç«Ÿä¿ç ”å°±æ˜¯åŒä¸“ä¸šçš„äººç«äº‰ï¼Œæœ‰ç«äº‰å°±æœ‰ä¸€ä¸ªæ ‡å‡†ï¼Œæ‰¾åˆ°é‚£ä¸ªæ ‡å‡†å¹¶ä¸ºä¹‹åŠªåŠ›ã€‚ è¿™æ¬¡ä¿ç ”æˆ‘é¢äº†å¾ˆå¤šå­¦æ ¡ï¼ŒåŒ…æ‹¬æ­¦æ±‰å¤§å­¦ï¼ˆå•ç‹¬è§è€å¸ˆï¼Œç°åœºï¼‰ï¼Œåç§‘ï¼ˆè€å¸ˆé¢è¯•12ä¸ªäººï¼Œç°åœºï¼‰ï¼Œä¸­å—å¤§å­¦ï¼ˆé¢„æ¨å…é¢è¯•ï¼Œç°åœºï¼‰ï¼Œé‡åº†å¤§å­¦ï¼ˆé¢„æ¨å…é¢è¯•ï¼Œç°åœºï¼‰ï¼Œç”µå­ç§‘æŠ€å¤§å­¦ï¼ˆé¢„æ¨å…é¢è¯•ï¼Œç°åœºï¼‰ï¼Œæ¹–å—å¤§å­¦ï¼ˆé¢„æ¨å…é¢è¯•ï¼Œè§†é¢‘ï¼‰ï¼Œæ­¦æ±‰ç†å·¥ï¼ˆç”µè¯é¢è¯•ï¼‰ï¼Œè¥¿å—äº¤é€šå¤§å­¦ï¼ˆå‚åŠ å¤ä»¤è¥ï¼Œåè§†é¢‘é¢è¯•ï¼‰ã€‚ å¤ä»¤è¥ï¼Œé¢„æ¨å…ï¼Œä¹æ¨çš„åŒºåˆ«ï¼šhttps://www.jianshu.com/p/62c54e11f646?tdsourcetag=s_pctim_aiomsg é¢è¯•çš„å¿ƒé…¸å†ç¨‹ï¼š ä¸€ç›´é¢è¯•ä¸€ç›´äº†æ— éŸ³è®¯ï¼Œå”‰ï¼ŒçœŸçš„å¾ˆéš¾ï¼Œæˆ‘æ˜¯ç‰©è”ç½‘ä¸“ä¸šï¼ŒæŠ•çš„éƒ½æ˜¯è®¡ç§‘ï¼Œç»“æœå°±æ˜¯ä½ ä¼šç¼–ç¨‹ï¼Œåˆ«äººä¹Ÿä¼šç¼–ç¨‹ï¼Œç«èµ›ï¼Œé¡¹ç›®ï¼Œè®ºæ–‡è½¯è‘—ï¼Œè¯ä¹¦ä½ æœ‰ï¼Œä½†æ˜¯ä¸€èˆ¬åˆ«äººä¹Ÿä¼šæœ‰ï¼Œæ‰€ä»¥å°±å¯¼è‡´äº†ä¸€ä¸ªé—®é¢˜ï¼šé‚£å°±æ˜¯åœ¨æ°´å¹³å·®ä¸å¤šçš„æƒ…å†µä¸‹ï¼Œè€å¸ˆå¾€å¾€ä¼šé€‰æ‹©211ä»¥ä¸Šçš„å­¦ç”Ÿã€‚ åç§‘çš„é¢è¯•ï¼Œæ€»å…±æœ‰12ä¸ªäººé¢è¯•ï¼Œç”±äºè€å¸ˆè¦æ±‚ä¸Šåˆ9ç‚¹é¢è¯•ï¼Œæ‰€ä»¥æˆ‘ä¸å¾—ä¸æå‰ä¸€å¤©å»æ­¦æ±‰ï¼Œç¬¬äºŒå¤©é¢è¯•æ˜¯åœ¨ä¸€ä¸ªå†™å­—æ¥¼ï¼Œåº”è¯¥æ˜¯è€å¸ˆè‡ªå·±æˆç«‹çš„å…¬å¸ï¼Œç„¶åæˆ‘çœ‹è§å¢™ä¸ŠæŒ‚äº†åç¯‡è½¯è‘—ï¼Œï¼Œè¿˜ç”¨ç›¸æ¡†å¼„ç€ï¼Œåœ¨å‡ åˆ†é’Ÿçš„ä»”ç»†è§‚å¯Ÿåï¼Œæˆ‘å‘ç°ï¼Œè¿™ç©æ„å’Œæˆ‘å†™çš„è¯ä¹¦çš„ä¸€æ ·çš„ï¼Œå½“æ—¶æƒ³ç€æˆ‘ä¸¤å¹´å†…å†™äº†å…«ç¯‡ï¼ˆæ²¡æƒ³åˆ°è¿™ç©æ„æœ‰ç”¨ï¼Œæ‰€æœ‰å¸¦äº†ä¸‰ä¸ªæ‰«æä»¶ï¼‰ã€‚ç„¶åå…±æœ‰12ä¸ªäººé¢è¯•ï¼Œçœ‹äº†ä¸€ä¸‹å‘¨å›´çš„ï¼Œå¾ˆå¤šæ­¦æ±‰ç†å·¥çš„ï¼ˆç”¨çš„æ­¦æ±‰ç†å·¥çš„è‰ç¨¿çº¸ï¼‰ï¼Œå¤§æ¦‚ä¸€åŠçš„æ­¦æ±‰ç†å·¥çš„ï¼Œè¿˜æœ‰ä¸ªä¸­å±±å¤§å­¦çš„ï¼Œæœ‰ä¸ªè¥¿å—äº¤é€šå¤§å­¦çš„ï¼Œåæ­£æˆ‘ä¼°è®¡åªæœ‰æˆ‘ä¸€ä¸ªåŒéå­¦æ ¡ï¼Œä½†æ˜¯ æˆ‘è§‰å¾—ä»–ä»¬æ°´å¹³ä¸€èˆ¬ï¼Œå› ä¸ºä»–ä»¬æœ‰äº›äººåªå¸¦äº†ä¸€ä»½ç®€å†ï¼Œé¢è¯•ä¸€å®šå¾—å¸¦ä¸Šèƒ½è¯æ˜è‡ªå·±çš„ææ–™ã€‚è¯´ä¸€ä¸‹åç§‘çš„æƒ…å†µï¼š æ€»ç»“ä¸€ä¸‹åç§‘çš„è€å¸ˆå¤§æ¦‚å°±æ˜¯åç§‘è®¡ç®—æœºå­¦é™¢ä»Šå¹´æ²¡æœ‰é¢„æ¨å…ï¼ˆä¸çŸ¥é“ä»¥åæœ‰æ²¡æœ‰ï¼‰ï¼Œæ²¡æœ‰é¢„æ¨å…å°±æ„å‘³ç€åˆ°æ—¶å€™åªèƒ½å»ä¹æ¨é¢è¯•ï¼Œç„¶åæ ¹æ®é¢è¯•çš„åˆ†æ•°æ’åºï¼Œæœ€å‰é¢çš„ä¸€å°éƒ¨åˆ†äººè¯»å­¦ç¡•ï¼Œå‰©ä¸‹çš„å°±è¯»ä¸“ç¡•ï¼Œå­¦ç¡•3å¹´ï¼Œä¸“ç¡•ä¸¤å¹´ã€‚å­¦ç¡•æ¯•ä¸šå¾—å‘è¡¨ä¸€ç¯‡ä¸€ä½œçš„SCIï¼Œä¸“ç¡•å°±æ¯•ä¸šç­”è¾©ã€‚æˆ‘çš„é¢è¯•æƒ…å†µï¼š è€å¸ˆå…ˆæ˜¯é—®æˆ‘ï¼Œä½ ä»¬ä¸‰å³¡å¤§å­¦ä»å‰æœ‰ä¿ç ”åˆ°åç§‘å—ï¼Œæ­¤æ—¶æˆ‘çŸ¥é“æœ‰ï¼Œä½†æ˜¯ä¸ç¡®å®šæ˜¯ä¸æ˜¯è®¡ç®—æœºå­¦é™¢ï¼Œä½†æ˜¯è¿˜æ˜¯è¯´æœ‰ï¼Œç„¶åé‚£ä¸ªè€å¸ˆç›´æ¥é—®ï¼Œä½ èƒ½ä¿è¯åˆ°æ—¶å€™ä¹æ¨èƒ½æ‹¿åˆ°é¢è¯•æœºä¼šå—ï¼Ÿè¿™é‡Œï¼Œæˆ‘ä¹ŸçŸ¥é“ï¼ŒåŒéå­¦æ ¡å¯èƒ½èµ°æ­£å¸¸æµç¨‹ä¼šç›´æ¥è¢«åˆ·ï¼Œè¿é¢è¯•æœºä¼šéƒ½æ²¡æœ‰ï¼Œè¿™ä¸ªå°±æ¯”è¾ƒéš¾æäº†ã€‚ç„¶åé‚£ä¸ªè€å¸ˆå°±é—®äº†ä¸€ä¸‹ç®—æ³•å•¥çš„ï¼Œæ„Ÿè§‰æ²¡æœ‰æŠ€æœ¯å«é‡ã€‚æ„Ÿè§‰é™¤äº†åŒéçš„åŸå› ï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†æ˜¯å› ä¸ºé‚£ä¸ªè€å¸ˆæ˜¯æè‡ªç„¶è¯­è¨€å¤„ç†çš„ï¼Œå¯èƒ½è§‰å¾—å’Œæˆ‘çš„æ–¹å‘ä¸å¯¹å£ã€‚é¢è¯•çš„å½¢å¼çš„å’Œè€å¸ˆä¸€å¯¹ä¸€å•ç‹¬é¢è¯•ï¼Œæˆ‘å½“æ—¶è¿˜é¢è¯•ä¸å¤šï¼Œéƒ½æ˜¯è€å¸ˆé—®ä¸€å¥ç­”ä¸€å¥ï¼Œå…¶å®æˆ‘è§‰å¾—å¯ä»¥ä¸»åŠ¨æŠŠè‡ªå·±åšè¿‡çš„ä¸œè¥¿å»ç»™è€å¸ˆå°†ï¼Œå¦‚æœè€å¸ˆå’Œä½ çš„é¢†åŸŸç›¸åŒï¼Œå¯ä»¥è¯´ä¸€è¯´ç”¨äº†å“ªäº›æŠ€æœ¯ä¹‹ç±»çš„ï¼Œä½†æ˜¯å¦‚æœè€å¸ˆä¸æ˜¯è¿™ä¸ªæ–¹å‘çš„ï¼Œä¸è¦ç»†åŒ–åˆ°æŠ€æœ¯ï¼Œè€Œæ˜¯çªå‡ºä½ çš„å­¦ä¹ èƒ½åŠ›ï¼Œä¸»åŠ¨å’Œè€å¸ˆè¯´ï¼Œä¸è¦ç­‰åˆ°ä»–å»é—®ä½ ï¼Œä¸€å¯¹ä¸€ä¸åƒç¾¤ä½“é¢è¯•ï¼Œä½ å¯ä»¥å’Œè€å¸ˆä¸»åŠ¨è°ˆï¼Œè®©ä»–æ„Ÿè§‰ä½ çš„å­¦ä¹ èƒ½åŠ›å¾ˆå¼ºã€‚ é‡åº†å¤§å­¦çš„é¢è¯•é‡åº†å¤§å­¦è®¡ç®—æœºé™¢å¥½åƒæ²¡æœ‰å¤ä»¤è¥ï¼Œç›´æ¥é¢„æ¨å…ã€‚ä¹Ÿæ˜¯æå‰ä¸€å¤©èµ¶åˆ°é‡åº†ï¼Œç„¶åè¦æ±‚ç¬¬äºŒå¤©ä¸ŠåˆæŠ¥é“ï¼Œä½†æ˜¯éœ€è¦æ”¶è´¹150ï¼Œå¤´ä¸€æ¬¡é¢è¯•éœ€è¦æ”¶è´¹çš„ï¼Œä¸æ˜ç™½è¿˜æ˜¯äº¤é’±äº†ã€‚æˆ‘ä»¬æ˜¯ä¸‹åˆé¢è¯•ï¼Œç„¶åä¸ŠåˆæŠ½ç©ºè§äº†ä¸€ä¸‹è€å¸ˆï¼ŒæŠŠè‡ªå·±çš„ææ–™ç»™é‚£ä¸ªè€å¸ˆçœ‹äº†ï¼Œç„¶åä»–ä¹Ÿæ„Ÿè§‰è¿˜å¯ä»¥ï¼Œå’Œæˆ‘è¯´äº†ä¸€ä¸‹é¢è¯•éœ€è¦å•¥å•¥å•¥çš„ï¼Œå°±å»å‡†å¤‡äº†ã€‚é¢è¯•ï¼š è¿™æ¬¡é¢è¯•æ˜¯é¢„æ¨å…ï¼Œèµ°çš„å­¦é™¢çš„æµç¨‹ï¼Œç»Ÿä¸€çš„ï¼Œé¢è¯•åˆ†äº†å‡ ä¸ªç»„ï¼Œç„¶åæˆ‘é‚£ä¸ªç»„çš„è€å¸ˆï¼Œæœ‰äº”ä¸ªè€å¸ˆï¼Œé¢è¯•æµç¨‹ä¾ç„¶ä¸€æˆä¸å˜ï¼Œå…ˆæ¥ä¸€æ®µè‹±è¯­è‡ªæˆ‘ä»‹ç»ï¼Œç„¶åå°±æ˜¯è€å¸ˆè½®æµé—®é—®é¢˜ï¼Œæ„Ÿè§‰æˆ‘çš„å¤±åˆ†é¡¹å°±æ˜¯æˆ‘è‹±è¯­å…­çº§æ²¡è¿‡ï¼Œè€å¸ˆå°±é’ˆå¯¹æ¯”èµ›é—®ï¼Œç„¶åä¹Ÿé—®äº†ä¸€ä¸‹é¡¹ç›®ï¼Œç°åœ¨æƒ³æƒ³ï¼Œå½“æ—¶æœ‰å‡ ä¸ªåœ°æ–¹è¯´çš„ä¸å¥½ï¼Œä¸€ä¸ªæ˜¯è€å¸ˆé—®æˆ‘ï¼Œä½ å‚åŠ å…¶ä»–å­¦æ ¡çš„é¢„æ¨å…æ²¡æœ‰ï¼Œæˆ‘å½“æ—¶ç›´æ¥è¯´å‚åŠ äº†ï¼Œä½†æ˜¯åº”è¯¥æ²¡è¿‡ã€‚ç°åœ¨æˆ‘è§‰å¾—åº”è¯¥è¯´æˆ‘æ‹¿åˆ°äº†211çš„offerï¼Œä½†æ˜¯å¦‚æœæˆ‘é‡åº†å¤§å­¦é€šè¿‡äº†æˆ‘ä¼šæ¥é‡åº†å¤§å­¦ï¼›è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯é‚£ä¸ªè€å¸ˆé—®æˆ‘æ˜ åƒä¸­æœ€æ·±åˆ»çš„ä¸€ä¸ªæ¯”èµ›ï¼Œå½“æ—¶æˆ‘è¯´çš„ç‰©è”ç½‘è®¾è®¡ç«èµ›ï¼Œä½†æ˜¯ æˆ‘æ²¡æœ‰ä»‹ç»å¥½ï¼Œè¿™é‡Œå»ºè®®æŠŠè‡ªå·±çš„æ¯”è¾ƒå‡†å¤‡1~2ä¸ªï¼Œæ‰“ä¸ªè‰ç¨¿ï¼Œçªå‡ºç³»ç»Ÿçš„åŠŸèƒ½æ€§å’Œä½ æ‰€å®Œæˆçš„é‚£éƒ¨åˆ†åŠŸèƒ½,è¿™éƒ¨åˆ†æ˜¯éœ€è¦è‡ªå·±å‡†å¤‡ä¸€ä¸‹çš„ï¼ˆæˆ‘æ²¡å‡†å¤‡åƒäºï¼‰ï¼›è¿˜æœ‰ä¸€ä¸ªéƒ¨åˆ†å°±æ˜¯é¡¹ç›®ï¼Œè¿™éƒ¨åˆ†ä¾ä¸ªäººè€Œè¨€å§ï¼Œæˆ‘è‡ªå·±è¯´çš„æ˜¯ç½‘ç«™å¼€å‘ï¼Œä¸èƒ½è¿™ä¹ˆè¯´ï¼Œå› ä¸ºç°åœ¨ç½‘ç«™å‰ç«¯å¾ˆå¤šéƒ½æ˜¯å¥—æ¨¡æ¿çš„ï¼Œä½†æ˜¯æˆ‘è‡ªå·±æ˜¯æåå°çš„ï¼Œæ²¡æ¨¡æ¿ï¼Œåªæœ‰æ¡†æ¶ï¼Œå”‰ï¼Œå½“æ—¶åº”è¯¥è¯´è´Ÿè´£åç«¯å¼€å‘ï¼ŒæœåŠ¡å™¨ç»´æŠ¤ï¼Œå‰ç«¯é¡µé¢é™„å¸¦ä¸€ç‚¹ã€‚ï¼ˆæ³¨ï¼šå‰ç«¯éš¾åº¦æˆ‘æ„Ÿè§‰ä¸æ¯”åå°ä½ï¼Œå› ä¸ºå‰ç«¯çš„ä¸œè¥¿éå¸¸å¤šï¼Œè€Œä¸”ä¸æ˜¯ç®€ç®€å•å•çš„å¥—ä¸ªæ¨¡æ¿ï¼Œæˆ‘ä¸€ä¸ªåŒå­¦æ€»è®¤ä¸ºæwebï¼Œç§»åŠ¨ç«¯å¼€å‘å°±æ˜¯ç®€å•çš„å¥—æ¨¡æ¿ï¼Œå…¶å®é‚£åªæ˜¯ä½ æ²¡æœ‰æ·±åº¦å»å­¦ä¹ ï¼Œå¯èƒ½è¿˜æœ‰ä¸€ä¸‹åˆ†å¸ƒå¼ï¼Œå¾®æœåŠ¡ç­‰ç­‰æŠ€æœ¯ï¼Œè¿™é‡Œåæ§½ä¸€ä¸‹è¿™ç§äººï¼‰ã€‚ ä¸­å—å¤§å­¦çš„é¢è¯•ä¸­å—å¤§å­¦è®¡ç®—æœºå­¦é™¢ï¼Œæœ‰å¤ä»¤è¥ï¼Œè®¡ç§‘æ˜¯A-ï¼Œæˆ‘å¤ä»¤è¥è¢«åˆ·äº†ï¼Œç„¶åæŠ¥åçš„é¢„æ¨å…ï¼Œè¿™ä¸ªå­¦æ ¡æ¯”è¾ƒå‹å–„ï¼Œè€å¸ˆäº²è‡ªè·‘åˆ°å„ä¸ªçœå»å®£è®²ï¼ˆå°±æ˜¯é¢„æ¨å…ï¼Œé€šè¿‡äº†å°±æ‹¿offerï¼‰ï¼Œç„¶åå½“æ—¶å‚åŠ æ¹–åŒ—çœçš„å®£è®²ï¼Œåœ¨æ­¦æ±‰ï¼Œä¹Ÿæ˜¯ä¸Šåˆå…«ä¹ç‚¹å¼€å§‹å§ï¼Œä¹Ÿæ˜¯æå‰ä¸€å¤©å»ã€‚æˆ‘ä»¬é™¢æœ‰å››ä¸ªäººä¸€èµ·å»çš„ã€‚é¢è¯•ï¼š ç”±ä¸€ä¸ªè€å¸ˆå•ç‹¬é¢è¯•ï¼Œä¸€å¯¹ä¸€ï¼Œä¹Ÿæ˜¯å…ˆæ¥ä¸€æ®µè‡ªæˆ‘ä»‹ç»ï¼Œç„¶åè€å¸ˆæé—®ï¼Œæ²¡æœ‰è‹±æ–‡æé—®ï¼Œé¢è¯•ä¸‹æ¥æ„Ÿè§‰ä¸é”™ï¼Œä½†æ˜¯è¿˜æ˜¯æ¯”èµ›æ²¡æœ‰è¯´å¥½ï¼Œé‚£ä¸ªè€å¸ˆæ˜¯é’ˆå¯¹ä½ ç®€å†ä¸Šå†™çš„å†…å®¹é—®çš„ã€‚æœ€åäº†æ— éŸ³è®¯äº†ã€‚æ„Ÿè§‰å¤±è´¥çš„åŸå› æ˜¯æˆ‘å…­çº§æ²¡è¿‡ï¼Œå› ä¸ºå’Œæˆ‘ä¸€èµ·é¢è¯•çš„å¦å¤–ä¸€ä¸ªä¸“ä¸šç¬¬ä¸€è¿‡äº†ï¼Œå¥¹å…­çº§è¿‡äº†ï¼Œä½†æ˜¯æˆ‘ç«èµ›ï¼Œè®ºæ–‡ï¼Œé¡¹ç›®ï¼Œè½¯è‘—éƒ½æ¯”å¥¹å¤šï¼Œå¾ˆå¤šé¢è¯•æ„Ÿè§‰éƒ½å—å±åœ¨è‹±è¯­å…­çº§ä¸Šï¼Œæ‰€æœ‰è¯´è‹±è¯­å…­çº§çœŸçš„å¾ˆé‡è¦å•Šï¼ï¼ï¼ æ¹–å—å¤§å­¦é¢è¯•è¿™ä¸ªå­¦æ ¡æˆ‘æ˜¯çœŸçš„æƒ³åæ§½ä¸€ä¸‹,é¦–å…ˆæˆ‘é€šè¿‡äº†ä»–çš„å¤ä»¤è¥ï¼Œä½†æ˜¯æˆ‘å› ä¸ºè¦å‚åŠ è¥¿é—¨å­çš„æ¯”èµ›ï¼Œæ‰€æœ‰å°±æŠŠå®ƒæ‹’äº†ï¼Œç„¶åä»–å‘æ”¾äº†200ä¸ªä¼˜ç§€è¥å‘˜ï¼Œä½†æ˜¯åˆ°äº†åé¢ï¼ŒæŠŠåŒéçš„ä¼˜ç§€è¥å‘˜ç»™é¸½äº†ï¼Œæˆ‘åé¢ä¹Ÿå‚åŠ äº†é¢„æ¨å…ï¼Œç„¶åæ˜¯è€å¸ˆå•ç‹¬è§†é¢‘é¢è¯•ï¼Œç„¶åç¬¬ä¸€æ‰¹è¡¥å½•ï¼Œæˆ‘çœŸæœäº†ï¼Œç„¶åå¡«å¿—æ„¿å¾ˆå¤šäººå°±æŠŠè¿™ä¸ªå­¦æ ¡é¸½äº†ï¼Œæ„Ÿè§‰è¿™ä¸ªå­¦æ ¡å°±æ˜¯ å‘æ”¾çš„offer&gt;ä»–çš„æ‹›ç”Ÿäººæ•°ï¼Œä¹Ÿå°±æ˜¯è¯´è°æŠ¥åçš„å¿«å°±å½•è°ï¼Œæ€»å…±å‘äº†800å¤šofferï¼Œæœ‰ç¬¬ä¸€æ‰¹è¡¥å½•ï¼Œç¬¬äºŒæ‰¹è¡¥å½•å•¥çš„ï¼Œåæ­£å­¦æ ¡çš„ç¯å¢ƒä¸é”™ï¼Œæ°´å¹³å§ï¼Œ985é‡Œé¢ä¸€èˆ¬ã€‚é¢è¯•ï¼š é¢è¯•æ˜¯è§†é¢‘é¢è¯•ï¼Œå’Œä¸€ä¸ªè€å¸ˆé¢è¯•çš„ï¼Œé‚£ä¸ªè€å¸ˆæ ¹æœ‰æ¯’ä¼¼çš„ï¼Œå°±ä¸€ç›´ç–¯ç‹‚åæ§½æˆ‘ï¼Œå…ˆæ˜¯è¯´æˆ‘ä½ å‘å››ç¯‡è®ºæ–‡å¹²ä»€ä¹ˆï¼Œå‘é‚£ä¹ˆå¤šåŒæ°´å¹³çš„å¹²ä»€ä¹ˆï¼ˆå½“æ—¶æˆ‘å¾ˆæƒŠè®¶ï¼Œä¸€èˆ¬è€å¸ˆéƒ½æ˜¯åæ§½ä½ å‘çš„è®ºæ–‡æ°´å¹³å¾ˆä½ï¼Œç„¶åä»–å°±åæ§½ä½ å‘çš„å¤ªå¤šäº†ï¼‰ï¼Œç„¶åå†è¯´ä½ è¿™ä¹ˆå¤šæ¯”èµ›ï¼Œæœ‰ç¡¬ä»¶çš„è½¯ä»¶çš„ï¼Œä½ è¿™å…¨æ ˆç¼–ç¨‹ï¼Ÿï¼ˆåŸè¯ï¼‰ï¼Œç„¶åå°±ä¸€ç›´åæ§½æˆ‘è¯´æˆ‘æœ¬ç§‘æ²¡æœ‰ä¸“æ”»ä¸€ä¸ªåœ°æ–¹å»å­¦ï¼Œå­¦çš„å¤ªæ‚äº†ï¼Œç„¶åæˆ‘ä¸€ç›´è§£é‡Šæˆ‘æ˜¯ç‰©è”ç½‘ä¸“ä¸šï¼Œæœ¬ç§‘å­¦çš„å¾ˆå¤šæ˜¯æ‰“åŸºç¡€ã€‚ç„¶åå°±é—®æˆ‘çš„ç ”ç©¶æ–¹å‘ï¼Œæˆ‘è¯´å¤§æ•°æ®ï¼Œä»–è¯´ä½ è¿™å¤§æ•°æ®å’Œä½ å†™çš„è®ºæ–‡ä¸€ç‚¹è”ç³»éƒ½æ²¡æœ‰ï¼Œä½ åº”è¯¥åœ¨ä½ è®ºæ–‡åŸºç¡€ä¸Šè¯´ç ”ç©¶æ–¹å‘ï¼Œï¼Œï¼Œï¼Œï¼Œåæ­£å¾ˆæ— è¯­ï¼Œæ„Ÿè§‰ä»–å–·çš„åœ°æ–¹æœ‰é—®é¢˜ï¼Œæœ€åé‚£ä¸ªè€å¸ˆè¿˜è´¼æ²¡æœ‰ç¤¼è²Œï¼Œæˆ‘è¿˜æƒ³é—®ä¸€ä¸‹ä»€ä¹ˆæ—¶å€™å‡ºç»“æœï¼Œä»–ç›´æ¥æŒ‚äº†ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ ç”µå­ç§‘æŠ€å¤§å­¦è¿™æ˜¯æˆ‘è·‘çš„æœ€åä¸€ä¸ªå­¦æ ¡äº†ï¼Œ28å·å¡«å¿—æ„¿ï¼Œ27å·ä¸‹åˆé¢è¯•çš„ï¼Œé¦–å…ˆæˆ‘é¢è¯•çš„æ˜¯ä¿¡è½¯å­¦é™¢ï¼Œæˆç”µçš„è€å¸ˆå’Œå…¶ä»–å­¦æ ¡ä¸åŒï¼ŒæŒ‰ç…§å‰å‡ å¹´ï¼Œéƒ½æ˜¯è€å¸ˆå•ç‹¬é¢è¯•ï¼Œå¦‚æœè€å¸ˆå¯¹è¿™ä¸ªåŒå­¦è§‰å¾—æ»¡è¶³ï¼Œå¯ä»¥ç›´æ¥è¦è¿™ä¸ªå­¦ç”Ÿä½œä¸ºç ”ç©¶ç”Ÿã€‚ä½†æ˜¯åˆ°äº†æˆ‘ä»¬è¿™ä¸€å¹´ï¼Œéå¸¸å€’éœ‰ï¼Œå¾—å­¦é™¢ç»Ÿä¸€ç»„ç»‡é¢è¯•ï¼Œè¿™æ ·çš„ä¸å¥½çš„åœ°æ–¹å°±æ˜¯ï¼Œä½ åªæœ‰ä¸€æ¬¡æœºä¼šï¼Œè€Œä¸”é¢„æ¨å…éœ€è¦å¡«ä¸€ä½å¯¼å¸ˆï¼Œéœ€è¦å¯¼å¸ˆå»ç»™æ‹›ç”ŸåŠçš„è¯´ä¸€ä¸‹ä½ çš„é¢„æ¨å…æ‰èƒ½è¿‡ã€‚è€å¸ˆä»Šå¹´ä¸€èˆ¬éƒ½æ˜¯æœ‰å‡ ä¸ªåé¢å°±æ¨å‡ ä¸ªä¸Šå»ã€‚è¿™ç‚¹æˆ‘è§‰å¾—è¿™ä¸ªå­¦æ ¡ä¸é”™ã€‚å› ä¸ºæ­¤æ—¶æˆ‘åŸºæœ¬æ²¡æ‰¾åˆ°ä»€ä¹ˆå¥½çš„å­¦æ ¡ï¼Œæˆ‘æŠŠè½¯ä»¶å­¦é™¢çš„è€å¸ˆå¤§éƒ¨åˆ†æŠ•äº†ä¸€éï¼ˆé™¤äº†åµŒå…¥å¼æ²¡æŠ•ï¼‰ï¼Œç„¶åå°±æœ‰å‡ ä¸ªè€å¸ˆæƒ³æ”¶ç•™æˆ‘ï¼Œæœ‰ä¸ªæ•™æˆå’Œå‰¯æ•™æˆï¼Œæˆ‘é€‰äº†ä¸ªå‰¯æ•™æˆï¼Œç»“æœè¿™ä¸ªäººï¼Œå…ˆæ˜¯è®©æˆ‘ç­‰ç­‰ï¼Œä»–è¯´ä»–æœ‰ä¸¤ä¸ªåé¢ï¼Œç­‰å¦å¤–ä¸€ä¸ªåŒå­¦å›ä¿¡å†ä¸ªæ‹›ç”ŸåŠé‚£è¾¹è¯´ï¼Œç»“æœå½“å¤©æ™šä¸Šè·Ÿæˆ‘è¯´ï¼Œæˆ‘åé¢å·²æ»¡ï¼ŒæŠŠä½ æ¨èç»™å¦å¤–ä¸€ä¸ªè€å¸ˆã€‚ã€‚ã€‚ã€‚å½“æ—¶çœŸæƒ³åæ§½ï¼Œï¼Œï¼Œï¼Œæƒ³è¦ä¸ç®—äº†ä¸å»äº†ï¼Œä½†æ˜¯ç”±äºå·²ç»ä¹°äº†ç«è½¦ç¥¨ï¼Œè¿˜æ˜¯åŠ äº†ä»–æ¨èçš„é‚£ä¸ªè€æ•™æˆçš„å¾®ä¿¡ï¼Œç»“æœ11ç‚¹å±…ç„¶åŒæ„äº†ï¼Œå°±å‚åŠ é¢è¯•ã€‚é¢è¯•ï¼š æˆç”µçš„é¢è¯•æ˜¯æˆ‘è§‰å¾—æœ€ä¸¥è°¨çš„ä¸€ä¸ªé¢è¯•ï¼Œå› ä¸ºå…¶ä»–å­¦æ ¡æœ€å¤šé¢ä¸ªååˆ†é’Ÿï¼Œå‡ åˆ†é’Ÿçš„é¢è¯•æ ¹æœ¬é¢ä¸å‡ºæ°´å¹³ï¼Œç„¶åæˆç”µçš„é¢è¯•æ˜¯20åˆ†é’Ÿï¼Œæ¯ä¸ªäººæ—¶é—´ä¸€æ ·ã€‚ä»–æ˜¯åˆ†150è‹±è¯­é¢è¯•åˆ†+350ç»¼åˆèƒ½åŠ›é¢è¯•åˆ†ï¼Œå…ˆæ˜¯æ¥ä¸€æ®µè‹±è¯­è‡ªæˆ‘ä»‹ç»ï¼Œç„¶åå°±æ˜¯è€å¸ˆçš„è‹±è¯­æé—®ï¼Œï¼Œï¼Œè¿™ä¸ªçœŸçš„éš¾åˆ°æˆ‘äº†ï¼Œä¹‹å‰ä¹Ÿå’¨è¯¢äº†ä¸€ä¸‹æˆç”µç”µå­é€šä¿¡é‚£è¾¹çš„è‹±è¯­é¢è¯•è€å¸ˆæé—®çš„å•¥ä¸œè¥¿ï¼Œç„¶åæ ¹æ®ä»–ä»¬çš„æ‰€è¿°ï¼Œæˆ‘å‡†å¤‡äº†ä¸€ä¸‹ï¼šä»‹ç»ä¸€ä¸‹ä½ çš„å®¶ä¹¡ï¼Œä½ çš„çˆ±å¥½ï¼Œä½ ä¸ºä»€ä¹ˆæ¥æˆ‘ä»¬å­¦æ ¡ä¹‹ç±»çš„ç®€å•é—®é¢˜ã€‚ç»“æœé‚£ä¸ªè€å¸ˆç›´æ¥é—®æ ˆå’Œæ•°ç»„æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿç”¨è‹±è¯­é—®çš„ç”¨è‹±è¯­ç­”ï¼Œå½“æ—¶å°±æœ‰ç‚¹æ‡µï¼Œç„¶åé—®é“¾è¡¨æ˜¯ä»€ä¹ˆï¼Œç”¨è‹±è¯­ä»‹ç»ä¸€ä¸‹ä½ çš„é¡¹ç›®ï¼Œï¼Œï¼Œåæ­£è‹±è¯­è¿™éƒ¨åˆ†å®Œå…¨æä¸æ¥ï¼Œè¿˜æ˜¯æ°´å¹³ä¸å¤Ÿï¼Œç„¶åå°±æ˜¯è€å¸ˆé¢ï¼Œï¼Œï¼Œï¼Œé‚£ä¸ªè€å¸ˆå…¨ç¨‹æ€¼ä½ ï¼Œæˆ‘å°±è¯´æˆ‘åšåå°çš„ï¼Œç„¶åæˆ‘è¯´æˆ‘ç”¨äº†redisï¼Œmysqlæ•°æ®åº“ï¼Œç„¶åä»–è¯´ä½ çœ‹è¿‡redisçš„æºç å—ï¼Ÿä½ çœ‹è¿‡mysqlçš„é…ç½®æ–‡ä»¶å—ï¼Ÿæè¿‡æ•°æ®åº“çš„ä¼˜åŒ–å—ï¼Ÿã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚çœç•¥ä¸€ä¸‡å­—çš„åæ§½ã€‚æ„Ÿè§‰åˆšå¥½ç¢°åˆ°ä¸€ä¸ªæä¼˜åŒ–çš„è€å¸ˆï¼Œä¹Ÿè¢«æ€¼çš„ä¸€æ— æ˜¯å¤„ï¼Œä¸è¿‡ä¹Ÿå‘ç°äº†è‡ªå·±çš„ä¸€äº›é—®é¢˜æ‰€åœ¨ï¼Œå¸Œæœ›åœ¨æœ¬ç§‘å’Œç ”ç©¶ç”Ÿé˜¶æ®µèƒ½æå®šå§ã€‚ æœ€è½»æ¾çš„é¢è¯•ï¼šæ­¦æ±‰ç†å·¥è¿™ä¸ªå­¦æ ¡å•Šï¼Œä¹Ÿä¸é”™ï¼Œå› ä¸ºéš”æˆ‘å®¶æ¯”è¾ƒè¿›ï¼Œé‚£ä¸ªè€å¸ˆçœŸçš„éå¸¸çƒ­æƒ…ï¼Œæ™šä¸Šåä¸€ç‚¹å‘çš„é‚®ä»¶ï¼Œæœ‰çš„éƒ½å›å¤äº†ï¼Œå½“æ—¶åœ¨é‡åº†å¤§å­¦é¢è¯•ï¼Œä½†æ˜¯æ„Ÿè§‰ä¸ç¨³ï¼Œè¿™é‡Œå¼ºçƒˆå»ºè®®ä¿ç ”çš„åŒå­¦å¯ä»¥å…ˆæ‹¿å‡ ä¸ª211ä¿åº•ï¼Œæ­¦æ±‰ç†å·¥ï¼Œå—èˆªï¼Œå—ç†å·¥éƒ½ä¸é”™ï¼Œå…ˆæ‹¿åˆ°ä¸ª211å†å»æ•´985ï¼Œæˆ‘å› ä¸ºæœ‰ä¸€æ®µæ—¶é—´ä¸€ç›´åœ¨åˆšæ­¦å¤§åç§‘ï¼Œæœ€åå¾—åˆ°çš„ç»“æœå°±æ˜¯æ²¡æœ‰é¢„æ¨å…ï¼Œåªæœ‰ä¹æ¨ï¼Œä½†æ˜¯ä¹æ¨çš„ä½ åŒéå¯èƒ½æ²¡æœ‰é¢è¯•æœºä¼šï¼ˆå¯èƒ½ç›´æ¥è¢«æ‹’ï¼‰ã€‚å½“æ—¶æ­¦æ±‰ç†å·¥çš„è€å¸ˆç¬¬äºŒå¤©ç›´æ¥ç»™æˆ‘æ‰“ç”µè¯ï¼Œæ²¡æœ‰å›å¤é‚®ä»¶ï¼Œå…ˆèŠ±äº†20åˆ†é’Ÿç»™æˆ‘ä»‹ç»äº†ä¸€ä¸‹ä»–çš„å®éªŒå®¤æœ‰å¤šä¹ˆå¥½ï¼Œç„¶åæˆ‘é—®é‚£ä¸ªè€å¸ˆæ‚¨ä¸éœ€è¦é¢è¯•æˆ‘å—ï¼Œç„¶åèŠ±äº†äº”åˆ†é’Ÿé¢è¯•æˆ‘ï¼Œå¤§æŠµå°±æ˜¯è®©æˆ‘ä»‹ç»äº†ä¸€ä¸‹æˆ‘çš„é¡¹ç›®ï¼Œä¸è¿‡è¿™ä¸ªå­¦æ ¡å¥½åœ¨ä»–æ˜¯è€å¸ˆå•ç‹¬é¢è¯•ï¼Œå‡å¦‚è€å¸ˆAé¢è¯•ä½ æ²¡æœ‰é€šè¿‡ï¼Œä½ è¿˜å¯ä»¥é¢è¯•è€å¸ˆB,åé¢ä¹Ÿæœ‰å…¶ä»–çš„æ­¦æ±‰ç†å·¥çš„è€å¸ˆé¢è¯•ï¼Œæœ‰çš„è¿˜æ˜¯é—®äº†äº›ä¸“ä¸šé—®é¢˜ï¼Œåæ­£æ€»ç»“å°±æ˜¯æ­¦æ±‰ç†å·¥éš¾åº¦è¾ƒå°ï¼Œè€å¸ˆæ¯”è¾ƒå‹å¥½ã€‚ ä»¥ä¸Šå°±æ˜¯é¢è¯•ç»å†äº†ï¼Œå°±ä¸è¯´äº†ï¼Œç„¶åé™¤äº†å‚åŠ å¤ä»¤è¥ï¼Œé¢„æ¨å…ï¼Œä½ è¿˜éœ€è¦æ‰¾è€å¸ˆï¼Œæ‰¾è€å¸ˆéœ€è¦æŠ•é€’ä½ çš„ç®€å†ç»™è€å¸ˆã€‚å…ˆè¯´ä¸€ä¸‹ï¼Œéƒ¨åˆ†å­¦æ ¡è€å¸ˆæœ‰æƒåŠ›ç›´æ¥è¦ä½ ï¼Œè¿™ç§è€å¸ˆçš„æƒåŠ›å°±æ¯”è¾ƒå¤§ï¼Œç›®å‰æˆ‘æ‰€çŸ¥é“çš„æœ‰ç”µå­ç§‘æŠ€å¤§å­¦å’Œè¥¿ç”µã€‚ä½ åªéœ€è¦åœ¨æ‰¾åˆ°ä¸€ä¸ªæ„¿æ„æ”¶ç•™ä½ çš„è€å¸ˆã€‚ç„¶åå¯ä»¥åœ¨6æœˆå¼€å§‹é™†é™†ç»­ç»­æŠ•ç®€å†ã€‚ ä¸‹é¢æˆ‘çš„ä¸€äº›ç½‘ç«™ï¼Œå…¬ä¼—å·åˆ†äº«ï¼š å¾®ä¿¡å…¬ä¼—å·ï¼š ä¿ç ” ï¼ˆé‡Œé¢æœ‰ä¸å¤ä»¤è¥å’Œé¢„æ¨å…å„ä¸ªå­¦æ ¡çš„æŠ¥åå…¥å£ï¼Œå¦‚æœæ²¡æœ‰é“¾æ¥ï¼Œç›´æ¥æŠŠä»–ä¸Šé¢çš„ä¸€æ®µè¯copyåˆ°ç™¾åº¦å°±èƒ½æ‰¾åˆ°æŠ¥åçš„åŸç½‘é¡µï¼‰ ç½‘ç«™ï¼š2019å¹´ä¿ç ”å¤ä»¤è¥ä¸€é”®æœç´¢ç³»ç»Ÿ å…¨å›½ç¬¬å››è½®å­¦ç§‘è¯„ä¼°ç»“æœå…¬å¸ƒ2019å¹´å…¨å›½å¤§å­¦ç”Ÿä¿ç ”é¢„æŠ¥åæ±‡æ€»è´´ï¼ˆå®æ—¶æ›´æ–°ä¸­ï¼‰ - é¢„æŠ¥åæ±‡æ€» - ä¿ç ”é€š-ä¸­å›½é¢†å…ˆçš„ä¸€ç«™å¼ä¿ç ”åœ¨çº¿æœåŠ¡å¹³å°å·¥å…·ï¼šPDFè½¬JPGâ€”â€”å…è´¹åœ¨çº¿å°†PDFè½¬æˆå›¾åƒåˆå¹¶PDF - åœ¨çº¿ä¸Šå…è´¹åˆå¹¶PDFæ–‡ä»¶Online Video Cutter - å‰ªè¾‘è§†é¢‘ï¼Œæ¯”å¦‚MP4ã€AVIã€MPGå’Œ3GP&lt;!â€“æœ€åæ„Ÿè°¢å§ï¼Œæ„Ÿè°¢ç†å­¦é™¢çš„åˆ˜è€å¸ˆï¼Œè®¡ç®—æœºå­¦é™¢çš„å¼ è€å¸ˆã€ä¸‡è€å¸ˆï¼Œåˆ˜è€å¸ˆï¼Œæ¨è€å¸ˆï¼Œå¸®æˆ‘å‘è¡¨è®ºæ–‡è½¯è‘—å·²ç»ç»™æˆ‘äº›å¾ˆé‡è¦çš„å»ºè®®ã€‚æœ€åæ„Ÿè°¢å°å±å­©çš„é•¿æœŸçš„é™ªä¼´å§ã€‚&gt;","categories":[{"name":"éšç¬”å½•","slug":"éšç¬”å½•","permalink":"http://SlectRxz.github.io/categories/éšç¬”å½•/"}],"tags":[{"name":"çæ‰¯","slug":"çæ‰¯","permalink":"http://SlectRxz.github.io/tags/çæ‰¯/"}]},{"title":"cookieä¸sessionè¯´ä¸æ¸…çš„çº ç¼ ","slug":"javaåŸºç¡€/sessionä¸cookie","date":"2019-08-14T16:00:00.000Z","updated":"2019-12-20T12:04:22.374Z","comments":true,"path":"2019/08/15/javaåŸºç¡€/sessionä¸cookie/","link":"","permalink":"http://SlectRxz.github.io/2019/08/15/javaåŸºç¡€/sessionä¸cookie/","excerpt":"å…³äºsessionä¸cookieçš„åŒºåˆ«ä¸è”ç³»ã€‚","text":"å…³äºsessionä¸cookieçš„åŒºåˆ«ä¸è”ç³»ã€‚ æœ€è¿‘çœ‹åˆ°äº†ä¸€ç¯‡ä»€ä¹ˆæ˜¯å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰çš„æ–‡ç« ï¼Œä¸»è¦æ˜¯è®²è¿°å¤šä¸ªç³»ç»Ÿä¹‹é—´å¦‚ä½•å…±äº«ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ï¼Œä½¿ä¹‹ä¸éœ€è¦é‡å¤ç™»å½•ã€‚å…¶ä¸­çœ‹è§äº†è‡ªåŠ¨ç™»å½•ï¼Œç”¨åˆ°äº†sessionå’Œcookieï¼ŒæŸ¥é˜…èµ„æ–™åï¼Œé¡ºä¾¿æŠŠä»¥å‰æ‰€å­¦ä¹ çš„å†…å®¹è¿›è¡Œä¸€æ¬¡æ€»ç»“ã€‚ é¦–å…ˆä»ä»£ç ä½¿ç”¨ä¸Šå¯¹cookieå’Œsessionè¿›è¡Œä»‹ç»ï¼š cookie:ä»€ä¹ˆæ˜¯cookieï¼šcookieæ˜¯ä¿å­˜åœ¨æµè§ˆå™¨çš„ä¸€å°å—æ•°æ®ï¼ˆä¸€èˆ¬æµè§ˆå™¨ä¿å­˜cookieçš„ä¸ªæ•°çš„æœ‰ä¸Šé™çš„ï¼‰ï¼Œå®ƒä¼šåœ¨æµè§ˆå™¨ä¸‹æ¬¡å‘åŒä¸€æœåŠ¡å™¨å†å‘èµ·è¯·æ±‚æ—¶è¢«æºå¸¦å¹¶å‘é€åˆ°æœåŠ¡å™¨ä¸Šã€‚ ä¸‹é¢é¦–å…ˆè¯´cookieçš„åŸç†åŠä½¿ç”¨ï¼šæ ¸å¿ƒAPI- 1.æ„é€ Cookieå¯¹è±¡new Cookie(java.lang.String name, java.lang.String value)- 2.è®¾ç½®cookievoid setPath(java.lang.String uri) ï¼šè®¾ç½®cookieçš„æœ‰æ•ˆè®¿é—®è·¯å¾„void setMaxAge(int expiry) ï¼š è®¾ç½®cookieçš„æœ‰æ•ˆæ—¶é—´void setValue(java.lang.String newValue) ï¼šè®¾ç½®cookieçš„å€¼- 3.å‘é€cookieåˆ°æµè§ˆå™¨ç«¯ä¿å­˜void response.addCookie(Cookie cookie) : å‘é€cookie- 4.æœåŠ¡å™¨æ¥æ”¶cookieCookie[] request.getCookies() : æ¥æ”¶cookieCookieåŸç†- 1.æœåŠ¡å™¨åˆ›å»ºcookieå¯¹è±¡ï¼ŒæŠŠä¼šè¯æ•°æ®å­˜å‚¨åˆ°cookieå¯¹è±¡ä¸­ã€‚ new Cookie(â€œnameâ€,â€valueâ€);- 2.æœåŠ¡å™¨å‘é€cookieä¿¡æ¯åˆ°æµè§ˆå™¨ response.addCookie(cookie); ä¸¾ä¾‹ï¼š set-cookie: name=eric (éšè—å‘é€äº†ä¸€ä¸ªset-cookieåç§°çš„å“åº”å¤´) 3.æµè§ˆå™¨å¾—åˆ°æœåŠ¡å™¨å‘é€çš„cookieï¼Œç„¶åä¿å­˜åœ¨æµè§ˆå™¨ç«¯ã€‚ 4.æµè§ˆå™¨åœ¨ä¸‹æ¬¡è®¿é—®æœåŠ¡å™¨æ—¶ï¼Œä¼šå¸¦ç€cookieä¿¡æ¯ ä¸¾ä¾‹ï¼š cookie: name=eric (éšè—å¸¦ç€ä¸€ä¸ªå«cookieåç§°çš„è¯·æ±‚å¤´) 5.æœåŠ¡å™¨æ¥æ”¶åˆ°æµè§ˆå™¨å¸¦æ¥çš„cookieä¿¡æ¯ request.getCookies(); Cookieç»†èŠ‚ 1ï¼‰void setPath(java.lang.String uri) ï¼šè®¾ç½®cookieçš„æœ‰æ•ˆè®¿é—®è·¯å¾„ã€‚æœ‰æ•ˆè·¯å¾„æŒ‡çš„æ˜¯cookieçš„æœ‰æ•ˆè·¯å¾„ä¿å­˜åœ¨å“ªé‡Œï¼Œé‚£ä¹ˆæµè§ˆå™¨åœ¨æœ‰æ•ˆè·¯å¾„ä¸‹è®¿é—®æœåŠ¡å™¨æ—¶å°±ä¼šå¸¦ç€cookieä¿¡æ¯ï¼Œå¦åˆ™ä¸å¸¦cookieä¿¡æ¯ã€‚ 2ï¼‰void setMaxAge(int expiry) ï¼š è®¾ç½®cookieçš„æœ‰æ•ˆæ—¶é—´ã€‚ æ­£æ•´æ•°ï¼šè¡¨ç¤ºcookieæ•°æ®ä¿å­˜æµè§ˆå™¨çš„ç¼“å­˜ç›®å½•ï¼ˆç¡¬ç›˜ä¸­ï¼‰ï¼Œæ•°å€¼è¡¨ç¤ºä¿å­˜çš„æ—¶é—´ã€‚ è´Ÿæ•´æ•°ï¼šè¡¨ç¤ºcookieæ•°æ®ä¿å­˜æµè§ˆå™¨çš„å†…å­˜ä¸­ã€‚æµè§ˆå™¨å…³é—­cookieå°±ä¸¢å¤±äº†ï¼ï¼ é›¶ï¼šè¡¨ç¤ºåˆ é™¤åŒåçš„cookieæ•°æ® ï¼ˆåœ¨åŒä¸€ä¸ªè·¯å¾„ä¸‹é¢ï¼‰ 3ï¼‰Cookieæ•°æ®ç±»å‹åªèƒ½ä¿å­˜éä¸­æ–‡å­—ç¬¦ä¸²ç±»å‹çš„ã€‚å¯ä»¥ä¿å­˜å¤šä¸ªcookieï¼Œä½†æ˜¯æµè§ˆå™¨ä¸€èˆ¬åªå…è®¸å­˜æ”¾300ä¸ªCookieï¼Œæ¯ä¸ªç«™ç‚¹æœ€å¤šå­˜æ”¾20ä¸ªCookieï¼Œæ¯ä¸ªCookieçš„å¤§å°é™åˆ¶ä¸º4KBã€‚ session: sessionï¼šsessionä»£è¡¨æœåŠ¡å™¨ä¸å®¢æˆ·ç«¯çš„ä¸€æ¬¡ä¼šè¯çš„è¿‡ç¨‹ã€‚sessionå¯¹è±¡å­˜å‚¨ç”¨æˆ·æŒ‡å®šçš„é…ç½®ä¿¡æ¯ï¼ˆå­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼‰ï¼Œè¿™æ ·åœ¨ç¨‹åºæœªç»“æŸå‰å°†ä¼šä¸€ç›´å­˜åœ¨ã€‚å½“ç”¨æˆ·å…³é—­ä¼šè¯æˆ–sessionè¶…æ—¶è€Œé”€æ¯ã€‚ æ ¸å¿ƒAPI 1ï¼‰åˆ›å»ºæˆ–å¾—åˆ°sessionå¯¹è±¡ HttpSession getSession() HttpSession getSession(boolean create) 2ï¼‰è®¾ç½®sessionå¯¹è±¡ void setMaxInactiveInterval(int interval) ï¼š è®¾ç½®sessionçš„æœ‰æ•ˆæ—¶é—´ void invalidate() ï¼š é”€æ¯sessionå¯¹è±¡ java.lang.String getId() ï¼š å¾—åˆ°sessionç¼–å· 3ï¼‰ä¿å­˜ä¼šè¯æ•°æ®åˆ°sessionå¯¹è±¡ void setAttribute(java.lang.String name, java.lang.Object value) ï¼š ä¿å­˜æ•°æ® java.lang.Object getAttribute(java.lang.String name) ï¼š è·å–æ•°æ® void removeAttribute(java.lang.String name) ï¼š æ¸…é™¤æ•°æ® sessionç»†èŠ‚ 1ï¼‰java.lang.String getId() ï¼š å¾—åˆ°sessionç¼–å· 2ï¼‰ä¸¤ä¸ªgetSessionæ–¹æ³•ï¼š getSession(true) / getSession() : åˆ›å»ºæˆ–å¾—åˆ°sessionå¯¹è±¡ã€‚æ²¡æœ‰åŒ¹é…çš„sessionç¼–å·ï¼Œè‡ªåŠ¨åˆ›å»ºæ–°çš„sessionå¯¹è±¡ã€‚getSession(false): å¾—åˆ°sessionå¯¹è±¡ã€‚æ²¡æœ‰åŒ¹é…çš„sessionç¼–å·ï¼Œè¿”å›null 3ï¼‰void setMaxInactiveInterval(int interval) ï¼š è®¾ç½®sessionçš„æœ‰æ•ˆæ—¶é—´ sessionå¯¹è±¡é”€æ¯æ—¶é—´ï¼š 3.1 é»˜è®¤æƒ…å†µ30åˆ†æœåŠ¡å™¨è‡ªåŠ¨å›æ”¶ 3.2 ä¿®æ”¹sessionå›æ”¶æ—¶é—´ 3.3 å…¨å±€ä¿®æ”¹sessionæœ‰æ•ˆæ—¶é—´ ä»¥ä¸ŠAPIæ–¹ä¾¿å¿«é€Ÿå¼€å‘æ—¶æŸ¥è¯¢ï¼Œä¸‹é¢å¯¹sessionå’Œcookieçš„åŸç†è¿›è¡Œæ·±åº¦äº†è§£ã€‚ï¼ˆåœ¨æŸ¥é˜…èµ„æ–™å’ŒæŸ¥è¯¢dalaoçš„åšå®¢æ€»ç»“ï¼‰ é—®é¢˜ä¸€ï¼šcookieä¸sessionçš„å¼‚åŒ ä½œç”¨èŒƒå›´ä¸åŒï¼ŒCookie ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ï¼ŒSession ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ã€‚ å­˜å–æ–¹å¼çš„ä¸åŒï¼ŒCookie åªèƒ½ä¿å­˜ å­—ç¬¦ä¸²ï¼ˆä»¥key-valueå½¢å¼ï¼‰ï¼ŒSession å¯ä»¥å­˜ä»»æ„æ•°æ®ç±»å‹ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥åœ¨ Session ä¸­å­˜å‚¨å¯¹è±¡ã€‚ æœ‰æ•ˆæœŸä¸åŒï¼ŒCookie å¯è®¾ç½®ä¸ºé•¿æ—¶é—´ä¿æŒï¼Œæ¯”å¦‚æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„é»˜è®¤ç™»å½•åŠŸèƒ½ï¼ŒSession ä¸€èˆ¬å¤±æ•ˆæ—¶é—´è¾ƒçŸ­ï¼Œå®¢æˆ·ç«¯å…³é—­æˆ–è€… Session è¶…æ—¶éƒ½ä¼šå¤±æ•ˆã€‚ éšç§ç­–ç•¥ä¸åŒï¼ŒCookie å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œæ¯”è¾ƒå®¹æ˜“é­åˆ°ä¸æ³•è·å–ï¼Œæ—©æœŸæœ‰äººå°†ç”¨æˆ·çš„ç™»å½•åå’Œå¯†ç å­˜å‚¨åœ¨ Cookie ä¸­å¯¼è‡´ä¿¡æ¯è¢«çªƒå–ï¼›Session å­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼Œå®‰å…¨æ€§ç›¸å¯¹ Cookie è¦å¥½ä¸€äº›ã€‚ å­˜å‚¨å¤§å°ä¸åŒï¼Œ å•ä¸ª Cookie ä¿å­˜çš„æ•°æ®ä¸èƒ½è¶…è¿‡ 4Kï¼ŒSession å¯å­˜å‚¨æ•°æ®è¿œé«˜äº Cookieã€‚ é—®é¢˜äºŒï¼šä¸‹é¢å¼•å…¥ä¸ºä»€ä¹ˆéœ€è¦Cookieï¼š ä¸ºä»€ä¹ˆéœ€è¦å¼•å…¥cookieå‘¢ï¼Ÿç”±äºæµè§ˆå™¨ä¸æœåŠ¡å™¨äº¤äº’æ˜¯æ— çŠ¶æ€çš„ï¼ˆHTTPåè®®æ— çŠ¶æ€ï¼‰ï¼Œè¿™å°±æ„å‘³ç€æµè§ˆå™¨å¹¶ä¸çŸ¥é“æˆ‘æ˜¯åœ¨å’Œå¼ ä¸‰è¿˜æ˜¯æå››æ‰“äº¤é“ï¼Œè¿™æ—¶å€™éœ€è¦ä¸€å¥—æ ‡å‡†æ¥è¡¨ç¤ºæ­¤æ¬¡ä¼šè¯çš„è°å’Œè°è€Œè¿™å¥—æ ‡å‡†å°±å°†cookieå’Œsession(ä¸‹é¢ä»‹ç»)çš„é…åˆã€‚ é‚£ä¹ˆæˆ‘ä»¬è¿›ä¸€æ­¥æ€è€ƒï¼Œsessionä¸cookieæ˜¯å¦‚ä½•é…åˆçš„å‘¢ï¼Ÿ å›¾ç‰‡æ¥è‡ªç½‘ç»œï¼Œä¾µåˆ  ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚æœåŠ¡å™¨æ—¶ï¼ŒæœåŠ¡å™¨åˆ›å»ºsessionï¼Œå“åº”å®¢æˆ·ç«¯ï¼Œå°†SessionIDï¼ˆsessionçš„å”¯ä¸€æ ‡è¯†ï¼‰è¿”å›æµè§ˆå™¨ã€‚æµè§ˆå™¨æ¥æ”¶SessionIDåï¼Œå°†æ­¤ä¿¡æ¯å­˜å‚¨ä¸cookieä¸­ã€‚åŒæ—¶cookieè®°å½•sessionIDå±äºå“ªä¸ªåŸŸåã€‚ç”¨æˆ·ç¬¬äºŒæ¬¡è¯·æ±‚æœåŠ¡å™¨æ—¶ï¼Œå®¢æˆ·ç«¯è¯·æ±‚æ˜¯å¸¦ç€cookieå»çš„ï¼Œè€ŒæœåŠ¡å™¨ç«¯ä»cookieä¸­è·å–sessionIDï¼ŒæŸ¥æ‰¾å¯¹åº”çš„sessionä¿¡æ¯ï¼Œè¿™æ ·å°±å¯ä»¥è¾¾åˆ°æ•ˆæœâ€”æœåŠ¡å™¨ç«¯æ˜¯åœ¨å’Œè°æ‰“äº¤é“ã€‚ ä¸‹é¢å’±ä»¬ä»ä»£ç çš„è§’åº¦å»è§£è¯»session HttpSession session=request.getSession() 1 ç¬¬ä¸€æ¬¡è®¿é—®åˆ›å»ºsessionå¯¹è±¡ï¼Œç»™sessionå¯¹è±¡åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„IDï¼Œå«åšJSESSIONIDã€‚ new HttpSession() 2 æŠŠJSESSIONIDä½œä¸ºcookieçš„å€¼å‘é€ç»™æµè§ˆå™¨ã€‚ Cookie cookie=new Cookie(â€œJSESSIONIDâ€,sessionID)ï¼› response.addCookie(cookie); 3 å½“å®¢æˆ·ç«¯ç¬¬äºŒæ¬¡è®¿é—®æœåŠ¡ç«¯æ—¶ï¼Œæµè§ˆå™¨å¸¦ç€åå­—ä¸ºJSESSIONIDçš„cookieè®¿é—®æµè§ˆå™¨ã€‚ 4 æœåŠ¡å™¨æ ¹æ®keyä¸ºJSESSIONIDæ‰¾åˆ°å¯¹åº”çš„sessionIDçš„å€¼ï¼Œåœ¨æœåŠ¡å™¨å†…æœç´¢æ˜¯å¦å­˜åœ¨æ”¾å¯¹åº”ç¼–å·çš„sessionå¯¹è±¡ã€‚ if(æ‰¾åˆ°){return map.get(sessionID); }çŒœæƒ³ï¼šåº•å±‚å¯èƒ½æ˜¯ä¸€ä¸ªMap&lt;String,HttpSession&gt;å­˜å‚¨çš„ã€‚ 5 å¦‚æœæ‰¾åˆ°å¯¹åº”çš„sessionå¯¹è±¡ï¼Œç›´æ¥è¿”å›è¯¥å¯¹è±¡ã€‚ 6 å¦‚æœæ‰¾ä¸åˆ°å¯¹åº”ç¼–å·çš„sessionå¯¹è±¡ï¼Œåˆ™é‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„sessionå¯¹è±¡ï¼ˆä»æµç¨‹1å¼€å§‹ï¼‰ æ³¨: JSESSIONIDä¸sessionIDçš„å…³ç³»æ˜¯ï¼ŒJSESSIONIDæ˜¯sessionIDå­˜æ”¾åœ¨cookieä¸­çš„åå­—ï¼ˆcookieä¸­çš„keyå€¼ï¼‰ç»“è®ºï¼šé€šè¿‡Cookieçš„å€¼åœ¨æœåŠ¡å™¨ä¸­æ‰¾sessionå¯¹è±¡ã€‚é—®é¢˜ä¸‰ï¼šå¦‚ä½•è§£å†³sessionå…±äº«å‘¢ï¼Ÿåœ¨å•ç³»ç»Ÿä¸‹sessionå¯ä»¥åœ¨å„ä¸ªä¸šåŠ¡å±‚è·å–åˆ°ï¼Œä½†æ˜¯åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸‹ï¼Œå¾€å¾€å°†ä¸šåŠ¡è¿›è¡Œæ°´å¹³åˆ†å‰²ï¼Œä¹Ÿè®¸ç™»å½•åŠŸèƒ½å•ç‹¬ä½œä¸ºä¸€ä¸ªç³»ç»Ÿï¼Œå‰ç«¯é¡µé¢æ˜¾ç¤ºä½œä¸ºä¸€ä¸ªç³»ç»Ÿï¼Œå¹¿å‘Šé¡µåˆå•ç‹¬ä½œä¸ºä¸€ä¸ªç³»ç»Ÿç­‰ç­‰ã€‚é‚£ä¹ˆå¤šç³»ç»Ÿä¸‹å°±éœ€è¦è§£å†³sessionå…±äº«çš„é—®é¢˜ã€‚ä¸‹é¢æ€»ç»“ä¸€ä¸‹dalaoçš„è§£å†³åŠæ³•ï¼š Session å¤åˆ¶ï¼Œä»»ä½•ä¸€ä¸ªæœåŠ¡å™¨ä¸Šçš„ Session å‘ç”Ÿæ”¹å˜ï¼ˆå¢åˆ æ”¹ï¼‰ï¼Œè¯¥èŠ‚ç‚¹ä¼šæŠŠè¿™ä¸ª Session çš„æ‰€æœ‰å†…å®¹åºåˆ—åŒ–ï¼Œç„¶åå¹¿æ’­ç»™æ‰€æœ‰å…¶å®ƒèŠ‚ç‚¹ã€‚ å…±äº« Sessionï¼ŒæœåŠ¡ç«¯æ— çŠ¶æ€è¯ï¼Œå°†ç”¨æˆ·çš„ Session ç­‰ä¿¡æ¯ä½¿ç”¨ç¼“å­˜ä¸­é—´ä»¶æ¥ç»Ÿä¸€ç®¡ç†ï¼Œä¿éšœåˆ†å‘åˆ°æ¯ä¸€ä¸ªæœåŠ¡å™¨çš„å“åº”ç»“æœéƒ½ä¸€è‡´ã€‚ æŠŠsessionæ•°æ®æ”¾åœ¨redisä¸­ï¼ˆä½¿ç”¨redisæ¨¡ä»¿sessionï¼‰","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"JavaåŸºç¡€","slug":"JavaåŸºç¡€","permalink":"http://SlectRxz.github.io/tags/JavaåŸºç¡€/"}]},{"title":"é“¾è¡¨åè½¬","slug":"ä»£ç æ€»ç»“/ç”¨æˆ·è‡ªåŠ¨ç™»å½•","date":"2019-08-10T16:00:00.000Z","updated":"2019-08-16T15:35:05.360Z","comments":true,"path":"2019/08/11/ä»£ç æ€»ç»“/ç”¨æˆ·è‡ªåŠ¨ç™»å½•/","link":"","permalink":"http://SlectRxz.github.io/2019/08/11/ä»£ç æ€»ç»“/ç”¨æˆ·è‡ªåŠ¨ç™»å½•/","excerpt":"åœ¨springã€springmvcã€mybatisæ¡†æ¶ä¸‹ä½¿ç”¨sessionå’Œcookieå®ç°ç”¨æˆ·è‡ªåŠ¨ç™»å½•ã€‚","text":"åœ¨springã€springmvcã€mybatisæ¡†æ¶ä¸‹ä½¿ç”¨sessionå’Œcookieå®ç°ç”¨æˆ·è‡ªåŠ¨ç™»å½•ã€‚","categories":[{"name":"ä»£ç æ€»ç»“","slug":"ä»£ç æ€»ç»“","permalink":"http://SlectRxz.github.io/categories/ä»£ç æ€»ç»“/"}],"tags":[{"name":"javaWebå®æˆ˜","slug":"javaWebå®æˆ˜","permalink":"http://SlectRxz.github.io/tags/javaWebå®æˆ˜/"}]},{"title":"é“¾è¡¨åè½¬","slug":"ä»£ç æ€»ç»“/é“¾è¡¨åè½¬","date":"2019-08-10T16:00:00.000Z","updated":"2019-08-11T08:55:34.194Z","comments":true,"path":"2019/08/11/ä»£ç æ€»ç»“/é“¾è¡¨åè½¬/","link":"","permalink":"http://SlectRxz.github.io/2019/08/11/ä»£ç æ€»ç»“/é“¾è¡¨åè½¬/","excerpt":"å…³äºé“¾è¡¨çš„åˆ›å»ºã€éå†ã€åè½¬çš„å®ç°ï¼ˆé€’å½’å’Œéé€’å½’ï¼‰ã€å¯¹k~nä¹‹é—´çš„èŠ‚ç‚¹è¿›è¡Œåè½¬ã€‚","text":"å…³äºé“¾è¡¨çš„åˆ›å»ºã€éå†ã€åè½¬çš„å®ç°ï¼ˆé€’å½’å’Œéé€’å½’ï¼‰ã€å¯¹k~nä¹‹é—´çš„èŠ‚ç‚¹è¿›è¡Œåè½¬ã€‚ æœ€è¿‘å›é¡¾äº†ä¸€ä¸‹æ•°æ®ç»“æ„ï¼Œèµ·å› æ˜¯çœ‹è§äº†ä¸€æå­—èŠ‚è·³åŠ¨çš„é¢è¯•é¢˜ï¼Œå…³äºé“¾è¡¨åè½¬çš„ï¼Œç„¶åå°†æ€è·¯æ€»ç»“äº†ä¸€ä¸‹ã€‚(dalaoå‹¿å–·) é¢˜ç›®ï¼šè¿™å…¶å®æ˜¯ä¸€é“å˜å½¢çš„é“¾è¡¨åè½¬é¢˜ï¼Œå¤§è‡´æè¿°å¦‚ä¸‹ ç»™å®šä¸€ä¸ªå•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ head,å®ç°ä¸€ä¸ªè°ƒæ•´å•é“¾è¡¨çš„å‡½æ•°ï¼Œä½¿å¾—æ¯Kä¸ªèŠ‚ç‚¹ä¹‹é—´ä¸ºä¸€ç»„è¿›è¡Œé€†åºï¼Œå¹¶ä¸”ä»é“¾è¡¨çš„å°¾éƒ¨å¼€å§‹ç»„èµ·ï¼Œå¤´éƒ¨å‰©ä½™èŠ‚ç‚¹æ•°é‡ä¸å¤Ÿä¸€ç»„çš„ä¸éœ€è¦é€†åºã€‚ï¼ˆä¸èƒ½ä½¿ç”¨é˜Ÿåˆ—æˆ–è€…æ ˆä½œä¸ºè¾…åŠ©ï¼‰ ä¾‹å¦‚ï¼šé“¾è¡¨:1-&gt;2-&gt;3-&gt;4-&gt;5-&gt;6-&gt;7-&gt;8-&gt;null, K = 3ã€‚é‚£ä¹ˆ 6-&gt;7-&gt;8ï¼Œ3-&gt;4-&gt;5ï¼Œ1-&gt;2å„ä½ä¸€ç»„ã€‚è°ƒæ•´åï¼š1-&gt;2-&gt;5-&gt;4-&gt;3-&gt;8-&gt;7-&gt;6-&gt;nullã€‚å…¶ä¸­ 1ï¼Œ2ä¸è°ƒæ•´ï¼Œå› ä¸ºä¸å¤Ÿä¸€ç»„ã€‚ æ€è·¯ï¼šå¦‚æœæ˜¯ä»é“¾è¡¨å¤´å¼€å§‹ï¼Œéš”kä¸ªè¿›è¡Œé€†åºï¼Œå°¾éƒ¨å¤šä½™çš„ä¸ç®¡ï¼Œè¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“ã€‚ä½†æ˜¯å…¶æ˜¯ä»åå¾€å‰é€†åºï¼Œå’‹ç®—ï¼Ÿï¼Ÿ dalaoæ˜¯è¿™æ ·å¤„ç†çš„ï¼Œå°†åŸå…ˆé“¾è¡¨Aå…ˆæ•´ä½“è¿›è¡Œä¸€æ¬¡é€†åºï¼Œå†éš”kä¸ªè¿›è¡Œä¸€æ¬¡é€†åºï¼Œå°¾éƒ¨å‰©ä¸‹çš„èŠ‚ç‚¹ä¸ç®¡å¾—åˆ°é“¾è¡¨B,å†å°†é“¾è¡¨Bæ•´ä½“é€†åºå¾—åˆ°ç»“æœC,ç”±äºè¿›è¡Œäº†ä¸¤æ¬¡é€†åºï¼Œç›¸å½“äºæ²¡æœ‰é€†åºã€‚ é“¾è¡¨åˆ›å»ºCodeclass ListNode&#123; int node; ListNode next;&#125;/** * å•å‘é“¾è¡¨çš„åŸºæœ¬æ“ä½œï¼š * åˆ›å»ºï¼šå¤´æ’æ³•ã€å°¾æ’æ³• * åè½¬ï¼šé€’å½’/éé€’å½’å®ç° * @author rong * */public class é“¾è¡¨åè½¬ &#123; /** * å¤´æ’æ³•åˆ›å»ºé“¾è¡¨ * @return */ public ListNode H_createListNode()&#123; ListNode head = new ListNode(); head.node=0; head.next=null; Scanner scanner = new Scanner(System.in); int n=scanner.nextInt(); while(n&gt;0)&#123; ListNode s = new ListNode(); s.node=n; s.next=head.next; head.next=s; n--; &#125; return head; &#125; /** * å°¾æ’æ³•åˆ›å»ºé“¾è¡¨ * @return */ public ListNode S_createLinkNode()&#123; ListNode head = new ListNode(); head.node=0; head.next=null; ListNode r=head; Scanner scanner = new Scanner(System.in); int n=scanner.nextInt(); while(n&gt;0)&#123; ListNode node = new ListNode(); node.node=n; r.next=node; r=node; n--; &#125; return head; &#125; /** * é“¾è¡¨è¾“å‡º * @param head */ public static void printlistNode(ListNode head)&#123; head=head.next; while(head!=null)&#123; System.out.print(head.node+&quot;-&gt;&quot;); head=head.next; &#125; &#125; é“¾è¡¨åè½¬-éé€’å½’å®ç°Code/** * å•åºé“¾è¡¨åè½¬ï¼ˆéé€’å½’å®ç°ï¼‰ * @param head * @return */ public ListNode reverseList2(ListNode head)&#123; ListNode result = new ListNode(); result.next=null; ListNode temp =null; while(head!=null)&#123; //å°†åŸé“¾è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹åˆ†ç¦»ï¼Œå¤´èŠ‚ç‚¹æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°†åˆ†ç¦»çš„èŠ‚ç‚¹ä½¿ç”¨å¤´æ’æ³•åŠ å…¥åˆ°æ–°èŠ‚ç‚¹ä¸­ temp=head; head=head.next; /* è¿™é‡Œæ–°å»ºä¸€ä¸ªå¤´èŠ‚ç‚¹ï¼Œå†ç”¨å¤´æ’æ³•å°†åŸé“¾è¡¨ä¸Šçš„èŠ‚ç‚¹ä¸€ä¸ªä¸ªåŠ è¿›æ¥ è¿™é‡Œå°†headèŠ‚ç‚¹ä½œä¸ºç¬¬ä¸€ä¸ªåˆ†ç¦»çš„èŠ‚ç‚¹ */ temp.next=result.next; result.next=temp; &#125; return result; &#125; é“¾è¡¨åè½¬-é€’å½’å®ç°è¿™é‡Œé€’å½’ï¼Œæˆ‘è¿™æ ·ç†è§£çš„ï¼šé€’å½’é¦–å…ˆæ˜¯è‡ªå·±è°ƒç”¨è‡ªå·±ï¼Œå…¶æ¬¡é€’å½’çš„æœ¬è´¨å°±æ˜¯å¤šä¸ªå‡½æ•°è¿›æ ˆçš„è¿‡ç¨‹ï¼Œé¦–å…ˆæ‰¾åˆ°å‡ºå£ï¼Œå…¶æ¬¡å½“æ ˆé¡¶å‡½æ•°å¼¹å‡ºæ—¶ï¼Œè¿”å›çš„æ˜¯ç¬¬n-1ä¸ªå‡½æ•°ã€‚è¾ƒå¥½è§£é‡Šï¼šhttps://blog.csdn.net/fx677588/article/details/72357389Code/** * å•é“¾è¡¨åè½¬ï¼ˆé€’å½’å®ç°ï¼‰ * é€’å½’å®ç°ï¼šè‡ªå·±è°ƒç”¨è‡ªå·±ï¼Œæƒ³è±¡ä¸ºå¤šä¸ªç›¸åŒå‡½æ•°è¿›æ ˆï¼Œå†é€å±‚å‡ºæ ˆ * @param head * @return */ private static ListNode reverseList1(ListNode head) &#123; if(head == null || head.next == null) return head; ListNode result = reverseList1(head.next); head.next.next = head; head.next = null; return result; &#125; é“¾è¡¨åè½¬-ç¬¬k-nä¸ªèŠ‚ç‚¹Codepublic ListNode reverseListKN(ListNode head,Integer k,Integer n)&#123; /** * æ€è·¯ï¼šåè½¬å‰ï¼šé“¾è¡¨æ˜¯pre~k~n~s,åè½¬åpre~n~k~s */ //æ‰¾åˆ°ç¬¬k-1ã€kã€nã€n+1çš„èŠ‚ç‚¹ ListNode result = new ListNode(); result=head; ListNode pre=null,nn=null,s; ListNode kk = new ListNode(); int cont=0; while(head!=null)&#123; if(cont==(k-1))&#123; pre=head; &#125; if(cont==n)&#123; nn=head; &#125; head=head.next; cont++; &#125; kk=pre.next; s=nn.next; //å°†k-nä¹‹é—´çš„é“¾è¡¨åè½¬ï¼Œå…¶ä¸­kèŠ‚ç‚¹æ˜¯å¤´èŠ‚ç‚¹ï¼ŒnèŠ‚ç‚¹æ˜¯å°¾èŠ‚ç‚¹ System.out.println(&quot;æ­¤æ—¶nnèŠ‚ç‚¹çš„å€¼&quot;+nn.node); System.out.println(&quot;æ­¤æ—¶nnèŠ‚ç‚¹ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼&quot;+nn.next.node); /** * è¿™æ˜¯è‡³å…³é‡è¦çš„ä¸€å¥ * å› ä¸ºæˆ‘åœ¨æ¥ä¸‹æ¥çš„å¾ªç¯è¯­å¥ä¸­è¦æ ¹æ®ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦ä¸ºnullæ¥åˆ¤æ–­æ˜¯å¦éå†ç»“æŸ * å¦‚æœæ²¡æœ‰åˆ™ä¼šå°†k~é“¾è¡¨æœ€åä¸€ä¸ªèŠ‚ç‚¹å…¨éƒ¨éå† * æˆ‘ä»…ä»…éœ€è¦éå†ç¬¬k~nä¸ªèŠ‚ç‚¹ */ nn.next=null; /**************æˆ‘çš„BUG************************************************* * éš¾ç‚¹ï¼šè°ƒäº†åŠå¤©bugï¼Œå‘ç°åè½¬ä¹‹åï¼Œtempæˆä¸ºäº†ç¬¬ä¸€ä¸ªï¼ˆä½äºï¼‰newHeadä¹‹å * è€Œæ­¤æ—¶æˆ‘å¤±å»äº†å°¾éƒ¨èŠ‚ç‚¹çš„å¼•ç”¨å¯¹è±¡ï¼ˆä»¥ä¸ºæ˜¯kk,ä½†æ˜¯kkå·²ç».nextæ»‘ä¸ºnulläº†ï¼‰ * æ‰€ä»¥åœ¨éå†å‰éœ€è¦æŠŠåè½¬åçš„å°¾éƒ¨èŠ‚ç‚¹å­˜ä¸€ä¸‹ */ ListNode tail=kk;//æœ€åéœ€è¦åˆå¹¶é“¾è¡¨éœ€è¦çŸ¥é“å°¾éƒ¨èŠ‚ç‚¹ï¼Œå°†åè½¬ä¹‹åçš„å°¾éƒ¨èŠ‚ç‚¹å­˜ä¸€ä¸‹ /** * å‚æ•°è§£é‡Šï¼š * tempï¼šæ¯æ¬¡éœ€è¦å°†ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œå¤´æ’æ³•ï¼Œä¸´æ—¶ä¿å­˜ * newHeadï¼šåè½¬åéœ€è¦ä¸€ä¸ªæ–°çš„å¤´èŠ‚ç‚¹ */ ListNode temp=null; ListNode newHead = new ListNode(); newHead.next=null; while(kk!=null)&#123; temp=kk; kk=kk.next; //å¤´æ’æ³•å°†tempæ’å…¥åˆ°newHeadé“¾è¡¨ä¸­ temp.next=newHead.next; newHead.next=temp; &#125; // printlistNode(newHead);//æ‰“å°åè½¬ç»“æœï¼šåè½¬æˆåŠŸ /** * å½“æˆ‘ä»¬åè½¬ç»“æŸåï¼Œå¦‚ä½•å°†ä¸‰æ®µé“¾è¡¨æ¥èµ·æ¥ä¸ºå…³é”®ï¼Œ * éœ€è¦æ‰¾åˆ°åè½¬åèŠ‚ç‚¹çš„å¤´èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹ * å°†èŠ‚ç‚¹k-1æŒ‡å‘èŠ‚ç‚¹nï¼ŒèŠ‚ç‚¹kæŒ‡å‘èŠ‚ç‚¹n+1 */ pre.next=newHead.next; tail.next=s; return result;&#125;","categories":[{"name":"ä»£ç æ€»ç»“","slug":"ä»£ç æ€»ç»“","permalink":"http://SlectRxz.github.io/categories/ä»£ç æ€»ç»“/"}],"tags":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://SlectRxz.github.io/tags/æ•°æ®ç»“æ„/"}]},{"title":"Luceneå°±æ˜¯è¿™ä¹ˆç®€å•-è®¤è¯†ç¯‡","slug":"taotao/Lucene-è®¤è¯†ç¯‡","date":"2019-08-03T16:00:00.000Z","updated":"2019-08-04T09:16:33.052Z","comments":true,"path":"2019/08/04/taotao/Lucene-è®¤è¯†ç¯‡/","link":"","permalink":"http://SlectRxz.github.io/2019/08/04/taotao/Lucene-è®¤è¯†ç¯‡/","excerpt":"Luceneçš„ä»‹ç»å’Œç´¢å¼•åº“çš„ç»„æˆç»“æ„ã€‚","text":"Luceneçš„ä»‹ç»å’Œç´¢å¼•åº“çš„ç»„æˆç»“æ„ã€‚ 1.ä»€ä¹ˆæ˜¯Luceneï¼Ÿï¼Ÿï¼Ÿ Luceneæ˜¯apacheè½¯ä»¶åŸºé‡‘ä¼šå‘å¸ƒçš„ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„å…¨æ–‡æ£€ç´¢å¼•æ“å·¥å…·åŒ…ï¼Œç”±èµ„æ·±å…¨æ–‡æ£€ç´¢ä¸“å®¶Doug Cuttingæ‰€æ’°å†™,å®ƒæ˜¯ä¸€ä¸ªå…¨æ–‡æ£€ç´¢å¼•æ“çš„æ¶æ„ï¼Œæä¾›äº†å®Œæ•´çš„åˆ›å»ºç´¢å¼•å’ŒæŸ¥è¯¢ç´¢å¼•ï¼Œä»¥åŠéƒ¨åˆ†æ–‡æœ¬åˆ†æçš„å¼•æ“ï¼ŒLuceneçš„ç›®çš„æ˜¯ä¸ºè½¯ä»¶å¼€å‘äººå‘˜æä¾›ä¸€ä¸ªç®€å•æ˜“ç”¨çš„å·¥å…·åŒ…ï¼Œä»¥æ–¹ä¾¿åœ¨ç›®æ ‡ç³»ç»Ÿä¸­å®ç°å…¨æ–‡æ£€ç´¢çš„åŠŸèƒ½ï¼Œæˆ–è€…æ˜¯ä»¥æ­¤ä¸ºåŸºç¡€å»ºç«‹èµ·å®Œæ•´çš„å…¨æ–‡æ£€ç´¢å¼•æ“ï¼ŒLuceneåœ¨å…¨æ–‡æ£€ç´¢é¢†åŸŸæ˜¯ä¸€ä¸ªç»å…¸çš„ç¥–å…ˆï¼Œç°åœ¨å¾ˆå¤šæ£€ç´¢å¼•æ“éƒ½æ˜¯åœ¨å…¶åŸºç¡€ä¸Šåˆ›å»ºçš„ï¼Œæ€æƒ³æ˜¯ç›¸é€šçš„ã€‚ ç®€å•æ¥è¯´ï¼ŒLuceneæ˜¯ä¸€ä¸ªå…¨æ–‡æœç´¢å¼•æ“ã€‚ å…¨æ–‡æ£€ç´¢æ˜¯ä»€ä¹ˆï¼Ÿ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1) ä»å¤§é‡çš„ä¿¡æ¯ä¸­å¿«é€Ÿã€å‡†ç¡®åœ°æŸ¥æ‰¾å‡ºè¦çš„ä¿¡æ¯&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2) æœç´¢çš„å†…å®¹æ˜¯æ–‡æœ¬ä¿¡æ¯(ä¸æ˜¯å¤šåª’ä½“)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3) æœç´¢çš„æ–¹å¼ï¼šä¸æ˜¯æ ¹æ®è¯­å¥çš„æ„æ€è¿›è¡Œå¤„ç†ã€‚å¦‚æœè¦æœç´¢çš„æ–‡æœ¬ä¸ºâ€ 2012å¹´çš„æ˜¥æ™šæœ‰èµµæœ¬å±±å—â€ï¼Œé‚£ä¹ˆå«æœ‰è¿™äº›è¯(2012å¹´ã€æ˜¥æ™šã€èµµæœ¬å±±)å°±èƒ½æœç´¢å‡ºæ¥ã€‚æ¯ä¸€ä¸ªè¯éƒ½æ˜¯å…³é”®è¯ã€‚&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4) å…¨é¢ã€å¿«é€Ÿã€å‡†ç¡®æ˜¯è¡¡é‡å…¨æ–‡æ£€ç´¢ç³»ç»Ÿçš„å…³é”®æŒ‡æ ‡ã€‚&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5) æ¦‚æ‹¬ï¼š&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a) åªå¤„ç†æ–‡æœ¬&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b) ä¸å¤„ç†è¯­ä¹‰&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c) æœç´¢æ—¶è‹±æ–‡ä¸åŒºåˆ†å¤§å°å†™&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d) ç»“æœåˆ—è¡¨æœ‰ç›¸å…³åº¦æ’åº 2.ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨Luceneï¼Ÿï¼ˆæ•°æ®åº“ä¸å¥½å—ï¼‰ å…¨æ–‡æ£€ç´¢ä¸æ•°æ®åº“æœç´¢çš„åŒºåˆ«ï¼š 1. æ•°æ®åº“çš„æœç´¢ç±»ä¼¼ï¼šselect from è¡¨å where å­—æ®µå like â€˜%å…³é”®å­—%â€™ä¾‹å¦‚ï¼šselect from article where content likeâ€™%here%â€™ç»“æœ: where here shereç¼ºç‚¹ï¼šï¼ˆæ²¡æœ‰å°†æœç´¢ç»“æœç›¸å…³åº¦æ’åºï¼‰1)æœç´¢æ•ˆæœæ¯”è¾ƒå·®2)åœ¨æœç´¢çš„ç»“æœä¸­ï¼Œæœ‰å¤§é‡çš„æ•°æ®è¢«æœç´¢å‡ºæ¥ï¼Œæœ‰å¾ˆå¤šæ•°æ®æ˜¯æ²¡æœ‰ç”¨çš„ã€‚3)æŸ¥è¯¢é€Ÿåº¦åœ¨å¤§é‡æ•°æ®çš„æƒ…å†µä¸‹æ˜¯å¾ˆéš¾åšåˆ°å¿«é€Ÿçš„ã€‚ 2. å…¨æ–‡æ£€ç´¢ï¼š1) æœç´¢ç»“æœæŒ‰ç›¸å…³åº¦æ’åºï¼šæ„å‘³ç€åªæœ‰å‰å‡ ä¸ªé¡µé¢å¯¹äºç”¨æˆ·æ¥è¯´æ˜¯æ¯”è¾ƒæœ‰ç”¨çš„ï¼Œå…¶ä»–çš„ç»“æœä¸ç”¨æˆ·æƒ³è¦çš„ç­”æ¡ˆå¾ˆå¯èƒ½ç›¸å·®ç”šè¿œã€‚æ•°æ®åº“æœç´¢æ˜¯åšä¸åˆ°ç›¸å…³åº¦æ’åºçš„ã€‚2) å› ä¸ºå…¨æ–‡æ£€ç´¢æ˜¯é‡‡ç”¨å¼•ç´¢çš„æ–¹å¼ï¼Œæ‰€ä»¥åœ¨é€Ÿåº¦ä¸Šè‚¯å®šæ¯”æ•°æ®åº“æ–¹å¼likeè¦å¿«ã€‚ 3.ç´¢å¼•åº“çš„ç»„æˆï¼ˆé‡è¦ï¼ï¼ï¼‰&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è®²è§£å¦‚ä½•å…·ä½“çš„ä½¿ç”¨Luceneè¿›è¡Œæ£€ç´¢ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆå¾—å¼„æ˜ç™½Luceneå­˜æ”¾çš„ç©¶ç«Ÿæ˜¯å•¥ï¼Ÿåœ¨æ•°æ®åº“ä¸­ï¼Œæˆ‘ä»¬æ˜¯å°†æ•°æ®ä½œä¸ºè¡¨ä¸ºåŸºæœ¬å•ä½è¿›è¡Œå­˜å‚¨ï¼Œé‚£ä¹ˆLuceneåˆæ˜¯å¦‚ä½•è¿›è¡Œå­˜å‚¨çš„å‘¢ï¼Ÿ Luceneä¸­å­˜çš„å°±æ˜¯ä¸€ç³»åˆ—çš„äºŒè¿›åˆ¶å‹ç¼©æ–‡ä»¶å’Œä¸€äº›æ§åˆ¶æ–‡ä»¶ï¼Œå®ƒä»¬ä½äºè®¡ç®—æœºçš„ç¡¬ç›˜ä¸Šï¼Œè¿™äº›å†…å®¹ç»Ÿç§°ä¸ºç´¢å¼•åº“ï¼Œç´¢å¼•åº“æœ‰äºŒéƒ¨ä»½ç»„æˆï¼šï¼ˆ1ï¼‰ç›®å½• æŒ‰ç…§ä¸€å®šçš„æ‹†åˆ†ç­–ç•¥ï¼ˆå³åˆ†è¯å™¨ï¼‰å°†åŸå§‹è®°å½•ä¸­çš„æ¯ä¸ªå­—ç¬¦æ‹†å¼€åï¼Œå­˜å…¥ä¸€ä¸ªä¾›å°†æ¥æœç´¢çš„è¡¨ï¼ˆ2ï¼‰å†…å®¹ å­˜å…¥åˆ°ç´¢å¼•åº“ä¸­çš„åŸå§‹æ–‡æœ¬ï¼Œä¾‹å¦‚ï¼šJavaæ˜¯ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€ ä¹Ÿå°±æ˜¯è¯´ï¼šLuceneå­˜æ”¾æ•°æ®çš„åœ°æ–¹æˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸ºç´¢å¼•åº“ï¼Œç´¢å¼•åº“åˆåˆ†ä¸ºä¸¤éƒ¨åˆ†ç»„æˆï¼šç›®å½•å’Œå†…å®¹ã€‚ ç†è§£ï¼š&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æŠŠç´¢å¼•åº“å½“ä½œä¸€æœ¬ä¹¦ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬è¦å»æŸ¥è¯¢æŸä¸€èŠ‚å†…å®¹æ—¶ï¼Œéœ€è¦æ ¹æ®å…³é”®å¥æ‰¾åˆ°å¯¹åº”çš„é¡µæ•°ï¼Œå†æ ¹æ®é¡µæ•°æ‰¾åˆ°å¯¹åº”çš„å†…å®¹ã€‚åªéœ€è®°ä½Luceneæ˜¯å‘ç´¢å¼•åº“ä¸­è¿›è¡Œæ“ä½œï¼Œç´¢å¼•åº“ç”±ç›®å½•å’Œå†…å®¹ç»„æˆã€‚ä¸‹é¢å°†å…·ä½“ä»‹ç»ç›®å½•å’Œå†…å®¹çš„ç»„æˆï¼š 1ï¼‰äº’è”ç½‘æœç´¢ç»“æ„æ¡†å›¾ è¯´æ˜ï¼š1) å½“ç”¨æˆ·æ‰“å¼€&nbsp;www.baidu.com&nbsp;ç½‘é¡µæœç´¢æŸäº›æ•°æ®çš„æ—¶å€™ï¼Œä¸æ˜¯ç›´æ¥æ‰¾çš„ç½‘é¡µï¼Œè€Œæ˜¯æ‰¾çš„ç™¾åº¦çš„ç´¢å¼•åº“ã€‚ç´¢å¼•åº“é‡ŒåŒ…å«çš„å†…å®¹æœ‰ç´¢å¼•å·å’Œæ‘˜è¦ã€‚å½“æˆ‘ä»¬æ‰“å¼€&nbsp;www.baidu.com&nbsp;æ—¶ï¼Œçœ‹åˆ°çš„å°±æ˜¯æ‘˜è¦çš„å†…å®¹ã€‚2) ç™¾åº¦çš„ç´¢å¼•åº“çš„ç´¢å¼•å’Œäº’è”ç½‘çš„æŸä¸€ä¸ªç½‘ç«™å¯¹åº”ã€‚3) å½“ç”¨æˆ·æ•°æ®è¦æŸ¥è¯¢çš„å…³é”®å­—ï¼Œè¿”å›çš„é¡µé¢é¦–å…ˆæ˜¯ä»ç´¢å¼•åº“ä¸­å¾—åˆ°çš„ã€‚4) ç‚¹å‡»æ¯ä¸€ä¸ªæœç´¢å‡ºæ¥çš„å†…å®¹è¿›è¡Œç›¸å…³ç½‘é¡µæŸ¥æ‰¾ï¼Œè¿™ä¸ªæ—¶å€™æ‰æ‰¾çš„æ˜¯äº’è”ç½‘ä¸­çš„ç½‘é¡µã€‚ Luceneçš„ç´¢å¼•åº“çš„ç»“æ„ä¹‹åï¼Œåœ¨æ•°æ®åº“ä¸­æ•°æ®æ˜¯ä»¥è¡¨ä¸ºåŸºæœ¬å•ä½è¿›è¡Œå­˜å‚¨çš„ï¼Œåœ¨ç´¢å¼•åº“ä¸­éœ€è¦å­˜æ”¾å„ç§ä¸åŒç±»å‹çš„æ•°æ®ï¼Œæ˜¯ä»¥ä»€ä¹ˆæ–¹å¼å­˜å‚¨å‘¢ï¼Ÿ Luceneçš„ç»“æ„æ¡†å›¾ 1) åœ¨æ•°æ®åº“ä¸­ï¼Œæ•°æ®åº“ä¸­çš„æ•°æ®æ–‡ä»¶å­˜å‚¨åœ¨ç£ç›˜ä¸Šã€‚ç´¢å¼•åº“ä¹Ÿæ˜¯åŒæ ·ï¼Œç´¢å¼•åº“ä¸­çš„ç´¢å¼•æ•°æ®ä¹Ÿåœ¨ç£ç›˜ä¸Šå­˜åœ¨ï¼Œæˆ‘ä»¬ç”¨Directoryè¿™ä¸ªç±»æ¥æè¿°ã€‚2) æˆ‘ä»¬å¯ä»¥é€šè¿‡APIæ¥å®ç°å¯¹ç´¢å¼•åº“çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥çš„æ“ä½œã€‚3) åœ¨æ•°æ®åº“ä¸­ï¼Œå„ç§æ•°æ®å½¢å¼éƒ½å¯ä»¥æ¦‚æ‹¬ä¸ºä¸€ç§ï¼šè¡¨ã€‚åœ¨ç´¢å¼•åº“ä¸­ï¼Œå„ç§æ•°æ®å½¢å¼ä¹Ÿå¯ä»¥æŠ½è±¡å‡ºä¸€ç§æ•°æ®æ ¼å¼ä¸ºDocumentã€‚ï¼ˆç±»æ¯”æ•°æ®åº“ä¸­çš„è¡¨ç»“æ„ï¼‰4) Documentçš„ç»“æ„ä¸ºï¼šDocument(List&#60;Field&#62;)5) Fieldé‡Œå­˜æ”¾ä¸€ä¸ªé”®å€¼å¯¹ã€‚é”®å€¼å¯¹éƒ½ä¸ºå­—ç¬¦ä¸²çš„å½¢å¼ã€‚6) å¯¹ç´¢å¼•åº“ä¸­ç´¢å¼•çš„æ“ä½œå®é™…ä¸Šä¹Ÿå°±æ˜¯å¯¹Documentçš„æ“ä½œã€‚ 4.ç¬¬ä¸€ä¸ªLuceneç¨‹åº4.1å‡†å¤‡jaråŒ…æ­å»ºluceneçš„å¼€å‘ç¯å¢ƒï¼Œè¦å‡†å¤‡luceneçš„jaråŒ…ï¼Œè¦åŠ å…¥çš„jaråŒ…è‡³å°‘æœ‰ï¼š1) lucene-core-3.1.0.jar (æ ¸å¿ƒåŒ…)2) lucene-analyzers-3.1.0.jar (åˆ†è¯å™¨)3) lucene-highlighter-3.1.0.jar (é«˜äº®å™¨)4) lucene-memory-3.1.0.jar (é«˜äº®å™¨) 4.2å‡†å¤‡ä¸€ä¸ªpojoCodepackage com.pojo;public class article &#123; private Long id; private String name; private String content; public Long getId() &#123; return id; &#125; public void setId(Long id) &#123; this.id = id; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125; public String getContent() &#123; return content; &#125; public void setContent(String content) &#123; this.content = content; &#125;&#125; 4.3å»ºç«‹ç´¢å¼•åº“å¹¶å‘ç´¢å¼•åº“å†™å†…å®¹ å‘ç´¢å¼•åº“ä¸­æ·»åŠ ç´¢å¼• åˆ†æï¼šå†™å…¥ç´¢å¼•åº“ä½¿ç”¨çš„ç±»ï¼šindexWriteråˆ›å»ºIndexWriteræ„é€ å‡½æ•°éœ€è¦ä¸‰ä¸ªå‚æ•°ï¼šç´¢å¼•åº“ï¼Œåˆ†è¯å™¨ï¼Œå­˜å‚¨çš„æœ€å¤§é•¿åº¦ //ç´¢å¼•åº“ éœ€è¦æŒ‡å®šç´¢å¼•åº“çš„ä½ç½®Directory directory = FSDirectory.open(new File(â€œ./indexDirâ€));//å­˜åœ¨å½“å‰è·¯å¾„ä¸‹çš„indexDiræ–‡ä»¶ä¸‹//åˆ†è¯å™¨ éœ€è¦æŒ‡å®šä¸€ä¸ªåˆ†è¯å™¨ç‰ˆæœ¬Analyzer analyzer = new StandardAnalyzer(Version.LUCENE_30); å¾—åˆ°äº†indexWriterå¯¹è±¡â€”â€”-&gt;indexWriteréœ€è¦å‘ç´¢å¼•åº“å†™çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿâ€”â€”â€“&gt;å†™çš„æ˜¯documentå¯¹è±¡â€”â€”â€“&gt;ducumentå¯¹è±¡é‡Œé¢å­˜å‚¨çš„æ˜¯ä»€ä¹ˆï¼Ÿâ€”â€”â€”-&gt;filedå¯¹è±¡filedå¯¹è±¡æœ‰å››ä¸ªå‚æ•°ï¼š1ï¼‰æ”¾åœ¨ç´¢å¼•åº“ä¸­çš„nameåç§°2ï¼‰æ”¾åœ¨ç´¢å¼•åº“ä¸­çš„value3ï¼‰æ˜¯å¦å­˜å‚¨åœ¨ç´¢å¼•åº“ä¸­ï¼ˆé’ˆå¯¹å†…å®¹åº“ï¼‰4ï¼‰æ˜¯å¦æ·»åŠ åœ¨ç›®å½•ä¸­ï¼ˆé’ˆå¯¹ç›®å½•åº“ï¼‰ ä»£ç ï¼šCode/** * 1ã€åˆ›å»ºä¸€ä¸ªarticleå¯¹è±¡ * 2ã€æŠŠarticleå¯¹è±¡è½¬åŒ–æˆdocumentå¯¹è±¡ * 3ã€åˆ›å»ºä¸€ä¸ªIndexWriterå¯¹è±¡ * 4ã€æŠŠdocumentå¯¹è±¡åŠ å…¥åˆ°ç´¢å¼•åº“ä¸­ */ @Test public void createIndex() throws Exception&#123; //1.åˆ›å»ºIndexWriterå¯¹è±¡,å‚æ•°éœ€è¦ï¼šç´¢å¼•åº“ï¼Œåˆ†åˆ†è¯å™¨ï¼Œå­˜å‚¨çš„æœ€å¤§é•¿åº¦ //ç´¢å¼•åº“ Directory directory = FSDirectory.open(new File(&quot;./indexDir&quot;)); //åˆ†è¯å™¨ Analyzer analyzer=new StandardAnalyzer(Version.LUCENE_30); /** * directoryæŒ‡å‘äº†ç´¢å¼•åº“çš„è·¯å¾„ &quot;./indexDir&quot; * analyzer åˆ†è¯å™¨ æŠŠtitle,contentçš„å†…å®¹åˆ†è¯åçš„å†…å®¹æ”¾å…¥åˆ°ç›®å½•ä¸­ * MaxFieldLength é™åˆ¶æ¯ä¸€ä¸ªå­—æ®µå¾€ç´¢å¼•åº“ä¸­å­˜æ”¾çš„å¤§å° */ IndexWriter indexWriter = new IndexWriter(directory, analyzer, MaxFieldLength.LIMITED); //2.å‡†å¤‡éœ€è¦å­˜å‚¨çš„å†…å®¹ article article = new article(); article.setId(1L); article.setName(&quot;luceneå¯ä»¥åšæœç´¢å¼•æ“&quot;); article.setContent(&quot;baidu,googleå¯ä»¥å¿«é€ŸæŸ¥è¯¢ç”¨æˆ·æ‰€éœ€çš„å†…å®¹&quot;); //3.å‡†å¤‡documentå¯¹è±¡ Document document = new Document(); //4.æ·»åŠ å†…å®¹ /** * ç¬¬ä¸€ä¸ªå‚æ•° * æ”¾å…¥åˆ°ç´¢å¼•åº“ä¸­çš„nameçš„åç§°&quot;id&quot; * ç¬¬äºŒä¸ªå‚æ•° * æ”¾å…¥åˆ°ç´¢å¼•åº“ä¸­çš„valueï¼šidçš„å€¼ * ç¬¬ä¸‰ä¸ªå‚æ•° * Store * YES è¯¥å­—æ®µå‘å†…å®¹åº“ä¸­å­˜å‚¨ * no è¯¥å­—æ®µä¸å‘å†…å®¹åº“ä¸­å­˜å‚¨ * ç¬¬å››ä¸ªå­—æ®µ * Index * no ä¸å‘ç›®å½•åº“ä¸­å­˜å‚¨ * NOT_ANALYZED å­˜å‚¨ï¼Œä½†æ˜¯ä¸åˆ†è¯ * ANALYZED å­˜å‚¨ï¼Œåˆ†è¯ */ document.add(new Field(&quot;id&quot;, article.getId().toString(), Store.YES, Index.ANALYZED)); document.add(new Field(&quot;title&quot;, article.getName(), Store.YES, Index.ANALYZED)); document.add(new Field(&quot;content&quot;, article.getContent().toString(), Store.YES, Index.ANALYZED)); //indexwriterè°ƒç”¨å†™æ–¹æ³•å†™ indexWriter.optimize(); indexWriter.addDocument(document); indexWriter.close(); &#125; å‘ç´¢å¼•åº“ä¸­æ·»åŠ å†…å®¹ 4.4å‘ç´¢å¼•åº“ä¸­æŸ¥æ‰¾å†…å®¹åˆ†æï¼š æŸ¥æ‰¾æ•°æ®éœ€è¦IndexSearchç±»1ï¼‰ç±»çš„åˆå§‹åŒ–IndexSearcher indexSearcher = new IndexSearcher(directory);åˆ›å»ºå‚æ•°éœ€è¦ä¼ å…¥ä¸€ä¸ªç´¢å¼•åº“ï¼ˆä½ å¾—å‘Šè¯‰åˆ«äººä»å“ªä¸ªåº“æ‰¾ï¼‰2ï¼‰æŸ¥æ‰¾çš„æ–¹æ³•TopDocs topDocs = indexSearch.search(Query,N),è¿”å›ä¸€ä¸ªTopDocså½¢å‚çš„ä»£è¡¨çš„æ„æ€ï¼šQueryå¯¹è±¡ï¼šQueryParser queryParser = new QueryParser(Version.LUCENE_30, â€œtitleâ€, analyzer);Query query = queryParser.parse(â€œluceneâ€); å‚æ•°ä¸€ï¼šéœ€è¦ä¸€ä¸ªç‰ˆæœ¬å· å‚æ•°äºŒï¼šè¡¨ç¤ºåœ¨é‚£ä¸ªå­—æ®µè¿›è¡Œæ£€ç´¢ï¼Œå­—æ®µå°±æ˜¯ä¸Šè¿°filedå¯¹è±¡çš„keyå€¼ å‚æ•°ä¸‰ï¼šåˆ†è¯å™¨ï¼Œå› ä¸ºè¿˜éœ€è¦å¯¹è¾“å…¥çš„æŸ¥è¯¢ä¿¡æ¯è¿›è¡Œåˆ†è¯queryParser.parse(â€œluceneâ€); è¡¨ç¤ºå¯¹é‚£äº›å†…å®¹è¿›è¡ŒæŸ¥æ‰¾N:è¡¨ç¤ºæŸ¥æ‰¾næ¡è®°å½•è¿”å›å€¼TopDocs: å¯ä»¥æŠŠTopDocsè¿™æ ·ç†è§£ï¼Œå®ƒå°±æ˜¯æ ¹æ®å…³é”®è¯æ£€ç´¢å‡ºæ¥çš„ ç›®å½•è®°å½•ï¼Œåé¢æ ¹æ®è¿™ä¸ªç›®å½•è®°å½•å»æ‰¾å¯¹åº”çš„å†…å®¹åº“ä¸­çš„documentï¼ˆå…³äºç›®å½•åº“å’Œå†…å®¹åº“çœ‹å›¾ï¼‰int count = topDocs.totalHits; // æ ¹æ®å…³é”®è¯è®¡ç®—å‡ºæ¥çš„æ€»çš„è®°å½•æ•° ç°åœ¨å¦‚ä½•ä»TopDocsè·å–åˆ°æˆ‘ä»¬æƒ³è¦çš„å†…å®¹å‘¢ï¼Ÿæœç´¢çš„è¿‡ç¨‹ä¸ºï¼šå…ˆæ ¹æ®å†…å®¹åœ¨ç›®å½•åº“å†…æ‰¾åˆ°ç´¢å¼•å€¼ï¼Œå†æ ¹æ®ç´¢å¼•å€¼åˆ°å†…å®¹åº“é‡Œé¢æ‰¾ï¼Œæ‰¾åˆ°å¯¹åº”çš„documentå¦‚ä½•è·å–documentå‘¢ï¼ŸScoreDoc[] scoreDocs = topDocs.scoreDocs;Document document = indexSearcher.doc(scoreDoc.doc);scoreDoc.doc æ ¹æ®å…³é”®è¯æ‰¾åˆ°çš„ç´¢å¼•å¾—åˆ°çš„å°±æ˜¯ç´¢å¼•åº“ç›®å½•ä¸­çš„ç´¢å¼•å€¼ï¼Œæ ¹æ®è¿™ä¸ªå€¼å»å†…å®¹åº“ä¸­æ‰¾å†…å®¹ å‘ç´¢å¼•åº“ä¸­æœç´¢å†…å®¹ä»£ç ï¼šCode@Test public void searchIndex() throws Exception&#123; //1.åˆ›å»ºä¸€ä¸ªIndexSearchå¯¹è±¡ éœ€è¦ä¸€ä¸ªç´¢å¼•åº“ //ç´¢å¼•åº“ Directory directory = FSDirectory.open(new File(&quot;./indexDir&quot;)); IndexSearcher indexSearcher = new IndexSearcher(directory); //2.åˆ›å»ºä¸€ä¸ªQueryå¯¹è±¡ é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªQueryParseå¯¹è±¡ //åˆ†è¯å™¨ Analyzer analyzer = new StandardAnalyzer(Version.LUCENE_30); QueryParser queryParser = new QueryParser(Version.LUCENE_30, &quot;title&quot;, analyzer); /* * ç¬¬ä¸€ä¸ªå‚æ•° * ç‰ˆæœ¬å· * ç¬¬äºŒä¸ªå‚æ•° * åœ¨å“ªä¸ªå­—æ®µä¸­è¿›è¡Œæ£€ç´¢ å­—æ®µå¯¹åº”å‰é¢filedçš„keyæœ‰å‡ ä¸ª * ç¬¬ä¸‰ä¸ªå‚æ•° * ä¸ºåˆ†è¯å™¨ï¼Œåœ¨è°ƒç”¨queryParserçš„parseæ–¹æ³•çš„æ—¶å€™ï¼Œéœ€è¦å¯¹æŸ¥è¯¢å‚æ•°å†æ¬¡è¿›è¡Œåˆ†è¯ */ Query query = queryParser.parse(&quot;lucene&quot;); //3.æ‰§è¡Œæœç´¢ TopDocs topDocs = indexSearcher.search(query, 2); /* *å¯ä»¥æŠŠTopDocsè¿™æ ·ç†è§£ï¼Œå®ƒå°±æ˜¯æ ¹æ®å…³é”®è¯æ£€ç´¢å‡ºæ¥çš„ ç›®å½•è®°å½•ï¼Œåé¢æ ¹æ®è¿™ä¸ªç›®å½•è®°å½•å»æ‰¾å¯¹åº”çš„å†…å®¹åº“ä¸­çš„document */ int count = topDocs.totalHits; // æ ¹æ®å…³é”®è¯è®¡ç®—å‡ºæ¥çš„æ€»çš„è®°å½•æ•° /** * queryå‚æ•° * åŒ…å«äº†ä¸€ä¸ªåˆ†è¯å™¨ * åŒ…å«äº†ä¸€ä¸ªå…³é”®è¯ * n æŸ¥æ‰¾å‰næ¡è®°å½• * TopDocs==Top Documents å‰ä¸€äº›Documents */ //4.å¾—åˆ°documentå¯¹è±¡ ScoreDoc[] scoreDocs = topDocs.scoreDocs; ArrayList&lt;article&gt; articles = new ArrayList&lt;article&gt;(); for (ScoreDoc scoreDoc : scoreDocs) &#123; //Document document = new Document(); int doc = scoreDoc.doc; //scoreDoc.doc æ ¹æ®å…³é”®è¯æ‰¾åˆ°çš„ç´¢å¼• å¾—åˆ°çš„å°±æ˜¯ç´¢å¼•åº“ç›®å½•ä¸­çš„ç´¢å¼•å€¼ï¼Œæ ¹æ®è¿™ä¸ªå€¼å»å†…å®¹åº“ä¸­æ‰¾å†…å®¹ Document document = indexSearcher.doc(doc); article article = new article(); //Documentè½¬åŒ–æˆarticleçš„è¿‡ç¨‹ article.setId(Long.parseLong(document.get(&quot;id&quot;))); article.setName(document.get(&quot;title&quot;)); article.setContent(document.get(&quot;content&quot;)); articles.add(article); &#125; for (article aa : articles) &#123; System.out.println(aa.getId()); System.out.println(aa.getName()); System.out.println(aa.getContent()); &#125; &#125; æ€»ç»“æ­¥éª¤ï¼š1) åˆ›å»ºIndexSearchIndexSearcher indexSearcher = new IndexSearcher(directory);//ç´¢å¼•åº“Directory directory = FSDirectory.open(new File(â€œ./indexDirâ€));//åˆ†è¯å™¨Analyzer analyzer = new StandardAnalyzer(Version.LUCENE_30);2) åˆ›å»ºQueryå¯¹è±¡QueryParser queryParser = new QueryParser(Version.LUCENE_30, â€œtitleâ€, analyzer); ç¬¬ä¸€ä¸ªå‚æ•° ç‰ˆæœ¬å· ç¬¬äºŒä¸ªå‚æ•° åœ¨å“ªä¸ªå­—æ®µä¸­è¿›è¡Œæ£€ç´¢ å­—æ®µå¯¹åº”å‰é¢filedçš„keyæœ‰å‡ ä¸ª ç¬¬ä¸‰ä¸ªå‚æ•° ä¸ºåˆ†è¯å™¨ï¼Œåœ¨è°ƒç”¨queryParserçš„parseæ–¹æ³•çš„æ—¶å€™ï¼Œéœ€è¦å¯¹æŸ¥è¯¢å‚æ•°å†æ¬¡è¿›è¡Œåˆ†è¯ Query query = queryParser.parse(&quot;lucene&quot;); 3) è¿›è¡Œæœç´¢TopDocs topDocs = indexSearcher.search(query, 2);2è¡¨ç¤ºè¿”å›çš„è®°å½•æ¡æ•°4) è·å¾—æ€»ç»“æœæ•°å’Œå‰Nè¡Œè®°å½•IDåˆ—è¡¨int count = topDocs.totalHits; // æ ¹æ®å…³é”®è¯è®¡ç®—å‡ºæ¥çš„æ€»çš„è®°å½•æ•°5) æ ¹æ®ç›®å½•IDåˆ—è¡¨æŠŠDocumentè½¬ä¸ºä¸ºpojoå¹¶æ”¾å…¥é›†åˆä¸­ã€‚ScoreDoc[] scoreDocs = topDocs.scoreDocs;int doc = scoreDocs[i].doc;Document document = indexSearcher.doc(doc);è¯´æ˜ï¼šè¿™ä¸ªæ—¶å€™ indexSearcher.doc(doc)æ ¹æ®å…³é”®è¯æ‰¾åˆ°çš„ç´¢å¼• å¾—åˆ°çš„å°±æ˜¯ç´¢å¼•åº“ç›®å½•ä¸­çš„ç´¢å¼•å€¼ï¼Œæ ¹æ®è¿™ä¸ªå€¼å»å†…å®¹åº“ä¸­æ‰¾å†…å®¹6) å¾ªç¯å‡ºè¦æ£€ç´¢çš„å†…å®¹document.get(â€œidâ€)document.get(â€œtitleâ€)document.get(â€œcontentâ€) 5.å°è£…é‡å¤ä»£ç  ä¸Šè¿°æ“ä½œå…¶å®æœ‰è®¸å¤šé‡å¤ä»£ç ï¼Œå¦‚ç´¢å¼•åº“çš„åˆ›å»ºï¼Œåˆ†æå™¨çš„åˆ›å»ºï¼Œpojoä¸Documentå¯¹è±¡ä¹‹é—´çš„è½¬æ¢ç­‰éƒ½å¯ä»¥æå–å‡ºå…¬å…±çš„ä»£ç å—ï¼Œæå–å·¥å…·ç±»ã€‚","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"javaWebå®æˆ˜","slug":"javaWebå®æˆ˜","permalink":"http://SlectRxz.github.io/tags/javaWebå®æˆ˜/"}]},{"title":"åå°æ·»åŠ å•†å“","slug":"taotao/taotaoå•†åŸä¹‹æ·»åŠ å•†å“","date":"2019-06-19T16:00:00.000Z","updated":"2019-06-18T06:30:34.076Z","comments":true,"path":"2019/06/20/taotao/taotaoå•†åŸä¹‹æ·»åŠ å•†å“/","link":"","permalink":"http://SlectRxz.github.io/2019/06/20/taotao/taotaoå•†åŸä¹‹æ·»åŠ å•†å“/","excerpt":"taotaoå•†åŸåå°ç®¡ç†ä¸­çš„æ·»åŠ å•†å“ï¼Œè®¾è®¡åˆ°å›æ˜¾å•†å“ç§ç±»ã€å®ç°å›¾ç‰‡ä¸Šä¼ FastDFSæœåŠ¡å™¨ï¼Œä»¥åŠå•†å“ä¿®æ”¹ã€åˆ é™¤ã€ä¸Šæ¶å’Œä¸‹æ¶çš„å®ç°ã€‚","text":"taotaoå•†åŸåå°ç®¡ç†ä¸­çš„æ·»åŠ å•†å“ï¼Œè®¾è®¡åˆ°å›æ˜¾å•†å“ç§ç±»ã€å®ç°å›¾ç‰‡ä¸Šä¼ FastDFSæœåŠ¡å™¨ï¼Œä»¥åŠå•†å“ä¿®æ”¹ã€åˆ é™¤ã€ä¸Šæ¶å’Œä¸‹æ¶çš„å®ç°ã€‚ å•†å“çš„ç§ç±»é€‰æ‹©åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå½“æˆ‘ä»¬æ·»åŠ å•†å“çš„æ—¶å€™ï¼Œéœ€è¦é€‰æ‹©ä½ æ·»åŠ å•†å“çš„ç§ç±»ï¼Œå¦‚ä¸‹å›¾ï¼šä½†æ˜¯å•†å“çš„ç§ç±»æ˜¯æˆ‘ä»¬ä»æ•°æ®åº“ä¸­æŸ¥è¯¢åè¿”å›ç»™å®¢æˆ·ç«¯æ˜¾ç¤ºï¼Œé‚£ä¹ˆåå°çš„é€»è¾‘å¦‚ä½•å®ç°å‘¢ï¼Ÿ1.åˆ†æå‰ç«¯é¡µé¢ï¼Œæ‰¾å‡ºurlï¼Œè¯·æ±‚å‚æ•°ï¼Œè¿”å›å€¼ç±»å‹ç­‰","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"javaWebå®æˆ˜","slug":"javaWebå®æˆ˜","permalink":"http://SlectRxz.github.io/tags/javaWebå®æˆ˜/"}]},{"title":"åå°å•†å“åˆ—è¡¨æŸ¥è¯¢","slug":"taotao/taotaoå•†åŸä¹‹åå°å•†å“åˆ—è¡¨æŸ¥è¯¢","date":"2019-06-17T16:00:00.000Z","updated":"2019-06-18T01:27:05.527Z","comments":true,"path":"2019/06/18/taotao/taotaoå•†åŸä¹‹åå°å•†å“åˆ—è¡¨æŸ¥è¯¢/","link":"","permalink":"http://SlectRxz.github.io/2019/06/18/taotao/taotaoå•†åŸä¹‹åå°å•†å“åˆ—è¡¨æŸ¥è¯¢/","excerpt":"taotaoå•†åŸåå°ç®¡ç†ä¸­çš„å•†å“åˆ—è¡¨æŸ¥è¯¢ï¼Œä¸»è¦æ¶‰åŠåˆ°dubboã€åˆ†é¡µæ’ä»¶PageHelperçš„ä½¿ç”¨ã€‚","text":"taotaoå•†åŸåå°ç®¡ç†ä¸­çš„å•†å“åˆ—è¡¨æŸ¥è¯¢ï¼Œä¸»è¦æ¶‰åŠåˆ°dubboã€åˆ†é¡µæ’ä»¶PageHelperçš„ä½¿ç”¨ã€‚éœ€æ±‚ï¼šç‚¹å‡»æŸ¥è¯¢å•†å“åå°†æ•°æ®åº“ä¸­çš„å•†å“æŸ¥è¯¢åæ˜¾ç¤ºåœ¨å‰ç«¯é¡µé¢ä¸Šï¼Œå¦‚å›¾æ‰€ç¤ºï¼šåˆ†æï¼šç”±äºæˆ‘ä»¬æ— éœ€å¼€å‘å‰ç«¯é¡µé¢ï¼Œæœ‰éœ€æ±‚å¯å¾—å‡ºè¯¥åŠŸèƒ½çš„å®ç°åº”è¯¥å°±æ˜¯å°†æ•°æ®åº“ä¸­çš„å•†å“åˆ—è¡¨æŸ¥è¯¢åè¿”å›ç»™å‰å°é¡µé¢ï¼Œä½†æ˜¯å‰ç«¯è¯·æ±‚çš„URLã€è¯·æ±‚çš„æ•°æ®ä»¥åŠéœ€è¦è¿”å›çš„æ•°æ®æ ¼å¼ï¼Œè¿™ä¸ªæ˜¯æˆ‘ä»¬éœ€è¦ç”±å‰ç«¯é™æ€ä»£ç æ‰€åˆ†æå‡ºæ¥çš„ã€‚ï¼ˆè¿™ä¸ªåå°ç®¡ç†çš„å‰ç«¯é¡µé¢æ˜¯ç”¨EasyUIå¼€å‘çš„ï¼Œæœ‰ç‚¹çœ‹ä¸æ‡‚ï¼‰ æ€è·¯ï¼šå…ˆåˆ†æé¡µé¢ï¼Œçœ‹å…¶URLä»¥åŠéœ€è¦ä¼ é€’ä»€ä¹ˆæ•°æ®ï¼Œè¿™æ ·æ‰æ–¹ä¾¿å»æ„é€ POJOå»ä¼ é€’å…¶ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘çš„æ˜¯ï¼š è¡¨ç°å±‚éœ€è¦æ¥æ”¶ä»€ä¹ˆæ•°æ®ï¼ˆæ¥æ”¶ä»å‰ç«¯é¡µé¢ä¼ é€’è¿‡æ¥çš„ï¼‰ è¡¨ç°å±‚éœ€è¦è¿”å›ä»€ä¹ˆç±»å‹çš„æ•°æ®ï¼ˆå‰ç«¯é¡µé¢éœ€è¦ä»€ä¹ˆç±»å‹çš„æ•°æ®æ‰èƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºï¼‰ å‰ç«¯é¡µé¢æ‰€æäº¤çš„URLï¼Œä»¥get/postæäº¤ å½“POJOæ„é€ å®Œæ¯•åï¼Œèµ°æŒä¹…å±‚ï¼ˆdaoï¼‰-&gt;æœåŠ¡å±‚ï¼ˆserviceï¼‰-&gt;è¡¨ç°å±‚(controller)","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"javaWebå®æˆ˜","slug":"javaWebå®æˆ˜","permalink":"http://SlectRxz.github.io/tags/javaWebå®æˆ˜/"}]},{"title":"FastDFSä»‹ç»","slug":"taotao/FastDFSçš„é…ç½®","date":"2019-06-16T16:00:00.000Z","updated":"2019-08-04T06:44:20.190Z","comments":true,"path":"2019/06/17/taotao/FastDFSçš„é…ç½®/","link":"","permalink":"http://SlectRxz.github.io/2019/06/17/taotao/FastDFSçš„é…ç½®/","excerpt":"FastDFSæœåŠ¡å™¨çš„ä»‹ç»ä¸ä½¿ç”¨ï¼ˆé…ç½®è¿‡äºè›®çƒ¦ï¼‰ã€‚","text":"FastDFSæœåŠ¡å™¨çš„ä»‹ç»ä¸ä½¿ç”¨ï¼ˆé…ç½®è¿‡äºè›®çƒ¦ï¼‰ã€‚ ä»€ä¹ˆæ˜¯FastDFSï¼ŸFastDFSæ˜¯ç”¨cè¯­è¨€ç¼–å†™çš„ä¸€æ¬¾å¼€æºçš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€‚FastDFSä¸ºäº’è”ç½‘é‡èº«å®šåˆ¶ï¼Œå……åˆ†è€ƒè™‘äº†å†—ä½™å¤‡ä»½ã€è´Ÿè½½å‡è¡¡ã€çº¿æ€§æ‰©å®¹ç­‰æœºåˆ¶ï¼Œå¹¶æ³¨é‡é«˜å¯ç”¨ã€é«˜æ€§èƒ½ç­‰æŒ‡æ ‡ï¼Œä½¿ç”¨FastDFSå¾ˆå®¹æ˜“æ­å»ºä¸€å¥—é«˜æ€§èƒ½çš„æ–‡ä»¶æœåŠ¡å™¨é›†ç¾¤æä¾›æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ç­‰æœåŠ¡ã€‚ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨FastDFSï¼Ÿ æˆ‘ä»¬æŠŠé™æ€èµ„æºæ–‡ä»¶å­˜å‚¨åœ¨æœ¬åœ°æœåŠ¡å™¨ä¹Ÿèƒ½æ­£å¸¸è®¿é—®å•Šï¼Œå¦‚æ”¾åœ¨Tomcaté¡¹ç›®æ–‡ä»¶å¤¹ä¸‹ï¼Œä¹Ÿèƒ½å®ç°æ­£å¸¸çš„è®¿é—®ã€‚ ä½†æ˜¯å½“æˆ‘ä»¬çš„ç³»ç»Ÿè¶…è¿‡1000å¹¶å‘åï¼Œéœ€è¦ä½¿ç”¨nginxè¿›è¡ŒæœåŠ¡å™¨çš„è´Ÿè½½å‡è¡¡ï¼ˆå³ä½¿ç”¨å¤šä¸ªæœåŠ¡å™¨ï¼‰ï¼Œç”¨æˆ·è®¿é—®å°±è®¿é—®çš„nginxï¼Œnginxå°†æ±‚æƒ…è½¬å‘ç»™ç”¨äºæœåŠ¡å™¨Tomcatï¼Œä½†æ˜¯æœ‰ä¸€ç§æƒ…å†µï¼Œå¼ ä¸Šç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ï¼Œnginxåˆ†é…ç»™æœåŠ¡å™¨Aï¼Œç„¶åæœåŠ¡å™¨tomcatå°†å›¾ç‰‡å­˜åœ¨å…¶å·¥ç¨‹æ–‡ä»¶å¤¹ä¸‹ï¼Œè€Œæå››è®¿é—®è¿™å¼ å›¾ç‰‡çš„æ—¶å€™ï¼Œnginxå¯èƒ½å°†è¯·æ±‚è½¬å‘ç»™æœåŠ¡å™¨Bï¼Œä½†æ˜¯ç”±äºå›¾ç‰‡å­˜æ”¾åœ¨æœåŠ¡å™¨Aä¸­ï¼Œæ•…å°†å‘ç”Ÿ404é”™è¯¯ã€‚ ä¸Šè¿°é—®é¢˜å‡ºç°åœ¨æˆ‘ä»¬æ²¡æœ‰æŠŠå›¾ç‰‡æ”¾åœ¨åŒä¸€çš„ä¸€ä¸ªä½ç½®ã€‚ é‚£ä¹ˆå½“æˆ‘ä»¬ä¸“é—¨ä½¿ç”¨ä¸€å°æœåŠ¡å™¨ä½œä¸ºå›¾ç‰‡æœåŠ¡å™¨å‘¢ï¼Ÿæ‰€æœ‰çš„å›¾ç‰‡è®¿é—®éƒ½æ‰¾è¿™ä¸ªä¸“é—¨çš„æœåŠ¡å™¨pictureã€‚ä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨tomcatä½œä¸ºé™æ€èµ„æºæœåŠ¡å™¨å•Šï¼Ÿä¸ºä»€ä¹ˆä½¿ç”¨FastDFSæœåŠ¡å™¨å‘¢ï¼ŸåŸå› ï¼šè¿™å°æœåŠ¡å™¨çš„å­˜å‚¨æœ‰ä¸Šé™ï¼Œå…¶æ‰©å®¹æ€§ä¸å¼ºã€‚å½“è¿™ä¸ªæœåŠ¡å™¨æ»¡å®¹é‡åï¼Œè‹¥å†åŠ ä¸€ä¸ªæœåŠ¡å™¨å…¶è®¿é—®çš„URLå°†ä¼šç›¸åº”çš„å‘ç”Ÿå˜åŒ–ï¼Œè€Œä¸”å¦‚æœè¿™ä¸ªæœåŠ¡å™¨æŒ‚äº†ï¼Œåˆ™ç›¸åº”çš„æ•°æ®ä¸¢å¤±ã€‚ä½¿ç”¨FastDFSçš„ä¼˜ç‚¹ï¼šä½¿ç”¨FastDFSå¯ä»¥å®ç°æ¨ªå‘æ‰©å®¹ï¼Œå¦‚æœä½ çš„å­˜å‚¨ç©ºé—´ä¸å¤Ÿäº†ï¼Œå¯ä»¥åŠ æœåŠ¡å™¨ï¼Œå®ƒä¼šå¯¹groupè¿›è¡Œé›†ä¸­ç®¡ç†ã€‚å…¶è¿è¡Œåœ¨Linuxä¸‹ã€‚å…¶æ¶æ„å›¾å¦‚ä¸‹ï¼š æœåŠ¡ç«¯ä¸¤ä¸ªè§’è‰²ï¼šTrackerï¼š- ç®¡ç†é›†ç¾¤ï¼Œ trackerä¹Ÿå¯ä»¥å®ç°é›†ç¾¤ã€‚æ¯ä¸ªtrackerèŠ‚ç‚¹åœ°ä½å¹³ç­‰ã€‚- ä½œç”¨ï¼šå¼•å¯¼å®¢æˆ·ç«¯å»å“ªå°æœåŠ¡å™¨å­˜å‚¨æ•°æ®ï¼Œå®é™…ä¸Šæ˜¯å®¢æˆ·ç«¯ä¸å­˜å‚¨æœåŠ¡å™¨ç›´æ¥è¿›è¡Œé€šä¿¡çš„ï¼Œå¹¶ä¸éœ€è¦é€šè¿‡Trackerè¿›è¡Œä¸­è½¬ã€‚Storageï¼š- éœ€è¦è¿æ¥trackerç«¯ï¼Œå®šæœŸæŠ¥å‘Šè‡ªå·±çš„æƒ…å†µï¼ˆæ˜¯å¦æ´»ç€ï¼Œå‰©ä½™å®¹é‡ï¼Œè´Ÿè½½æƒ…å†µï¼‰- åˆ†ä¸ºå¤šä¸ªç»„ï¼Œæ¯ä¸ªç»„ä¹‹é—´ä¿å­˜çš„æ–‡ä»¶æ˜¯ä¸åŒçš„ã€‚æ¯ä¸ªç»„å†…éƒ¨å¯ä»¥æœ‰å¤šä¸ªæˆå‘˜ï¼Œç»„æˆå‘˜å†…éƒ¨ä¿å­˜çš„å†…å®¹æ˜¯ä¸€æ ·çš„ï¼Œç»„æˆå‘˜çš„åœ°ä½æ˜¯ä¸€è‡´çš„ï¼Œæ²¡æœ‰ä¸»ä»çš„æ¦‚å¿µã€‚å·1ã€å·2ã€å·næ˜¯å¯ä»¥å®ç°æ¨ªå‘æ‰©å®¹çš„ï¼Œå‘é‡Œé¢æ·»åŠ ç»„æœåŠ¡å™¨ï¼Œä¸”åŒä¸€ä¸ªç»„é‡Œé¢çš„æ–‡ä»¶æ˜¯ä¸€æ ·çš„ï¼Œä¸€å°æœåŠ¡å™¨æŒ‚äº†ï¼Œè¿˜æœ‰åˆ«çš„æœåŠ¡å™¨å¯ä»¥æä¾›è®¿é—®ã€‚ï¼ˆå®ç°é«˜å¯ç”¨ï¼‰ä¸€å°æœåŠ¡å™¨å¾ˆå¿™ï¼Œå¯ä»¥å°†è®¿é—®åˆ†é…ç»™å…¶ä»–æœåŠ¡å™¨ï¼Œå®ç°è´Ÿè½½å‡è¡¡ã€‚æ–‡ä»¶ä¸Šä¼ å…¶æ—¶åºå›¾ï¼š å®¢æˆ·ç«¯ä¸Šä¼ æ–‡ä»¶åå­˜å‚¨æœåŠ¡å™¨å°†æ–‡ä»¶IDè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œæ­¤æ–‡ä»¶IDç”¨äºä»¥åè®¿é—®è¯¥æ–‡ä»¶çš„ç´¢å¼•ä¿¡æ¯ã€‚æ–‡ä»¶ç´¢å¼•ä¿¡æ¯åŒ…æ‹¬ï¼šç»„åï¼Œè™šæ‹Ÿç£ç›˜è·¯å¾„ï¼Œæ•°æ®ä¸¤çº§ç›®å½•ï¼Œæ–‡ä»¶åã€‚ group1/M00/02/44/shaudhuasduasd.jpg ç»„åï¼šæ–‡ä»¶ä¸Šä¼ åæ‰€åœ¨çš„storageç»„åç§°ï¼Œåœ¨æ–‡ä»¶ä¸Šä¼ æˆåŠŸåæœ‰storageæœåŠ¡å™¨è¿”å›ï¼Œéœ€è¦å®¢æˆ·ç«¯è‡ªè¡Œä¿å­˜ã€‚ è™šæ‹Ÿç£ç›˜è·¯å¾„ï¼šstorageé…ç½®çš„è™šæ‹Ÿè·¯å¾„ï¼Œä¸ç£ç›˜é€‰é¡¹store_path*å¯¹åº”ã€‚å¦‚æœé…ç½®äº†store_path0åˆ™æ˜¯M00ï¼Œå¦‚æœé…ç½®äº†store_path1åˆ™æ˜¯M01ï¼Œä»¥æ­¤ç±»æ¨ã€‚ æ•°æ®ä¸¤çº§ç›®å½•ï¼šstorageæœåŠ¡å™¨åœ¨æ¯ä¸ªè™šæ‹Ÿç£ç›˜è·¯å¾„ä¸‹åˆ›å»ºçš„ä¸¤çº§ç›®å½•ï¼Œç”¨äºå­˜å‚¨æ•°æ®æ–‡ä»¶ã€‚ æ–‡ä»¶åï¼šä¸æ–‡ä»¶ä¸Šä¼ æ—¶ä¸åŒã€‚æ˜¯ç”±å­˜å‚¨æœåŠ¡å™¨æ ¹æ®ç‰¹å®šä¿¡æ¯ç”Ÿæˆï¼Œæ–‡ä»¶ååŒ…å«ï¼šæºå­˜å‚¨æœåŠ¡å™¨IPåœ°å€ã€æ–‡ä»¶åˆ›å»ºæ—¶é—´æˆ³ã€æ–‡ä»¶å¤§å°ã€éšæœºæ•°å’Œæ–‡ä»¶æ‹“å±•åç­‰ä¿¡æ¯ã€‚ï¼ˆå·²ç»åŠ å¯†äº†ï¼‰ æ–‡ä»¶ä¸Šä¼ å®ç°æ­¥éª¤å¥½äº†ï¼Œä¸Šé¢çš„éƒ½æ˜¯æ¦‚å¿µä»‹ç»ï¼Œä¸‹é¢å®ç°å…¶æ–‡ä»¶çš„ä¸Šä¼ ï¼› 1å‘å·¥ç¨‹ä¸­åŠ å…¥jaråŒ…fastdfs_client-1.25.jarï¼ˆæ­¤å¤„æ˜¯mavenå·¥ç¨‹ï¼Œç›´æ¥å¯¼å…¥fastdfs_clientå·¥ç¨‹åmaven insatllå¯¼å…¥æœ¬åœ°ä»“åº“ ï¼‰ 2åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ é…ç½®æ–‡ä»¶å†…å®¹tarcker_server=192.168.25.133:22122é…ç½®æ–‡ä»¶å†…å®¹æ˜¯FastDFSçš„IPåœ°å€ 3åŠ è½½é…ç½®æ–‡ä»¶ClientGlobal.init(path) 4åˆ›å»ºä¸€ä¸ªTrackerClientå¯¹è±¡TrackerClient trackerClient = new TrackerClient(); 5ä½¿ç”¨TrackerClientå¯¹è±¡è·å¾—trackerserverå¯¹è±¡TrackerServer trackerServer = trackerClient.getConnection(); 6åˆ›å»ºä¸€ä¸ªstorageServerä¸ºnullStorageServer storageServer=null; 7åˆ›å»ºä¸€ä¸ªstorageClientå¯¹è±¡ï¼Œå‚æ•°ä¸ºtrackerserverã€storageServerStorageClient storageClient=new StorageClient(trackerServer, storageServer); 8ä½¿ç”¨storageClientå¯¹è±¡ä¸Šä¼ æ–‡ä»¶String[] upload_file=storageClient.upload_file(â€œD:/111/1.jpgâ€, â€œjpgâ€, null)å‚æ•°ä¸‰æ˜¯åŸæ•°æ®ï¼Œæ–‡ä»¶çš„ç›¸å…³ä¿¡æ¯ï¼ˆä¿®æ”¹æ—¥æœŸã€åˆ›å»ºè€…ç­‰ç­‰ï¼‰ã€‚Code@Test public void test() throws Exception&#123; //1.å‘å·¥ç¨‹ä¸­åŠ å…¥jaråŒ… //2åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ é…ç½®æ–‡ä»¶å†…å®¹tarcker_server=192.168.25.133:22122 //3åŠ è½½é…ç½®æ–‡ä»¶ ClientGlobal.init(&quot;E:/javaWeb-kaoshi/workspaces_taotao/taotao-manager-web/src/main/resources/client.conf&quot;); //4åˆ›å»ºä¸€ä¸ªTrackerClientå¯¹è±¡ TrackerClient trackerClient = new TrackerClient(); //5ä½¿ç”¨TrackerClientå¯¹è±¡è·å¾—trackerserverå¯¹è±¡ TrackerServer trackerServer = trackerClient.getConnection(); //6åˆ›å»ºä¸€ä¸ªstorageServerä¸ºnull StorageServer storageServer=null; //7åˆ›å»ºä¸€ä¸ªstorageClientå¯¹è±¡ï¼Œå‚æ•°ä¸ºtrackerserverã€storageServer StorageClient storageClient=new StorageClient(trackerServer, storageServer); //8ä½¿ç”¨storageClientå¯¹è±¡ä¸Šä¼ æ–‡ä»¶ String[] upload_file = storageClient.upload_file(&quot;D:/111/1.jpg&quot;, &quot;jpg&quot;, null); for (String string : upload_file) &#123; System.out.println(string); &#125; &#125; è¾“å‡ºï¼š group1 M00/00/00/wKgZhV0Hg-yAQPmPAACtd9REEP8664.jpg å·¥å…·ç±»ä½¿ç”¨1.å›¾ç‰‡ä¸Šä¼ å·¥å…·ç±»åœ¨æˆ‘ä»¬ä¸Šä¼ å›¾ç‰‡çš„æ—¶å€™ï¼Œç”±äºä¸Šè¿°æ­¥éª¤å¾ˆå¤šæ­¥éª¤éƒ½æ˜¯é‡å¤çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶å°è£…åå˜çš„ç®€å•ä¸€ç‚¹ã€‚ Codepackage com.taotao.utils;import org.csource.common.NameValuePair;import org.csource.fastdfs.ClientGlobal;import org.csource.fastdfs.StorageClient1;import org.csource.fastdfs.StorageServer;import org.csource.fastdfs.TrackerClient;import org.csource.fastdfs.TrackerServer;public class FastDFSClient &#123; private TrackerClient trackerClient = null; private TrackerServer trackerServer = null; private StorageServer storageServer = null; private StorageClient1 storageClient = null; public FastDFSClient(String conf) throws Exception &#123; if (conf.contains(&quot;classpath:&quot;)) &#123; conf = conf.replace(&quot;classpath:&quot;, this.getClass().getResource(&quot;/&quot;).getPath()); &#125; ClientGlobal.init(conf); trackerClient = new TrackerClient(); trackerServer = trackerClient.getConnection(); storageServer = null; storageClient = new StorageClient1(trackerServer, storageServer); &#125; /** * ä¸Šä¼ æ–‡ä»¶æ–¹æ³• * &lt;p&gt;Title: uploadFile&lt;/p&gt; * &lt;p&gt;Description: &lt;/p&gt; * @param fileName æ–‡ä»¶å…¨è·¯å¾„ * @param extName æ–‡ä»¶æ‰©å±•åï¼Œä¸åŒ…å«ï¼ˆ.ï¼‰ * @param metas æ–‡ä»¶æ‰©å±•ä¿¡æ¯ * @return * @throws Exception */ public String uploadFile(String fileName, String extName, NameValuePair[] metas) throws Exception &#123; String result = storageClient.upload_file1(fileName, extName, metas); return result; &#125; public String uploadFile(String fileName) throws Exception &#123; return uploadFile(fileName, null, null); &#125; public String uploadFile(String fileName, String extName) throws Exception &#123; return uploadFile(fileName, extName, null); &#125; /** * ä¸Šä¼ æ–‡ä»¶æ–¹æ³• * &lt;p&gt;Title: uploadFile&lt;/p&gt; * &lt;p&gt;Description: &lt;/p&gt; * @param fileContent æ–‡ä»¶çš„å†…å®¹ï¼Œå­—èŠ‚æ•°ç»„ * @param extName æ–‡ä»¶æ‰©å±•å * @param metas æ–‡ä»¶æ‰©å±•ä¿¡æ¯ * @return * @throws Exception */ public String uploadFile(byte[] fileContent, String extName, NameValuePair[] metas) throws Exception &#123; String result = storageClient.upload_file1(fileContent, extName, metas); return result; &#125; public String uploadFile(byte[] fileContent) throws Exception &#123; return uploadFile(fileContent, null, null); &#125; public String uploadFile(byte[] fileContent, String extName) throws Exception &#123; return uploadFile(fileContent, extName, null); &#125;&#125; æµ‹è¯•ç±»ï¼šCode@Test public void testUtils() throws Exception&#123; FastDFSClient fastDFSClient = new FastDFSClient(&quot;E:/javaWeb-kaoshi/workspaces_taotao/taotao-manager-web/src/main/resources/client.conf&quot;); String uploadFile = fastDFSClient.uploadFile(&quot;D:/111/2.jpg&quot;, &quot;jpg&quot;, null); System.out.println(uploadFile); &#125;","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"javaWebå®æˆ˜","slug":"javaWebå®æˆ˜","permalink":"http://SlectRxz.github.io/tags/javaWebå®æˆ˜/"}]},{"title":"SPringæ•´åˆDubbo+zookeeper","slug":"taotao/Dubboæ¶æ„çš„ä½¿ç”¨","date":"2019-06-02T16:00:00.000Z","updated":"2019-06-03T13:33:53.594Z","comments":true,"path":"2019/06/03/taotao/Dubboæ¶æ„çš„ä½¿ç”¨/","link":"","permalink":"http://SlectRxz.github.io/2019/06/03/taotao/Dubboæ¶æ„çš„ä½¿ç”¨/","excerpt":"åœ¨SSMæ¡†æ¶ä¸­æ•´åˆdubboï¼Œzookeeperçš„ä½¿ç”¨ä»¥åŠåˆ†é¡µæ’ä»¶pageHelperçš„ä½¿ç”¨ã€‚","text":"åœ¨SSMæ¡†æ¶ä¸­æ•´åˆdubboï¼Œzookeeperçš„ä½¿ç”¨ä»¥åŠåˆ†é¡µæ’ä»¶pageHelperçš„ä½¿ç”¨ã€‚ ä»‹ç»dubbo DUBBOæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ï¼Œè‡´åŠ›äºæä¾›é«˜æ€§èƒ½å’Œé€æ˜åŒ–çš„RPCè¿œç¨‹æœåŠ¡è°ƒç”¨æ–¹æ¡ˆï¼Œæ˜¯é˜¿é‡Œå·´å·´SOAæœåŠ¡åŒ–æ²»ç†æ–¹æ¡ˆçš„æ ¸å¿ƒæ¡†æ¶ï¼Œæ¯å¤©ä¸º2,000+ä¸ªæœåŠ¡æä¾›3,000,000,000+æ¬¡è®¿é—®é‡æ”¯æŒï¼Œå¹¶è¢«å¹¿æ³›åº”ç”¨äºé˜¿é‡Œå·´å·´é›†å›¢çš„å„æˆå‘˜ç«™ç‚¹ å•ä¸€åº”ç”¨æ¶æ„ å½“ç½‘ç«™æµé‡å¾ˆå°æ—¶ï¼Œåªéœ€ä¸€ä¸ªåº”ç”¨ï¼Œå°†æ‰€æœ‰åŠŸèƒ½éƒ½éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œä»¥å‡å°‘éƒ¨ç½²èŠ‚ç‚¹å’Œæˆæœ¬ã€‚ æ­¤æ—¶ï¼Œç”¨äºç®€åŒ–å¢åˆ æ”¹æŸ¥å·¥ä½œé‡çš„ æ•°æ®è®¿é—®æ¡†æ¶(ORM) æ˜¯å…³é”®ã€‚ å‚ç›´åº”ç”¨æ¶æ„ å½“è®¿é—®é‡é€æ¸å¢å¤§ï¼Œå•ä¸€åº”ç”¨å¢åŠ æœºå™¨å¸¦æ¥çš„åŠ é€Ÿåº¦è¶Šæ¥è¶Šå°ï¼Œå°†åº”ç”¨æ‹†æˆäº’ä¸ç›¸å¹²çš„å‡ ä¸ªåº”ç”¨ï¼Œä»¥æå‡æ•ˆç‡ã€‚ æ­¤æ—¶ï¼Œç”¨äºåŠ é€Ÿå‰ç«¯é¡µé¢å¼€å‘çš„ Webæ¡†æ¶(MVC) æ˜¯å…³é”®ã€‚ åˆ†å¸ƒå¼æœåŠ¡æ¶æ„ å½“å‚ç›´åº”ç”¨è¶Šæ¥è¶Šå¤šï¼Œåº”ç”¨ä¹‹é—´äº¤äº’ä¸å¯é¿å…ï¼Œå°†æ ¸å¿ƒä¸šåŠ¡æŠ½å–å‡ºæ¥ï¼Œä½œä¸ºç‹¬ç«‹çš„æœåŠ¡ï¼Œé€æ¸å½¢æˆç¨³å®šçš„æœåŠ¡ä¸­å¿ƒï¼Œä½¿å‰ç«¯åº”ç”¨èƒ½æ›´å¿«é€Ÿçš„å“åº”å¤šå˜çš„å¸‚åœºéœ€æ±‚ã€‚ æ­¤æ—¶ï¼Œç”¨äºæé«˜ä¸šåŠ¡å¤ç”¨åŠæ•´åˆçš„ åˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶(RPC) æ˜¯å…³é”®ã€‚ æµåŠ¨è®¡ç®—æ¶æ„ å½“æœåŠ¡è¶Šæ¥è¶Šå¤šï¼Œå®¹é‡çš„è¯„ä¼°ï¼Œå°æœåŠ¡èµ„æºçš„æµªè´¹ç­‰é—®é¢˜é€æ¸æ˜¾ç°ï¼Œæ­¤æ—¶éœ€å¢åŠ ä¸€ä¸ªè°ƒåº¦ä¸­å¿ƒåŸºäºè®¿é—®å‹åŠ›å®æ—¶ç®¡ç†é›†ç¾¤å®¹é‡ï¼Œæé«˜é›†ç¾¤åˆ©ç”¨ç‡ã€‚ æ­¤æ—¶ï¼Œç”¨äºæé«˜æœºå™¨åˆ©ç”¨ç‡çš„ èµ„æºè°ƒåº¦å’Œæ²»ç†ä¸­å¿ƒ(SOA) æ˜¯å…³é”®ã€‚ Dubboå°±æ˜¯èµ„æºè°ƒåº¦å’Œæ²»ç†ä¸­å¿ƒçš„ç®¡ç†å·¥å…·ã€‚ Dubbo å°±æ˜¯ç±»ä¼¼äºwebserviceçš„å…³äºç³»ç»Ÿä¹‹é—´é€šä¿¡çš„æ¡†æ¶ï¼Œå¹¶å¯ä»¥ç»Ÿè®¡å’Œç®¡ç†æœåŠ¡ä¹‹é—´çš„è°ƒç”¨æƒ…å†µï¼ˆåŒ…æ‹¬æœåŠ¡è¢«è°è°ƒç”¨äº†ï¼Œè°ƒç”¨çš„æ¬¡æ•°æ˜¯å¦‚ä½•ï¼Œä»¥åŠæœåŠ¡çš„ä½¿ç”¨çŠ¶å†µï¼‰ã€‚ æ¶æ„è§£é‡Š(é‡è¦ï¼):ä¸Šè¿°æ¶æ„æˆ‘ä»¬å¯ä»¥è¿™æ ·å»ç†è§£ï¼šç±»æ¯”æˆ‘ä»¬å»ä¹°æˆ¿å­ï¼Œæœ‰ä¾›åº”å•†ï¼Œéœ€æ±‚ç”¨æˆ·å’Œä¸­é—´ä»‹ç»äººï¼Œè€Œproviderå°±æ˜¯ä¾›åº”å•†(å¯¹åº”çš„æ˜¯æœåŠ¡å±‚æä¾›æœåŠ¡)ï¼Œè€Œconsumerå°±æ˜¯éœ€æ±‚ç”¨æˆ·(å¯¹åº”è¡¨ç°å±‚çš„controller)ï¼›è€Œä¸­é—´å•†å°±æ˜¯Registryï¼Œç”¨æˆ·ä»–ä»¬ä¹‹é—´çš„ç‰µçº¿æ­æ¡¥ã€‚Providerå…ˆå»Registryæ³¨å†Œï¼Œè¯´æˆ‘å¯ä»¥æä¾›ä¸€ä¸ªéœ€æ±‚ï¼›Costomeråƒä¸­é—´å‘å‡ºè¯·æ±‚è¯´æˆ‘éœ€è¦ä¸€ä¸ªè¯·æ±‚XXX;Registryå†å°†Providerçš„ä¿¡æ¯ç»™Consumer,Consumerå†ç›´æ¥è°ƒç”¨Providerã€‚å…¶ä¸­ä¸­é—´æœ‰ç›‘ç®¡éƒ¨é—¨ç›‘ç®¡(Monitor)ã€‚ èŠ‚ç‚¹è§’è‰²è¯´æ˜ï¼šâ€¢ Provider: æš´éœ²æœåŠ¡çš„æœåŠ¡æä¾›æ–¹ã€‚ å°±æ˜¯æœåŠ¡æä¾›è€…serviceâ€¢ Consumer: è°ƒç”¨è¿œç¨‹æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹æ–¹ã€‚æœåŠ¡çš„è°ƒç”¨è€…ï¼ˆControllerï¼‰å…ˆåˆ°æ³¨å†Œä¸­å¿ƒè®¢é˜…â€¢ Registry: æœåŠ¡æ³¨å†Œä¸å‘ç°çš„æ³¨å†Œä¸­å¿ƒã€‚ ç›¸å½“äºä¸­ä»‹äº†â€¢ Monitor: ç»Ÿè®¡æœåŠ¡çš„è°ƒç”¨æ¬¡è°ƒå’Œè°ƒç”¨æ—¶é—´çš„ç›‘æ§ä¸­å¿ƒã€‚ï¼ˆéå¿…é¡»ï¼‰â€¢ Container: æœåŠ¡è¿è¡Œå®¹å™¨ã€‚ æœåŠ¡å‘å¸ƒéœ€è¦ä¸€ä¸ªå®¹å™¨ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯Spring dubboç¯å¢ƒæ­å»º(å·²ç»æ­å»ºå®Œæ¯•çš„å°ä¼™ä¼´å¯ä»¥å¿½ç•¥)åœ¨æœåŠ¡å±‚å’Œè¡¨ç°å±‚ä¸­æ·»åŠ dubboä¾èµ–Code&lt;!-- dubboç›¸å…³ --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;dubbo&lt;/artifactId&gt; &lt;!-- æ’é™¤ä¾èµ– --&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;exclusion&gt; &lt;groupId&gt;org.jboss.netty&lt;/groupId&gt; &lt;artifactId&gt;netty&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.sgroschupf&lt;/groupId&gt; &lt;artifactId&gt;zkclient&lt;/artifactId&gt; &lt;/dependency&gt; å…³äºæœåŠ¡å±‚çš„å‘å¸ƒå’Œè¡¨ç°å±‚çš„è¯·æ±‚é…ç½®åœ¨åé¢ç»™å‡ºã€‚ zookeeper æ³¨å†Œä¸­å¿ƒè´Ÿè´£æœåŠ¡åœ°å€çš„æ³¨å†Œä¸æŸ¥æ‰¾ï¼Œç›¸å½“äºç›®å½•æœåŠ¡ï¼ŒæœåŠ¡æä¾›è€…å’Œæ¶ˆè´¹è€…åªåœ¨å¯åŠ¨æ—¶ä¸æ³¨å†Œä¸­å¿ƒäº¤äº’ï¼Œæ³¨å†Œä¸­å¿ƒä¸è½¬å‘è¯·æ±‚ï¼Œå‹åŠ›è¾ƒå°ã€‚ä½¿ç”¨dubbo-2.3.3ä»¥ä¸Šç‰ˆæœ¬ï¼Œå®˜æ–¹å»ºè®®ä½¿ç”¨zookeeperä½œä¸ºæ³¨å†Œä¸­å¿ƒã€‚Zookeeperæ˜¯Apacahe Hadoopçš„å­é¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªæ ‘å‹çš„ç›®å½•æœåŠ¡ï¼Œæ”¯æŒå˜æ›´æ¨é€ï¼Œé€‚åˆä½œä¸ºDubboæœåŠ¡çš„æ³¨å†Œä¸­å¿ƒï¼Œå·¥ä¸šå¼ºåº¦è¾ƒé«˜(ç¨³å®šæ€§å¥½)ï¼Œå¯ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œå¹¶æ¨èä½¿ç”¨ã€‚ zookeeperç¯å¢ƒæ­å»ºï¼ˆæœ¬ä¾‹è¿è¡Œåœ¨Linuxç¯å¢ƒä¸‹ï¼‰(å·²ç»æ­å»ºå®Œæ¯•çš„å°ä¼™ä¼´å¯ä»¥å¿½ç•¥) ç¬¬ä¸€æ­¥ï¼šå®‰è£…jdkç¬¬äºŒæ­¥ï¼šè§£å‹ç¼©zookeeperå‹ç¼©åŒ…ç¬¬ä¸‰æ­¥ï¼šå°†confæ–‡ä»¶å¤¹ä¸‹zoo_sample.cfgå¤åˆ¶ä¸€ä»½ï¼Œæ”¹åä¸ºzoo.cfgç¬¬å››æ­¥ï¼šä¿®æ”¹é…ç½®dataDirå±æ€§ï¼ŒæŒ‡å®šä¸€ä¸ªçœŸå®ç›®å½•ï¼Œå­˜æ”¾zookè¿è¡Œæ—¶å­˜æ”¾çš„æ•°æ®æ–‡ä»¶ç¬¬äº”æ­¥ï¼šå¯åŠ¨zookeeperï¼šbin/zkServer.sh startå…³é—­zookeeperï¼šbin/zkServer.sh stopæŸ¥çœ‹zookeeperçŠ¶æ€ï¼šbin/zkServer.sh status åˆ†é¡µæ’ä»¶pageHelper Mybatisåˆ†é¡µæ’ä»¶,å¦‚æœä½ ä¹Ÿåœ¨ç”¨Mybatisï¼Œå»ºè®®å°è¯•è¯¥åˆ†é¡µæ’ä»¶ï¼Œè¿™ä¸ªä¸€å®šæ˜¯æœ€æ–¹ä¾¿ä½¿ç”¨çš„åˆ†é¡µæ’ä»¶ã€‚è¯¥æ’ä»¶ç›®å‰æ”¯æŒOracle,Mysql,MariaDB,SQLite,Hsqldb,PostgreSQLå…­ç§æ•°æ®åº“åˆ†é¡µã€‚ ä½¿ç”¨æ–¹å¼ï¼šç¬¬ä¸€æ­¥ï¼šæŠŠPageHelperä¾èµ–çš„jaråŒ…æ·»åŠ åˆ°å·¥ç¨‹ä¸­ã€‚ç¬¬äºŒæ­¥ï¼šåœ¨Mybatisçš„å…¨å±€æ–‡ä»¶ä¸­é…ç½®SqlMapConfig.xmlä¸­é…ç½®æ‹¦æˆªå™¨æ’ä»¶:Code&lt;plugins&gt; &lt;!-- com.github.pagehelperä¸ºPageHelperç±»æ‰€åœ¨åŒ…å --&gt; &lt;plugin interceptor=&quot;com.github.pagehelper.PageHelper&quot;&gt; &lt;!-- è®¾ç½®æ•°æ®åº“ç±»å‹ Oracle,Mysql,MariaDB,SQLite,Hsqldb,PostgreSQLå…­ç§æ•°æ®åº“--&gt; &lt;property name=&quot;dialect&quot; value=&quot;mysql&quot;/&gt; &lt;/plugin&gt;&lt;/plugins&gt; ç¬¬ä¸‰æ­¥ï¼šåœ¨ä»£ç ä¸­ä½¿ç”¨1ã€è®¾ç½®åˆ†é¡µä¿¡æ¯ï¼šCode//è·å–ç¬¬1é¡µï¼Œ10æ¡å†…å®¹ï¼Œé»˜è®¤æŸ¥è¯¢æ€»æ•°count PageHelper.startPage(1, 10); //ç´§è·Ÿç€çš„ç¬¬ä¸€ä¸ªselectæ–¹æ³•ä¼šè¢«åˆ†é¡µ,å¯¹åé¢çš„List&lt;Country&gt; list = countryMapper.selectIf(1);//ç”¨PageInfoå¯¹ç»“æœè¿›è¡ŒåŒ…è£…PageInfo page = new PageInfo(list);//æµ‹è¯•PageInfoå…¨éƒ¨å±æ€§//PageInfoåŒ…å«äº†éå¸¸å…¨é¢çš„åˆ†é¡µå±æ€§assertEquals(1, page.getPageNum());assertEquals(10, page.getPageSize());assertEquals(1, page.getStartRow());assertEquals(10, page.getEndRow());assertEquals(183, page.getTotal());assertEquals(19, page.getPages());assertEquals(1, page.getFirstPage());assertEquals(8, page.getLastPage());assertEquals(true, page.isFirstPage());assertEquals(false, page.isLastPage());assertEquals(false, page.isHasPreviousPage());assertEquals(true, page.isHasNextPage()); æ¯æ¬¡å‰ç«¯é¡µé¢åªéœ€è¦ä¼ é€’ç¬¬å‡ é¡µæŸ¥è¯¢å¤šå°‘æ¡æ•°æ®å³å¯ã€‚PageInfo page = new PageInfo(list);page.getTotal()å¸¸ç”¨ è§£å†³mapperæ˜ å°„æ–‡ä»¶ä¸å‘å¸ƒçš„é—®é¢˜ ç”±äºé…ç½®æ–‡ä»¶ä¸€èˆ¬æ”¾åœ¨src/main/resourceæ–‡ä»¶å¤¹ä¸‹ï¼Œä½†æ˜¯mapper.xmlçš„æ˜ å°„æ–‡ä»¶æ”¾åœ¨src/main/javaçš„æ–‡ä»¶å¤¹ä¸‹ï¼Œä¼šé»˜è®¤æŠŠè¯¥è·¯å¾„ä¸‹çš„javaæ–‡ä»¶ç”Ÿæˆçš„classæ–‡ä»¶æ‹·è´åˆ° é¡¹ç›®åç§°/target/classes/æ–‡ä»¶å¤¹ä¸‹ã€‚ä½†æ˜¯ä¸ä¼šå»æ‹·è´.xmlæ–‡ä»¶ï¼Œæ•…éœ€è¦æˆ‘ä»¬è‡ªå·±å»é…ç½®ã€‚ åœ¨daoå·¥ç¨‹ä¸‹çš„pomæ–‡ä»¶ä¸­åŠ å…¥ï¼šCode&lt;build&gt; &lt;!-- å¦‚æœä¸é…ç½®mybatisçš„é…ç½®æ–‡ä»¶ä¼šæ¼æ‰ --&gt; &lt;!-- æ³¨æ„ï¼šé…ç½®äº†æ­¤æ–¹å¼ï¼ŒåŸæ¥çš„é»˜è®¤çš„èµ„æºæ‹·è´è¡Œä¸ºå°†æ— æ•ˆ --&gt; &lt;resources&gt; &lt;resource&gt; &lt;directory&gt;src/main/java&lt;/directory&gt; &lt;includes&gt; &lt;include&gt;**/*.properties&lt;/include&gt; &lt;include&gt;**/*.xml&lt;/include&gt; &lt;/includes&gt; &lt;filtering&gt;false&lt;/filtering&gt; &lt;/resource&gt; &lt;/resources&gt; &lt;/build&gt; è§£å†³é™æ€æ–‡ä»¶æ— æ³•åŠ è½½çš„é—®é¢˜ ä¸ºä»€ä¹ˆé™æ€èµ„æºæ— æ³•åŠ è½½ï¼Ÿå› ä¸ºæˆ‘ä»¬åœ¨è¡¨ç°å±‚çš„web.xmlä¸­å®šä¹‰çš„urlæ‹¦æˆªå½¢å¼ä¸ºâ€œ/â€è¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰çš„urlè¯·æ±‚ï¼ŒåŒ…æ‹¬é™æ€èµ„æºä¾‹å¦‚cssã€jsç­‰ï¼ˆç”±DispatcherServletæ‹¦æˆªï¼‰ã€‚æ‰€ä»¥éœ€è¦åœ¨springmvc.xmlä¸­æ·»åŠ èµ„æºæ˜ å°„æ ‡ç­¾ï¼š Code&lt;mvc:resources location=&quot;/WEB-INF/js/&quot; mapping=&quot;/js/**&quot;/&gt;&lt;mvc:resources location=&quot;/WEB-INF/css/&quot; mapping=&quot;/css/**&quot;/&gt;","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"javaWebå®æˆ˜","slug":"javaWebå®æˆ˜","permalink":"http://SlectRxz.github.io/tags/javaWebå®æˆ˜/"}]},{"title":"èšåˆå·¥ç¨‹é¡¹ç›®å»ºç«‹","slug":"taotao/é¡¹ç›®çš„å»ºç«‹","date":"2019-05-31T16:00:00.000Z","updated":"2019-06-03T13:34:27.097Z","comments":true,"path":"2019/06/01/taotao/é¡¹ç›®çš„å»ºç«‹/","link":"","permalink":"http://SlectRxz.github.io/2019/06/01/taotao/é¡¹ç›®çš„å»ºç«‹/","excerpt":"æ·˜æ·˜å•†åŸçš„æ¶æ„æ­å»ºï¼Œè®¾è®¡å¤šä¸ªå·¥ç¨‹ä¹‹é—´çš„ä¾èµ–ã€‚","text":"æ·˜æ·˜å•†åŸçš„æ¶æ„æ­å»ºï¼Œè®¾è®¡å¤šä¸ªå·¥ç¨‹ä¹‹é—´çš„ä¾èµ–ã€‚ æ­¤æ–‡åœ¨äºæ€»ç»“æ‰€å­¦ï¼Œå¯èƒ½è¾ƒä¸ºç¹çï¼Œä½†éƒ½æ˜¯å¿ƒå¾—ä½“ä¼šã€‚ åˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶å¼•å…¥é¦–å…ˆï¼Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯ä¸ºä»€ä¹ˆè¦å¼•å…¥åˆ†å¸ƒå¼æ¶æ„ï¼Ÿå…¶æ¬¡ï¼Œåˆ†å¸ƒå¼æ¶æ„ç›¸æ¯”ä¼ ç»Ÿæ¶æ„æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå…ˆè¯´ä¼ ç»Ÿæ¶æ„ï¼šå­˜åœ¨çš„é—®é¢˜ï¼š 1ã€åŠŸèƒ½è€¦åˆåº¦é«˜ 2ã€ç³»ç»Ÿç»´æŠ¤æˆæœ¬é«˜ 3ã€å¦‚æœå¹¶å‘é‡å¤§ï¼Œæ— æ³•è§£å†³é«˜å¹¶å‘çš„é—®é¢˜åˆ†å¸ƒå¼æ¶æ„ï¼šå°†ç³»ç»ŸæŒ‰ç…§åŠŸèƒ½æ‹†åˆ†æˆä¸ºç‹¬ç«‹çš„å·¥ç¨‹ï¼Œæ¯”å¦‚è¯´ä»¥å‰æˆ‘ä»¬å°†æŒä¹…å±‚ã€æœåŠ¡å±‚ã€è¡¨ç°å±‚å†™åœ¨ä¸€ä¸ªå·¥ç¨‹ä¸­ï¼Œä½†æ˜¯å½“æˆ‘ä»¬å°†å…¶æ‹†åˆ†æˆä¸ºå•ä¸ªç‹¬ç«‹çš„å·¥ç¨‹ï¼Œå…¶ä½¿ç”¨æ¥å£è¿›è¡Œé€šä¿¡ï¼Œé™ä½æ¨¡å—ä¹‹é—´çš„è€¦åˆåº¦ã€‚å½“ç„¶ï¼Œè¿™ä¸ªä¾‹å­å¹¶ä¸èƒ½ä»£è¡¨åˆ†å¸ƒå¼æ¶æ„ã€‚ åˆ†å¸ƒå¼æ¶æ„ï¼šæŠŠç³»ç»ŸæŒ‰ç…§æ¨¡å—æ‹†åˆ†æˆå¤šä¸ªå­ç³»ç»Ÿï¼›å¤šä¸ªå­ç³»ç»Ÿç›¸äº’åä½œæ‰èƒ½å®Œæˆä¸šåŠ¡æµç¨‹ç³»ç»Ÿä¹‹é—´éœ€è¦è¿›è¡Œé€šä¿¡ã€‚ ä¼˜ç‚¹ï¼š1ã€æŠŠæ¨¡å—æ‹†åˆ†ï¼Œä½¿ç”¨æ¥å£é€šä¿¡ï¼Œé™ä½æ¨¡å—ä¹‹é—´çš„è€¦åˆåº¦ã€‚2ã€æŠŠé¡¹ç›®æ‹†åˆ†æˆè‹¥å¹²ä¸ªå­é¡¹ç›®ï¼Œä¸åŒçš„å›¢é˜Ÿè´Ÿè´£ä¸åŒçš„å­é¡¹ç›®ã€‚3ã€å¢åŠ åŠŸèƒ½æ—¶åªéœ€è¦å†å¢åŠ ä¸€ä¸ªå­é¡¹ç›®ï¼Œè°ƒç”¨å…¶ä»–ç³»ç»Ÿçš„æ¥å£å°±å¯ä»¥ã€‚4ã€å¯ä»¥çµæ´»çš„è¿›è¡Œåˆ†å¸ƒå¼éƒ¨ç½²ã€‚ç¼ºç‚¹ï¼š1ã€ç³»ç»Ÿä¹‹é—´äº¤äº’éœ€è¦ä½¿ç”¨è¿œç¨‹é€šä¿¡ï¼Œéœ€è¦å¼€å‘æ¥å£ï¼Œå¢åŠ å·¥ä½œé‡ã€‚2ã€å„ä¸ªæ¨¡å—æœ‰ä¸€äº›é€šç”¨çš„ä¸šåŠ¡é€»è¾‘æ— æ³•å…¬ç”¨ã€‚ SOAçš„æ¶æ„å¼•å…¥ SOAï¼šService Oriented Architectureé¢å‘æœåŠ¡çš„æ¶æ„ã€‚ä¹Ÿå°±æ˜¯æŠŠå·¥ç¨‹éƒ½æ‹†åˆ†æˆæœåŠ¡å±‚å·¥ç¨‹ã€è¡¨ç°å±‚å·¥ç¨‹ã€‚æœåŠ¡å±‚ä¸­åŒ…å«ä¸šåŠ¡é€»è¾‘ï¼Œåªéœ€è¦å¯¹å¤–æä¾›æœåŠ¡å³å¯ã€‚è¡¨ç°å±‚åªéœ€è¦å¤„ç†å’Œé¡µé¢çš„äº¤äº’ï¼Œä¸šåŠ¡é€»è¾‘éƒ½æ˜¯è°ƒç”¨æœåŠ¡å±‚çš„æœåŠ¡æ¥å®ç°ã€‚å·¥ç¨‹éƒ½å¯ä»¥ç‹¬ç«‹éƒ¨ç½²ã€‚ å·¥ç¨‹çš„å»ºç«‹é¡¹ç›®çš„æ­å»ºä½¿ç”¨Mavenä¼˜ç‚¹ï¼šJaråŒ…çš„ç®¡ç†å·¥ç¨‹ä¹‹é—´çš„ä¾èµ–ç®¡ç†è‡ªåŠ¨æ‰“åŒ…ç»Ÿä¸€çš„ç‰ˆæœ¬çš„æ§åˆ¶ã€‚ æ³¨ï¼šmavençš„installå¯ä»¥å°†é¡¹ç›®æœ¬èº«ç¼–è¯‘å¹¶æ‰“åŒ…åˆ°æœ¬åœ°ä»“åº“ï¼Œè¿™æ ·å…¶ä»–é¡¹ç›®å¼•ç”¨æœ¬é¡¹ç›®çš„jaråŒ…æ—¶ä¸ç”¨å»ç§æœä¸Šä¸‹è½½jaråŒ…ï¼Œç›´æ¥ä»æœ¬åœ°å°±å¯ä»¥æ‹¿åˆ°åˆšåˆšç¼–è¯‘æ‰“åŒ…å¥½çš„é¡¹ç›®çš„jaråŒ…ï¼Œå¾ˆçµæ´»ï¼Œé¿å…æ¯æ¬¡éƒ½éœ€è¦é‡æ–°å¾€ç§æœå‘å¸ƒjaråŒ…çš„ç—›è‹¦ Mavençš„å¸¸è§æ‰“åŒ…æ–¹å¼ï¼šjarã€warã€pomPomå·¥ç¨‹ä¸€èˆ¬éƒ½æ˜¯çˆ¶å·¥ç¨‹ï¼Œç®¡ç†jaråŒ…çš„ç‰ˆæœ¬ã€mavenæ’ä»¶çš„ç‰ˆæœ¬ã€ç»Ÿä¸€çš„ä¾èµ–ç®¡ç†ã€‚èšåˆå·¥ç¨‹ã€‚Codetaotao-parentï¼šçˆ¶å·¥ç¨‹ï¼Œæ‰“åŒ…æ–¹å¼pomï¼Œç®¡ç†jaråŒ…çš„ç‰ˆæœ¬å·ã€‚ | é¡¹ç›®ä¸­æ‰€æœ‰å·¥ç¨‹éƒ½åº”è¯¥ç»§æ‰¿çˆ¶å·¥ç¨‹ã€‚ |--taotao-commonï¼šé€šç”¨çš„å·¥å…·ç±»é€šç”¨çš„pojo,utilã€‚æ‰“åŒ…æ–¹å¼jar |--taotao-managerï¼šæœåŠ¡å±‚å·¥ç¨‹ã€‚èšåˆå·¥ç¨‹ã€‚Pomå·¥ç¨‹ |--taotao-manager-daoï¼šæ‰“åŒ…æ–¹å¼jar |--taotao-manager-pojoï¼šæ‰“åŒ…æ–¹å¼jar |--taotao-manager-interfaceï¼šæ‰“åŒ…æ–¹å¼jar |--taotao-manager-serviceï¼šæ‰“åŒ…æ–¹å¼ï¼šwar (ä¸ºäº†å‘å¸ƒæœåŠ¡çš„æ–¹ä¾¿) |--taotao-manager-webï¼šè¡¨ç°å±‚å·¥ç¨‹(åªæ˜¯è·Ÿé¡µé¢æ‰“äº¤é“)ã€‚æ‰“åŒ…æ–¹å¼war å…·ä½“æ­¥éª¤ä¸ä¸€ä¸€åˆ—å‡ºï¼Œä¸‹é¢å‡ ä¸ªæ˜¯æˆ‘è§‰å¾—æ³¨æ„çš„åœ°æ–¹ï¼š1.mavené¡¹ç›®çš„å¯¹åº”çš„æ–‡ä»¶å¤¹ç»“æ„ï¼šCode|----src | |----main | | |----java â€”â€”å­˜æ”¾é¡¹ç›®çš„.javaæ–‡ä»¶ | | |----resources â€”â€”å­˜æ”¾é¡¹ç›®èµ„æºæ–‡ä»¶ï¼Œå¦‚spring, hibernateé…ç½®æ–‡ä»¶ | |----test | | |----java â€”â€”å­˜æ”¾æ‰€æœ‰æµ‹è¯•.javaæ–‡ä»¶ï¼Œå¦‚JUnitæµ‹è¯•ç±» | | |----resources â€”â€”å­˜æ”¾é¡¹ç›®èµ„æºæ–‡ä»¶ï¼Œå¦‚spring, hibernateé…ç½®æ–‡ä»¶ |----target â€”â€”é¡¹ç›®è¾“å‡ºä½ç½® |----pom.xml ----ç”¨äºæ ‡è¯†è¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªMavené¡¹ç›® å…¶ä¸­pom.xmlCode&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;!--æ‰€æœ‰çš„Mavené¡¹ç›®éƒ½å¿…é¡»é…ç½®è¿™å››ä¸ªé…ç½®é¡¹--&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;!--groupIdæŒ‡çš„æ˜¯é¡¹ç›®åçš„é¡¹ç›®ç»„ï¼Œé»˜è®¤å°±æ˜¯åŒ…å--&gt; &lt;groupId&gt;cn.zang.maven.hello&lt;/groupId&gt; &lt;!--artifactIdæŒ‡çš„æ˜¯é¡¹ç›®ä¸­çš„æŸä¸€ä¸ªæ¨¡å—ï¼Œé»˜è®¤å‘½åæ–¹å¼æ˜¯&quot;é¡¹ç›®å-æ¨¡å—å&quot;--&gt; &lt;artifactId&gt;hello-first&lt;/artifactId&gt; &lt;!--versionæŒ‡çš„æ˜¯ç‰ˆæœ¬ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯Mavençš„å¿«ç…§ç‰ˆæœ¬--&gt; &lt;version&gt;SNAPSHOT-0.0.1&lt;/version&gt;&lt;/project&gt;pom.xmlæ–‡ä»¶çš„èŠ‚ç‚¹å…ƒç´ è¯´æ˜ï¼š &lt;project&gt; pomæ–‡ä»¶çš„é¡¶çº§èŠ‚ç‚¹ &lt;modelVersion&gt; object modelç‰ˆæœ¬ï¼Œå¯¹Maven2å’ŒMaven3æ¥è¯´ï¼Œåªèƒ½æ˜¯4.0.0 &lt;groupId&gt; é¡¹ç›®åˆ›å»ºç»„ç»‡çš„æ ‡è¯†ç¬¦ï¼Œä¸€èˆ¬æ˜¯åŸŸåçš„å€’å†™ &lt;artifactId&gt; å®šä¹‰äº†é¡¹ç›®åœ¨æ‰€å±ç»„ç»‡çš„æ ‡è¯†ç¬¦ä¸‹çš„å”¯ä¸€æ ‡è¯†ï¼Œä¸€ä¸ªç»„ç»‡ä¸‹å¯ä»¥æœ‰å¤šä¸ªé¡¹ç›® &lt;version&gt; å½“å‰é¡¹ç›®çš„ç‰ˆæœ¬ï¼ŒSNAPSHOTï¼Œè¡¨ç¤ºæ˜¯å¿«ç…§ç‰ˆæœ¬ï¼Œåœ¨å¼€å‘ä¸­ &lt;packaging&gt; æ‰“åŒ…çš„æ–¹å¼ï¼Œæœ‰jarã€warã€earç­‰ &lt;name&gt; é¡¹ç›®çš„åç§° &lt;url&gt; é¡¹ç›®çš„åœ°å€ &lt;properties&gt; å±æ€§é…ç½®ï¼Œæ¯”å¦‚ï¼š&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;dependencies&gt; æ„å»ºé¡¹ç›®ä¾èµ–çš„jar 2.ä¸åŒå·¥ç¨‹ä¹‹é—´çš„ä¾èµ–å…³ç³»åœ¨taotao-manageræ˜¯ä¸€ä¸ªèšåˆå·¥ç¨‹ï¼Œåˆ›å»ºäº†å››ä¸ªå­æ¨¡å—ï¼Œè¿™æ ·åšçš„å¥½è§åšå®¢https://blog.csdn.net/yuanxiaojun1990/article/details/50359059,å…¶ä¸­daoéœ€è¦ä¾èµ–pojoï¼Œinterfaceéœ€è¦ä¾èµ–pojoï¼Œè€Œserviceéœ€è¦ä¾èµ–interfaceï¼Œdao;(å¯ä»¥ç»“åˆSSMæ¡†æ¶å¼€å‘ç»éªŒæƒ³æƒ³ä¸ºä»€ä¹ˆè¿™ä¹ˆä¾èµ–)ã€‚ commonä¾èµ–pojo manage-webä¾èµ–interfaceï¼›ï¼ˆç›´æ¥è°ƒç”¨æ¥å£ï¼‰ 3.tomcatçš„æ’ä»¶çš„é…ç½® ç›®çš„ï¼šè®¾ç½®è®¿é—®è·¯å¾„å’Œç«¯å£å·ã€‚æ³¨ï¼šå¦‚æœæ˜¯èšåˆå·¥ç¨‹ï¼Œåˆ™æ”¾åœ¨çˆ¶å·¥ç¨‹çš„pomä¸‹ã€‚Code&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt; &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;port&gt;8080&lt;/port&gt; &lt;path&gt;/&lt;/path&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"javaWebå®æˆ˜","slug":"javaWebå®æˆ˜","permalink":"http://SlectRxz.github.io/tags/javaWebå®æˆ˜/"}]},{"title":"Jquery","slug":"javaåŸºç¡€/JQuery","date":"2019-05-21T16:00:00.000Z","updated":"2019-08-05T12:02:51.670Z","comments":true,"path":"2019/05/22/javaåŸºç¡€/JQuery/","link":"","permalink":"http://SlectRxz.github.io/2019/05/22/javaåŸºç¡€/JQuery/","excerpt":"JQueryä»‹ç»ï¼ŒåŒ…æ‹¬load(),get(),post()ä»¥åŠèµ‹å€¼ç­‰æ–¹æ³•ã€‚","text":"JQueryä»‹ç»ï¼ŒåŒ…æ‹¬load(),get(),post()ä»¥åŠèµ‹å€¼ç­‰æ–¹æ³•ã€‚ 1.JQueryæ˜¯ä»€ä¹ˆ JQuery æ˜¯ javascript çš„ä¸€ä¸ªæ¡†æ¶é›†åˆ ï¼Œ å¹¶ä¸æ˜¯ä»€ä¹ˆæ–°çš„æŠ€æœ¯ã€‚ 2.Jqueryæœ‰ä»€ä¹ˆç”¨Code- å†™å°‘ä»£ç ,åšå¤šäº‹æƒ…ã€write less do moreã€‘- å…è´¹ï¼Œå¼€æºä¸”è½»é‡çº§çš„jsåº“ï¼Œå®¹é‡å¾ˆå° æ³¨æ„ï¼šé¡¹ç›®ä¸­ï¼Œæå€¡å¼•ç”¨minç‰ˆçš„jsåº“- å…¼å®¹å¸‚é¢ä¸Šä¸»æµæµè§ˆå™¨ï¼Œä¾‹å¦‚ IEï¼ŒFirefoxï¼ŒChrome æ³¨æ„ï¼šjQueryä¸æ˜¯å°†æ‰€æœ‰JSå…¨éƒ¨å°è£…ï¼Œåªæ˜¯æœ‰é€‰æ‹©çš„å°è£…- èƒ½å¤Ÿå¤„ç†HTML/JSP/XMLã€CSSã€DOMã€äº‹ä»¶ã€å®ç°åŠ¨ç”»æ•ˆæœï¼Œä¹Ÿèƒ½æä¾›å¼‚æ­¥AJAXåŠŸèƒ½- æ–‡æ¡£æ‰‹å†Œå¾ˆå…¨ï¼Œå¾ˆè¯¦ç»†- æˆç†Ÿçš„æ’ä»¶å¯ä¾›é€‰æ‹©- æå€¡å¯¹ä¸»è¦çš„htmlæ ‡ç­¾æä¾›ä¸€ä¸ªidå±æ€§ï¼Œä½†ä¸æ˜¯å¿…é¡»çš„- å‡ºé”™åï¼Œæœ‰ä¸€å®šçš„æç¤ºä¿¡æ¯- ä¸ç”¨å†åœ¨htmlé‡Œé¢é€šè¿‡&lt;script&gt;æ ‡ç­¾æ’å…¥ä¸€å¤§å †jsæ¥è°ƒç”¨å‘½ä»¤äº† 3.Ajaxä¸JQuery 1ã€JSæ˜¯ä¸€é—¨å‰ç«¯è¯­è¨€ã€‚2ã€Ajaxæ˜¯ä¸€é—¨æŠ€æœ¯ï¼Œå®ƒæä¾›äº†å¼‚æ­¥æ›´æ–°çš„æœºåˆ¶ï¼Œä½¿ç”¨å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨é—´äº¤æ¢æ•°æ®è€Œéæ•´ä¸ªé¡µé¢æ–‡æ¡£ï¼Œå®ç°é¡µé¢çš„å±€éƒ¨æ›´æ–°ã€‚3ã€jQueryæ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œå®ƒå¯¹JSè¿›è¡Œäº†å°è£…ï¼Œä½¿å…¶æ›´æ–¹ä¾¿ä½¿ç”¨ã€‚jQueryä½¿å¾—JSä¸Ajaxçš„ä½¿ç”¨æ›´æ–¹ä¾¿ 4.ä½¿ç”¨ï¼š1.å¼•ç”¨JQuery.jsæ–‡ä»¶ Code&lt;script type=&quot;text/javascript&quot; src=&quot;js/jquery-1.11.3.min.js&quot;&gt;&lt;/script&gt; 2.å¸¸ç”¨æ–¹æ³•.load() $(â€œ#div01â€).load(â€œuserservletâ€);è§£é‡Šï¼šæ‰¾åˆ°é¡µé¢idä¸ºdiv01çš„æ ‡ç­¾ï¼Œå†åŠ è½½è·¯å¾„ä¸ºuserservletçš„æ–‡ä»¶ï¼Œè¿™é‡ŒæŒ‡servletè·¯å¾„ã€‚ $(â€œ#div01â€) ç›¸å½“äºJavaScriptä¸­çš„document.getElementById(â€œdiv01â€) $.get(urlï¼Œfunction(data){}); ä¸€getè¯·æ±‚çš„æ–¹å¼å‘æœåŠ¡å™¨ä¼ è¾“æ•°æ®ï¼Œå¯ä»¥ä¸åŠ function()æ— éœ€å‚æ•°è¿”å›ã€‚è‹¥éœ€æ·»åŠ è¯·æ±‚çš„å‚æ•°ï¼Œç›´æ¥æ·»åŠ åœ¨URLä¸Šï¼Œä¾‹å¦‚â€usernameServlet?name=â€ericâ€;è‹¥éœ€è¦è¿”å›å€¼ï¼Œåˆ™æ·»åŠ ä¸€ä¸ªæ•°æ®å›è°ƒå‡½æ•° $.post(url,data,callback); å·²postæ–¹å¼å‘æœåŠ¡å™¨æäº¤æ•°æ®ï¼Œå¹¶è¿”å›url:æ‰€å¤„ç†çš„æ§åˆ¶ç±»çš„è·¯å¾„dataï¼šåƒæœåŠ¡å™¨ä¼ é€’çš„æ•°æ®ï¼Œå…¶æ ¼å¼ä¸ºï¼š{name:â€zhangsanâ€,age=â€18â€}callback:è·å–æœåŠ¡å™¨è¿”å›çš„å›è°ƒå‡½æ•°ï¼Œæ ¼å¼ä¸ºfunction(data,status){},statusè¡¨ç¤ºçŠ¶æ€ï¼Œ200è¡¨ç¤ºæˆåŠŸã€‚ eg:Code$.post(&quot;&lt;%=basePath%&gt;customer/update.action&quot;,$(&quot;#edit_customer_form&quot;).serialize(),function(data)&#123; if(data==&quot;1&quot;)&#123; alert(&quot;å®¢æˆ·ä¿¡æ¯æ›´æ–°æˆåŠŸï¼&quot;); &#125;else&#123; alert(&quot;å®¢æˆ·ä¿¡æ¯æ›´æ–°å¤±è´¥ï¼&quot;); &#125; window.location.reload(); &#125;);å‡½æ•°äºŒï¼šif(confirm(&apos;ç¡®å®è¦åˆ é™¤è¯¥å®¢æˆ·å—?&apos;)) &#123; $.post(&quot;&lt;%=basePath%&gt;customer/delete.action&quot;,&#123;&quot;id&quot;:id&#125;,function(data)&#123; if(data==&quot;1&quot;)&#123; alert(&quot;å®¢æˆ·åˆ é™¤åˆ é™¤æˆåŠŸï¼&quot;); &#125;else&#123; alert(&quot;å®¢æˆ·ä¿¡æ¯åˆ é™¤å¤±è´¥ï¼&quot;); &#125; window.location.reload(); &#125;); &#125; æ³¨æ„ï¼šä¸Šè¿°æœ‰ä¸¤ä¸ªç‚¹ï¼š$(â€œformâ€).serialize() jQuery ajax()ä½¿ç”¨serialize()æäº¤formæ•°æ®,å¦‚æœæ‰“å° $(â€œformâ€).serialize()çš„å€¼ï¼Œæ ¼å¼æ˜¯ï¼šid=12&amp;name=â€ericâ€&amp;age=18&amp;city=â€aaâ€â€¦â€¦.é‚£ä¹ˆï¼Œé—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬åœ¨æœåŠ¡å™¨çš„COntrollerä¸­åº”å½“å¦‚ä½•å»æ¥æ”¶å‘¢ï¼Ÿç”¨@ResponseBodyæ¥æ”¶confirm(â€˜â€™) åœ¨JavaScriptä¸­å…±æœ‰ä¸‰ç§å¼¹å‡ºæ¡†ï¼ˆalertï¼Œconfirmï¼Œpromptï¼‰ 1.alertå°±æ˜¯ä¸€ä¸ªè­¦å‘Šæ¶ˆæ¯æ¡†ã€‚ 2.confirmï¼ˆâ€œä½ æƒ³è®©ç”¨æˆ·ç¡®è®¤çš„ä¿¡æ¯â€ï¼‰ç¡®è®¤æ¶ˆæ¯æ¡†é¦–å…ˆï¼šconfirm æ–¹æ³•çš„è¿”å›å€¼ä¸º true æˆ– false 3.prompt() æç¤ºæ¶ˆæ¯æ¡†ç”¨æˆ·å¯ä»¥åœ¨æ®µè¾“å…¥ä¸€ä¸ªç­”æ¡ˆæ¥å“åº”æ‚¨çš„æç¤ºï¼Œè¿”å›ä¸€ä¸ªç”¨æˆ·çš„è¾“å…¥å€¼ .val(),.html(),.text() JQueryè·å–æ ‡ç­¾çš„å€¼å’Œèµ‹å€¼çš„æ–¹æ³•ä¸‹é¢è¯´ä¸€ä¸‹ä¸‰è€…ä¹‹é—´çš„åŒºåˆ«ï¼š $(â€œ#div01â€).val() val(),è¡¨ç¤ºè·å–idä¸ºdiv01æ ‡ç­¾ä¸­çš„valueå€¼ï¼› val(â€œaaaâ€)é’ˆå¯¹å¸¦æœ‰valueå±æ€§çš„å…ƒç´ è¿›è¡Œèµ‹å€¼ï¼Œ å…¶å®å°±æ˜¯ç»™è¯¥å…ƒç´ çš„ valueèµ‹å€¼aaa $(â€œ#div01â€).html() .html()è·å–è·å–idä¸ºdiv01æ ‡ç­¾ä½“ä¸­çš„å€¼ .html(â€œâ€ã€Šoption value=â€™â€™&gt;â€â€)é’ˆå¯¹æŸä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨å…ƒç´ å·¦å³åŒ…æ‹¬èµ·æ¥ä¸€æ®µå€¼çš„å…ƒç´ èµ‹å€¼ ã€‚å¦‚ï¼š.html(â€œã€Šfontã€‹ ã€Š/fontã€‹â€) $(â€œ#dov01â€).text() .text()ä½œç”¨åŒhtmlï¼Œåªæ˜¯ä¸€ä¸ªæ”¯æŒhtmlä»£ç  .text(â€œaaaaaaâ€)è¯¥æ–¹æ³•é’ˆå¯¹é‚£äº›å¯ä»¥åœ¨ä¸¤ä¸ªæ ‡ç­¾ä¸­å†™å€¼çš„èµ‹å€¼å·¥ä½œ ã€‚å¦‚ ï¼šã€Šdivã€‹aaaaaaaaã€Š/divã€‹ $.ajax() æå±‚å®ç°åŸºäºAjaxçš„ä½¿ç”¨ï¼Œå…³é”®åœ¨äºå†…éƒ¨çš„å‚æ•°å¦‚ä½•å†™ï¼Œè¿™é‡Œç›´æ¥ä¸Šä»£ç  Codefunction editCustomer(id) &#123;$.ajax(&#123; type:&quot;get&quot;, url:&quot;&lt;%=basePath%&gt;customer/edit.action&quot;, data:&#123;&quot;id&quot;:id&#125;, success:function(data) &#123; $(&quot;#edit_cust_id&quot;).val(data.cust_id); $(&quot;#edit_customerName&quot;).val(data.cust_name); $(&quot;#edit_customerFrom&quot;).val(data.cust_source) $(&quot;#edit_custIndustry&quot;).val(data.cust_industry) $(&quot;#edit_custLevel&quot;).val(data.cust_level) $(&quot;#edit_linkMan&quot;).val(data.cust_linkman); $(&quot;#edit_phone&quot;).val(data.cust_phone); $(&quot;#edit_mobile&quot;).val(data.cust_mobile); $(&quot;#edit_zipcode&quot;).val(data.cust_zipcode); $(&quot;#edit_address&quot;).val(data.cust_address); &#125; &#125;);&#125; ä»¥ä¸Šæœ‰ä¸€ä¸ªç‚¹ï¼Œé‚£å°±æ˜¯è¿”å›çš„æ•°æ®dataï¼Œdataæ˜¯æœ‰Controllerå±‚ä½¿ç”¨@ResponseBodyç›´æ¥å°†ä¸€ä¸ªå¯¹è±¡ä»¥Jsonçš„å½¢å¼è¿”å›çš„ã€‚ #æ¡ˆä¾‹1.ä»¿ç™¾åº¦æç¤º éœ€æ±‚ï¼šåœ¨æˆ‘ä»¬ä½¿ç”¨ç™¾åº¦çš„æ—¶å€™ï¼Œå¾€å¾€åœ¨è¾“å…¥å‡ ä¸ªå­—ç¬¦åï¼Œå®ƒå°±ä¼šç»™æˆ‘ä»¬ä¸€ä¸ªæç¤ºäº†ï¼Œé‚£ä¹ˆå‰ç«¯é¡µé¢æ˜¯å¦‚ä½•å®ç°å“åº”çš„å‘¢ï¼Ÿ æ€è·¯ï¼šï¼šä½¿ç”¨.keyupè·å–é”®ç›˜å¼¹èµ·çš„äº‹ä»¶ï¼Œç„¶åè·å–è¾“å…¥æ¡†çš„å€¼ï¼Œå³æ¯å½“é”®ç›˜å¼¹èµ·åï¼Œå°±è·å–æ­¤æ—¶è¾“å…¥æ¡†çš„å€¼ï¼Œå¾—åˆ°è¾“å…¥æ¡†çš„å€¼åå°†æ•°æ®å‘é€ï¼ˆPostï¼‰åˆ°Controllerå±‚ï¼ŒControllerè°ƒç”¨serviceå±‚-&gt;æŒä¹…å±‚-&gt;è·å–æ•°æ®åº“çš„ä¿¡æ¯ï¼Œå†å°†å…¶è¿”å›å‰ç«¯é¡µé¢ã€‚ Code&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;../js/jquery-1.11.3.min.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot;src=&quot;../js/baidu.js&quot;&gt;&lt;/script&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;body background=&quot;../105.jpg&quot;&gt;&lt;center&gt; &lt;h2&gt;ç™¾åº¦ä¸€ä¸‹&lt;/h2&gt; &lt;input type=&quot;text&quot; id=&quot;word&quot; style=&quot;width:500px;height:50px&quot;/&gt; &lt;input type=&quot;button&quot; value=&quot;æœæœ&quot; style=&quot;width:80px;height:56px&quot;/&gt; &lt;div id=&quot;div01&quot; style=&quot;position:relative;left:-43px; width:500px;height:300px;border: 1px solid blue;display: none&quot;&gt;&lt;/div&gt;&lt;/center&gt;&lt;/body&gt;&lt;/html&gt; js:Code//å…¥å£å‡½æ•° ä»¥å‰æ˜¯ $(document).ready(fuction()&#123;&#125;)//è·å–é”®ç›˜å¼¹èµ·çš„äº‹ä»¶$(function()&#123; $(&quot;#word&quot;).keyup(function() &#123; //è·å–è¾“å…¥æ¡†çš„ä¿¡æ¯ï¼Œå†ä¸Šä¼  // alert(&quot;asd&quot;); var word=$(this).val(); //alert(word); $.post(&quot;/AjaxAndJQuery/findServlet&quot;,&#123;words:word&#125;,function(data,status)&#123; //alert(data); //è¿”å›çš„dataæ˜¯ä¸€ä¸ªjspé¡µé¢ï¼Œç°åœ¨æˆ‘ä»¬æŠŠå®ƒæ”¾åœ¨æŒ‡å®šçš„divä¸­ if(word==&quot;&quot;)&#123; $(&quot;#div01&quot;).hide(); &#125;else&#123; $(&quot;#div01&quot;).show(); $(&quot;#div01&quot;).html(data); &#125; &#125;); &#125;)&#125;); Controller(è¿™é‡Œä½¿ç”¨servlet)ï¼šCodeprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; try &#123; //è·å–æ•°æ®ï¼ŒæŸ¥è¯¢æ•°æ®åº“ï¼Œè¿”å›æ•°æ®å€¼ request.setCharacterEncoding(&quot;utf-8&quot;); String word = request.getParameter(&quot;words&quot;); // findDao findDaoImpl = new findDaoImpl(); List&lt;String&gt; list = findDaoImpl.findInformation(word); //æ‰“å°ä»æ•°æ®åº“è·å–çš„å†…å®¹ for (String news : list) &#123; System.out.println(news); &#125; request.setAttribute(&quot;words&quot;, list); response.setContentType(&quot;text/html;charset=utf-8&quot;); /** * è°è¯·æ±‚ï¼Œå®ƒå°±æŠŠé¡µé¢è¿”å›ç»™è°ï¼Œä¸€èˆ¬æˆ‘ä»¬éƒ½æ˜¯ç”¨æµè§ˆå™¨å»è®¿é—®ï¼Œå®ƒå°±æŠŠé¡µé¢è¿”å›ç»™æµè§ˆå™¨ * å½“æˆ‘ç”¨JQueryå»è®¿é—®ï¼Œå®ƒå°±æŠŠæ•°æ®è¿”å›ç»™JQueryï¼Œæ”¾åœ¨dataæ•°æ®é‡Œé¢ */ request.getRequestDispatcher(&quot;/JQueryFind/list.jsp&quot;).forward(request, response); &#125; catch (SQLException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; &#125; æ³¨æ„ï¼šæ­¤å¤„è¿”å›çš„æ˜¯ä¸€ä¸ªjspé¡µé¢ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨JQueryä¸­çš„dataæ˜¯ä¸€ä¸ªjspé¡µé¢list.jspCode&lt;body&gt; &lt;table style=&quot;width:500px&quot;&gt; &lt;c:forEach items=&quot;$&#123;words&#125;&quot; var=&quot;word&quot;&gt; &lt;tr&gt; &lt;td&gt;$&#123;word&#125;&lt;/td&gt; &lt;/tr&gt; &lt;/c:forEach&gt; &lt;/table&gt;&lt;/body&gt; #æ¡ˆä¾‹2.çœå¸‚è”åŠ¨ éœ€æ±‚ï¼šå½“æˆ‘ä»¬åœ¨æ³¨å†Œæ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°é€‰åŸå¸‚çš„æƒ…å†µï¼Œæ¯”å¦‚å½“ä½ provinceé€‰æ‹©æ¹–åŒ—åï¼Œå¯¹åº”çš„cityå°±è‡ªåŠ¨åˆ·æ–°ä¸ºæ¹–åŒ—ä¸‹é¢çš„åŸå¸‚ï¼Œé‚£ä¹ˆå…¶å‰ç«¯é¡µé¢çš„é€»è¾‘æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ æ€è·¯ï¼š é¦–å…ˆæ‰¾åˆ°çœä»½å…ƒç´ çš„æ ‡ç­¾ï¼Œç„¶åæ ¹æ®.changeäº‹ä»¶ï¼Œå½“å…¶å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå°†å…¶valueå€¼é€šè¿‡$.post()å‘é€è‡³Controllerå±‚ï¼Œæ§åˆ¶å±‚è¿”å›ç»“æœï¼ˆä»¥XMLæˆ–Jsonï¼‰çš„æ–¹å¼ã€‚ ä¸‹é¢ä»‹ç»ç¬¬ä¸€ç§ï¼šControllerå±‚é€šè¿‡XMLä¸å‰ç«¯é¡µé¢ Controller(servletå®ç°)Codeprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; try &#123; //1.è·å–å‚æ•° int pic = Integer.parseInt(request.getParameter(&quot;pic&quot;)); //2.è·å–åŸå¸‚åˆ—è¡¨ cityDao cityImpl = new cityDaoImpl(); List&lt;city&gt; findCity = cityImpl.findCity(pic); //3.å°†å…¶è¿”å› //å·²XMLçš„å½¢å¼è¿”å› XStream xstream=new XStream(); //è®¾ç½®ç±»åˆ«å xstream.alias(&quot;city&quot;, city.class); //å°†ç±»æˆå‘˜ä½œä¸ºå±æ€§ xstream.useAttributeFor(city.class, &quot;pic&quot;); String xml = xstream.toXML(findCity); //è®¾ç½®è¿”å›æ ¼å¼ response.setContentType(&quot;text/xml;charset=utf-8&quot;); response.getWriter().write(xml); &#125; catch (SQLException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; &#125; æ³¨æ„ï¼š XStream xstream=new XStream();å°†å¯¹è±¡è½¬æ¢ä¸ºXMLçš„å½¢å¼æˆ–è€…XMLè½¬ä¸ºå¯¹è±¡çš„æ ¼å¼ã€‚å…·ä½“ä½¿ç”¨æ‰¾äº†ä¸€ç¯‡å†™çš„æ¯”è¾ƒè¯¦ç»†çš„åšå®¢ï¼š https://www.cnblogs.com/mengfanrong/p/5023770.html JS:Code$(function()&#123; //1.æ‰¾åˆ°çœä»½å…ƒç´ ï¼Œä¸€æ—¦å‘ç”Ÿæ”¹å˜ï¼Œå°±å»è¯·æ±‚è¯¥çœä»½çš„å…ƒç´  $(&quot;#province&quot;).change(function()&#123; //è·å¾—provinceçš„value var pic=$(this).val(); //postè¯·æ±‚ $.post(&quot;/AjaxAndJQuery/findCity&quot;,&#123;pic:pic&#125;,function(data,status)&#123; //æœ‰ä¸€ä¸ªæ•°æ®å›è°ƒ statusè¡¨ç¤ºè¿”å›çš„çŠ¶æ€å€¼ï¼Œ200è¡¨ç¤ºok //è¿”å›çš„æ˜¯ä¸€ä¸ªXMLæ–‡æ¡£ï¼Œéœ€è¦çš„æ˜¯å…¶ä¸­çš„&lt;name&gt;æ ‡ç­¾ä¸­çš„å€¼ /* * &lt;city pic=&quot;2&quot;&gt; &lt;name&gt;æƒ å·&lt;/name&gt; &lt;/city&gt; &lt;city pic=&quot;2&quot;&gt; &lt;name&gt;æ¢…å·&lt;/name&gt; &lt;/city&gt; */ //æ¸…ç©ºä»¥å‰æŸ¥è¯¢è¿‡çš„å€¼ $(&quot;#city&quot;).html(&quot;&lt;option value=&apos;&apos;&gt;-è¯·é€‰æ‹© -&quot;); $(data).find(&quot;city&quot;).each(function()&#123; //è¡¨ç¤ºéå†å‡ºæ¥çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½èµ°è¿™ä¸€ä¸ªæ–¹æ³•ï¼Œéå†ä¸€æ¬¡cityï¼Œå°±æ‰§è¡Œä¸€æ¬¡fuctionæ–¹æ³• //.find(&quot;city&quot;)å¾—åˆ°æ‰€æœ‰çš„cityï¼Œç„¶åéå† //var pic=$(this).children(&quot;&quot;) var name=$(this).children(&quot;name&quot;).text(); //alert(name); //åœ¨æ‰‹å†Œæ·»åŠ æ å¯ä»¥æŸ¥åˆ° $(&quot;#city&quot;).append(&quot;&lt;option value=&apos;&apos;&gt;&quot;+name); &#125;); &#125;); &#125;);&#125;) jsp:Code&lt;body&gt; çœä»½: &lt;select name=&quot;province&quot; id=&quot;province&quot;&gt; &lt;option value=&quot;&quot;&gt;-è¯·é€‰æ‹© - &lt;option value=&quot;1&quot;&gt;æ¹–åŒ— &lt;option value=&quot;2&quot;&gt;å¹¿ä¸œ &lt;option value=&quot;3&quot;&gt;å±±ä¸œ &lt;option value=&quot;4&quot;&gt;æ²³å— &lt;/select&gt; åŸå¸‚: &lt;select name=&quot;city&quot; id=&quot;city&quot;&gt; &lt;option value=&quot;&quot;&gt;-è¯·é€‰æ‹© - &lt;/select&gt;&lt;/body&gt; æ–¹å¼äºŒï¼šCOntrolleré€šè¿‡Jsonä¸å‰ç«¯é¡µé¢äº¤äº’è¯´æ˜ï¼šå¯ä»¥ç›´æ¥é‡‡ç”¨ä»¥ä¸‹æ–¹å¼ï¼ˆ@ResponseBodyï¼‰Code@RequestMapping(&quot;edit&quot;) @ResponseBody /** * jspé¡µé¢ä¸­ç›´æ¥æ¥æ”¶ä¸€ä¸ªjsonä¸²ï¼Œæ‰€ä»¥ç›´æ¥å°†å¯¹è±¡è½¬æ¢æˆjsonæ•°æ®æ ¼å¼ * @param id * @return */ public Customer edit(Integer id)&#123; Customer customer = customerService.getCustomerById(id); return customer; &#125; ä½†æ˜¯ç”±äºæˆ‘çš„æ¡ˆä¾‹æ˜¯ä½¿ç”¨servletå†™çš„ï¼Œå³éœ€æ‹¼è£…Jsonä¸²ï¼ˆå¯ä»¥æ‰‹åŠ¨æ‹¼è£…æˆ–è€…é€šè¿‡å·¥å…·ç±»ï¼‰è¿™é‡Œé‡‡ç”¨çš„æ˜¯ JSONArray jsonArray = JSONArray.fromObject(findCity); servlet:Codeprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; try &#123; //1.è·å–å‚æ•° int pic = Integer.parseInt(request.getParameter(&quot;pic&quot;)); //2.è·å–åŸå¸‚åˆ—è¡¨ cityDao cityImpl = new cityDaoImpl(); List&lt;city&gt; findCity = cityImpl.findCity(pic); //3.å°†å…¶è¿”å› //å·²Jsonçš„å½¢å¼è¿”å› JSONArray jsonArray = JSONArray.fromObject(findCity); String json = jsonArray.toString(); System.out.println(json); //è®¾ç½®è¿”å›æ ¼å¼ response.setContentType(&quot;text/html;charset=utf-8&quot;); response.getWriter().write(json); &#125; catch (SQLException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; &#125; js:Code$(function()&#123; //1.æ‰¾åˆ°çœä»½å…ƒç´ ï¼Œä¸€æ—¦å‘ç”Ÿæ”¹å˜ï¼Œå°±å»è¯·æ±‚è¯¥çœä»½çš„å…ƒç´  $(&quot;#province&quot;).change(function()&#123; //è·å¾—provinceçš„value var pic=$(this).val(); //postè¯·æ±‚ $.post(&quot;/AjaxAndJQuery/findCityJson&quot;,&#123;pic:pic&#125;,function(data,status)&#123; //æœ‰ä¸€ä¸ªæ•°æ®å›è°ƒ statusè¡¨ç¤ºè¿”å›çš„çŠ¶æ€å€¼ï¼Œ200è¡¨ç¤ºok /** * è¿”å›çš„dataæ˜¯jsonå½¢å¼çš„å­—ç¬¦ä¸² * [&#123;&quot;name&quot;:&quot;å¹¿å·&quot;,&quot;pic&quot;:2&#125;,&#123;&quot;name&quot;:&quot;æ·±åœ³&quot;,&quot;pic&quot;:2&#125;,&#123;&quot;name&quot;:&quot;æƒ å·&quot;,&quot;pic&quot;:2&#125;,&#123;&quot;name&quot;:&quot;æ¢…å·&quot;,&quot;pic&quot;:2&#125;] */ //æ¸…ç©ºä»¥å‰æŸ¥è¯¢è¿‡çš„å€¼ $(&quot;#city&quot;).html(&quot;&lt;option value=&apos;&apos;&gt;-è¯·é€‰æ‹© -&quot;); //éå†dataï¼Œè·å–åˆ°ã€ã€‘ä¸­çš„&#123;&#125;å†…å®¹ï¼Œåœ¨é€šè¿‡ city.å±æ€§ çš„æ–¹å¼è®¿é—®å…¶å€¼ï¼Œå…¶ä¸­cityè‡ªå®šä¹‰ï¼Œç›¸å½“äºç»™&#123;&#125;æ•´ä½“å°è£…æˆä¸€ä¸ªå¯¹è±¡äº† $(data).each(function(index,city)&#123; $(&quot;#city&quot;).append(&quot;&lt;option value=&apos;&apos;&gt;&quot;+city.name); &#125;); &#125;,&quot;json&quot;); &#125;);&#125;) jsp:åŒä¸Š","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"javaWebåŸºç¡€","slug":"javaWebåŸºç¡€","permalink":"http://SlectRxz.github.io/tags/javaWebåŸºç¡€/"}]},{"title":"Ajax","slug":"javaåŸºç¡€/Ajax","date":"2019-05-18T16:00:00.000Z","updated":"2019-12-20T12:03:47.122Z","comments":true,"path":"2019/05/19/javaåŸºç¡€/Ajax/","link":"","permalink":"http://SlectRxz.github.io/2019/05/19/javaåŸºç¡€/Ajax/","excerpt":"Ajaxçš„ä½¿ç”¨ï¼Œå†…éƒ¨åŸç†çš„ä»‹ç»ï¼Œget/Postæäº¤æ•°æ®","text":"Ajaxçš„ä½¿ç”¨ï¼Œå†…éƒ¨åŸç†çš„ä»‹ç»ï¼Œget/Postæäº¤æ•°æ® 1.Ajaxæ˜¯ä»€ä¹ˆ å…¨ç§°ï¼šAsynchronous Javascript And XMLï¼ˆå¼‚æ­¥JavaScriptå’Œxmlï¼‰ å¹¶éæ–°çš„æŠ€æœ¯ï¼Œè€Œå®æŠŠåŸæœ‰çš„æŠ€æœ¯æ•´åˆåˆ°ä¸€èµ·ï¼š 1.ä½¿ç”¨CSSå’ŒXHTMLæ¥è¡¨ç¤ºã€‚ 2.ä½¿ç”¨DOMæ¨¡å‹æ¥äº¤äº’å’ŒåŠ¨æ€æ˜¾ç¤ºã€‚ 3.ä½¿ç”¨XMLHttpRequestæ¥å’ŒæœåŠ¡å™¨è¿›è¡Œå¼‚æ­¥é€šä¿¡ã€‚ 4.ä½¿ç”¨javascriptæ¥ç»‘å®šå’Œè°ƒç”¨ã€‚2.Ajaxæœ‰ä»€ä¹ˆç”¨ ç½‘é¡µå¦‚æœæƒ³è¦åˆ·æ–°å±€éƒ¨å†…å®¹ã€‚ é‚£ä¹ˆéœ€è¦é‡æ–°è½½å…¥æ•´ä¸ªç½‘é¡µã€‚ç”¨æˆ·ä½“éªŒä¸æ˜¯å¾ˆå¥½(ä¾‹å¦‚ï¼šå½“æˆ‘ä»¬æäº¤formè¡¨å•çš„æ—¶å€™)ã€‚å°±æ˜¯ä¸ºäº†è§£å†³å±€éƒ¨åˆ·æ–°çš„é—®é¢˜ã€‚ä¿æŒå…¶ä»–éƒ¨åˆ†ä¸åŠ¨ï¼Œåªåˆ·æ–°æŸäº›åœ°æ–¹ã€‚ 3.å†…éƒ¨åŸç†è¯šå¦‚æˆ‘ä»¬å‰é¢æ‰€è¯´çš„ï¼Œ Ajax å¹¶ä¸æ˜¯ä¸€é¡¹æ–°æŠ€æœ¯ã€‚è€Œæ˜¯åŒ…è£…äº†ç°æœ‰çš„æŠ€æœ¯ï¼Œç„¶åä½¿ç”¨ä»–ä»¬æ¥å®Œæˆå·¥ä½œè€Œå·²ã€‚ é‚£ä¹ˆç°åœ¨ç»™å¤§å®¶ä¸¾ä¸ªä¾‹å­ï¼Œ è¿˜æ˜¯ä»¥å’±ä»¬çš„åˆ¤æ–­ç”¨æˆ·åæ˜¯å¦å·²è¢«æ³¨å†Œä¸ºä¾‹ã€‚ ä¼ ç»Ÿæ–¹å¼ï¼š 1. è¾“å…¥ç”¨æˆ·åï¼Œ 2. ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ï¼Œæ ¡éªŒã€‚ 3. æŠŠæ•°æ®æäº¤ç»™æœåŠ¡å™¨ 4. æœåŠ¡å™¨åœ¨åå°å¸®åŠ©æˆ‘ä»¬å®Œæˆæ ¡éªŒï¼Œå¹¶ä¸”åé¦ˆä¿¡æ¯ã€‚ 5. æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸Šæç¤ºç”¨æˆ·ï¼Œç»™å‡ºç»“æœ Ajaxæ–¹å¼ï¼š ajaxæ–¹å¼ä¸å‰é¢çš„æ–¹å¼å…¶å®ä»è¦åšçš„äº‹æƒ…æ¥è¯´ï¼Œæ˜¯ä¸€æ ·çš„ã€‚ ajaxä¹Ÿæ²¡æœ‰ç‰›åˆ°ï¼Œä¸ç”¨å»è®¿é—®æœåŠ¡å™¨å°±çŸ¥é“ä½ çš„ç”¨æˆ·åæ˜¯å¦å·²è¢«å ç”¨ã€‚é‚£ä¹ˆå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢? é€šè¿‡JS è·å–å’±ä»¬çš„è¾“å…¥æ¡†æ–‡æœ¬å†…å®¹ document.getElementById(â€œusernameâ€).value é€šè¿‡XmlHttpRequest å»æ‰§è¡Œè¯·æ±‚ã€‚ XmlHttpRequest å…¶å®å°±æ˜¯ XML + http + Request çš„ç»„åˆã€‚ è¯·æ±‚ç»“æŸåï¼Œæ”¶åˆ°ç»“æœï¼Œ å†ä½¿ç”¨ js å»å®Œæˆæç¤ºã€‚ å¯ä»¥åœ¨é¡ºä¾¿é…åˆ css æ ·å¼æ¥å¢åŠ æç¤ºæ•ˆæœã€‚ 4.ä½¿ç”¨å‰é¢ä»‹ç»çš„éƒ½æ˜¯æ¦‚å¿µæ€§çš„ï¼Œåªéœ€è¦çŸ¥é“Ajaxæ˜¯å¹²å•¥çš„å°±æ¬§å…‹äº†ï¼ˆåé¢ç›´æ¥ç”¨Jqueryï¼‰ä¸”æäº¤æ•°æ®æœ‰ä¸¤ç§æ–¹å¼ï¼š 4.1 getæ–¹å¼ æ€»ç»“ä¸€ä¸‹ä¸‹é¢çš„ä»£ç å†…å®¹ï¼ˆæ³¨é‡Šè§£é‡Šçš„å·²ç»å¾ˆè¯¦ç»†äº†ï¼‰ï¼šæ€»å…±åˆ†ä¸ºä¸‰æ­¥: 1.åˆ›å»ºXmlHttpRequestå¯¹è±¡è¿™éƒ¨åˆ†åˆ›å»ºçš„å¯¹è±¡ï¼Œç”±äºéœ€è¦é’ˆå¯¹ä¸åŒçš„æµè§ˆå™¨ï¼Œéœ€è¦åšå‡ºåˆ¤æ–­ï¼Œæ‰€ä»¥ä¸ç”¨ç›´æ¥å†™ï¼Œä»¥åç›´æ¥æ‹·è´å³å¯ã€‚ 2.å‘é€è¯·æ±‚æ³¨ï¼š requestå¯¹è±¡é€šè¿‡ç¬¬ä¸€æ­¥çš„XmlHttpRequestå¾—åˆ°ã€‚request.open(â€œGETâ€,â€/AjaxAndJQuery/demoServlet01?name=â€™ericâ€™&amp;password=â€™123â€™â€,true);request.send(); 3.å“åº”æœåŠ¡å™¨å‘é€è¿‡æ¥çš„æ•°æ® Code&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;script type=&quot;text/javascript&quot;&gt; //åˆ›å»ºXmlHttpRequestå¯¹è±¡ function ajaxFunction()&#123; var xmlHttp; try&#123; // Firefox, Opera 8.0+, Safari xmlHttp=new XMLHttpRequest(); &#125; catch (e)&#123; try&#123;// Internet Explorer xmlHttp=new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;); &#125; catch (e)&#123; try&#123; xmlHttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;); &#125; catch (e)&#123;&#125; &#125; &#125; return xmlHttp; &#125; //åœ¨å‘é€è¯·æ±‚çš„åŒæ—¶ï¼Œè·å–æœåŠ¡å™¨å“åº”çš„å†…å®¹ function get() &#123; //1.åˆ›å»ºxmlhttprequest å¯¹è±¡ var request=ajaxFunction(); //2.å‘é€è¯·æ±‚ /* å‚æ•°ä¸€ï¼š è¯·æ±‚ç±»å‹ GET or POST å‚æ•°äºŒï¼š è¯·æ±‚çš„è·¯å¾„ å‚æ•°ä¸‰ï¼š æ˜¯å¦å¼‚æ­¥ï¼Œ true or false */ // request.open(&quot;GET&quot;,&quot;/AjaxAndJQuery/demoServlet01&quot;,true); //å¸¦æ•°æ®çš„å»è¯·æ±‚æœåŠ¡å™¨ request.open(&quot;GET&quot;,&quot;/AjaxAndJQuery/demoServlet01?name=&apos;eric&apos;&amp;password=&apos;123&apos;&quot;,true); request.send(); //3.å“åº”æœåŠ¡å™¨å‘é€è¿‡æ¥çš„æ•°æ® /* æ³¨å†Œç›‘å¬çš„æ„æ€ï¼Œæœ‰ç‚¹åƒæ³¨å†Œä¸€ä¸ªç›‘å¬å™¨ï¼Œä¸€ä¼šå‡†å¤‡çš„çŠ¶æ€å‘ç”Ÿäº†æ”¹å˜ é‚£å°±æ‰§è¡Œ=å³è¾¹çš„æ–¹æ³• */ request.onreadystatechange=function() &#123; //å‰åŠæ®µè¡¨ç¤ºreadyState==4æ±‚å·²å®Œæˆï¼Œä¸”å“åº”å·²å°±ç»ª //status==200 if (request.readyState==4 &amp;&amp; request.status==200) &#123; //æ˜¾ç¤ºå“åº”çš„ä¿¡æ¯ alert(request.responseText); &#125; &#125; &#125;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;a href=&quot;&quot; onclick=&quot;get()&quot;&gt;Ajaxé€šè¿‡Getå‘é€æ•°æ®&lt;/a&gt;&lt;/body&gt;&lt;/html&gt; 4.1 postæ–¹å¼ Postè¯·æ±‚ å’Œ Getè¯·æ±‚åŸºæœ¬ç›¸ä¼¼ï¼ŒåŒºåˆ«å°±åœ¨äº æ•°æ®ä¼ è¾“æ–¹å¼ä¸åŒã€‚ Getæ–¹å¼æ˜¯ç›´æ¥åœ¨åœ°å€çš„åé¢æ‹¼æ¥çš„ã€‚ ä½†æ˜¯Postçš„æ–¹å¼æ˜¯é€šè¿‡send æ–¹æ³•ä¼ è¾“è¿‡å»çš„ã€‚ å¹¶ä¸”è¿˜è¦è®¾ç½®ä¸€ä¸ªè¯·æ±‚å¤´ã€‚ åŒä¸Šæ€»ç»“ä¸€ä¸‹ä»¥ä¸‹ä»£ç ï¼š 1.åˆ›å»ºXmlHttpRequestå¯¹è±¡ 2.å‘é€è¯·æ±‚ä¸æºå¸¦æ•°æ®ï¼šrequest.open(â€œPOSTâ€,â€/AjaxAndJQuery/demoServlet01â€,true);request.send();æºå¸¦æ•°æ®ï¼šrequest.open(â€œPOSTâ€,â€/AjaxAndJQuery/demoServlet01â€,true);request.setRequestHeader(â€œContent-typeâ€,â€application/x-www-form-urlencodedâ€);request.send(â€œname=eric&amp;password=123456â€); 3.æ¥æ”¶æ•°æ® Code&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;&lt;script type=&quot;text/javascript&quot;&gt;//åˆ›å»ºXmlHttpRequestå¯¹è±¡function ajaxFunction()&#123; var xmlHttp; try&#123; // Firefox, Opera 8.0+, Safari xmlHttp=new XMLHttpRequest(); &#125; catch (e)&#123; try&#123;// Internet Explorer xmlHttp=new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;); &#125; catch (e)&#123; try&#123; xmlHttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;); &#125; catch (e)&#123;&#125; &#125; &#125; return xmlHttp; &#125; function Post() &#123; //1.æ³¨å†ŒXmlHttpRequestå¯¹è±¡ var request=ajaxFunction(); //2.å‘é€æ•°æ® request.open(&quot;POST&quot;,&quot;/AjaxAndJQuery/demoServlet01&quot;,true); //request.send(); //æ³¨æ„ï¼šå¦‚æœæˆ‘éœ€è¦å¸¦å‚æ•°è¯·æ±‚å‘¢ï¼Ÿå¦‚æœéœ€è¦å¸¦å‚è®¿é—®ï¼Œåˆ™éœ€è¦åŠ ä¸Šè¿™ä¸¤è¡Œ request.setRequestHeader(&quot;Content-type&quot;,&quot;application/x-www-form-urlencoded&quot;); //è§£é‡Šï¼šå¦‚æœä½¿ç”¨çš„æ˜¯POSTæ–¹å¼å¸¦æ•°æ®ï¼Œé‚£ä¹ˆè¿™é‡Œè¦æ·»åŠ è¯·æ±‚å¤´ï¼Œå¹¶è¯´æ˜æäº¤çš„æ•°æ®ç±»å‹æ˜¯ä¸€ä¸ªç»è¿‡URLç¼–ç çš„formè¡¨å•æ•°æ® request.send(&quot;name=eric&amp;password=123456&quot;); //3.æ¥æ”¶æ•°æ® /* æ³¨å†Œç›‘å¬çš„æ„æ€ï¼Œæœ‰ç‚¹åƒæ³¨å†Œä¸€ä¸ªç›‘å¬å™¨ï¼Œä¸€ä¼šå‡†å¤‡çš„çŠ¶æ€å‘ç”Ÿäº†æ”¹å˜ é‚£å°±æ‰§è¡Œ=å³è¾¹çš„æ–¹æ³• */ request.onreadystatechange=function() &#123; //å‰åŠæ®µè¡¨ç¤ºreadyState==4æ±‚å·²å®Œæˆï¼Œä¸”å“åº”å·²å°±ç»ª //status==200 if (request.readyState==4 &amp;&amp; request.status==200) &#123; //æ˜¾ç¤ºå“åº”çš„ä¿¡æ¯ alert(request.responseText); &#125; &#125; &#125;&lt;/script&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;a href=&quot;&quot; onclick=&quot;Post()&quot;&gt;Ajaxé€šè¿‡Postå‘é€æ•°æ®&lt;/a&gt;&lt;/body&gt;&lt;/html&gt; 4.2è·å–æœåŠ¡å™¨ç«¯çš„å“åº” æ•°æ®æäº¤åˆ°çš„ä¸¤ç§è¯·æ±‚Get å’Œ PoståŸºæœ¬ä¸Šéƒ½ä¼šä½¿ç”¨åï¼Œ å°±åº”è¯¥æƒ³æƒ³è·å–æ•°æ®çš„é—®é¢˜äº†ã€‚ å‰é¢æˆ‘ä»¬éƒ½ä¸€ç›´å¾ˆæ— ç§çš„å¾€æœåŠ¡å™¨æäº¤æ•°æ®ï¼Œ é‚£ä¹ˆæœåŠ¡å™¨è¿”å›çš„é‚£äº›æ•°æ®ï¼Œæˆ‘ä»¬åˆè¯¥æ€ä¹ˆé€šè¿‡Ajaxå»æ‹¿å‘¢?è¿™é‡Œå°±è¦é xmlhttprequestçš„äº‹ä»¶ onreadystatechange ï¼Œ è¿™æ˜¯ç”¨æ¥ç›‘å¬æˆ‘ä»¬è¯·æ±‚çš„ä¸€äº›çŠ¶æ€ï¼Œ æ¯”å¦‚ï¼š æˆåŠŸäº†è¿˜æ˜¯å¤±è´¥äº†ã€‚ å¦‚æœæˆåŠŸï¼Œæƒ³è·å–æ•°æ®ï¼Œå¾—é xmlhttprequestçš„responseText æˆ– responseXML å±æ€§ Code/* æ³¨å†Œç›‘å¬çš„æ„æ€ï¼Œæœ‰ç‚¹åƒæ³¨å†Œä¸€ä¸ªç›‘å¬å™¨ï¼Œä¸€ä¼šå‡†å¤‡çš„çŠ¶æ€å‘ç”Ÿäº†æ”¹å˜ é‚£å°±æ‰§è¡Œ=å³è¾¹çš„æ–¹æ³• */ request.onreadystatechange=function() &#123; //å‰åŠæ®µè¡¨ç¤ºreadyState==4æ±‚å·²å®Œæˆï¼Œä¸”å“åº”å·²å°±ç»ª //status==200 if (request.readyState==4 &amp;&amp; request.status==200) &#123; //æ˜¾ç¤ºå“åº”çš„ä¿¡æ¯ alert(request.responseText); &#125; &#125; æ¡ˆä¾‹ï¼šæ ¡éªŒç”¨æˆ·å éœ€æ±‚ï¼šåœ¨ç™»å½•é¡µé¢ï¼Œå½“æˆ‘è¾“å…¥ç”¨æˆ·åçš„æ—¶å€™ï¼Œèƒ½å¤Ÿå»æ•°æ®åº“åˆ¤æ–­è¯¥ç”¨æˆ·åæ˜¯å¦å­˜åœ¨ã€‚ ç›´æ¥ä¸Šä»£ç äº†â€¦Controllerç±» Codeprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; //è·å–ä»é¡µé¢ä¼ è¾“è¿‡æ¥çš„nameï¼Œè°ƒç”¨æŒä¹…å±‚çš„æ–¹æ³•ï¼Œå°†è¿”å›ç»“æœä¼ è¾“åˆ°è¡¨ç°å±‚ request.setCharacterEncoding(&quot;UTF-8&quot;); //ä½œç”¨æ˜¯è®¾ç½®å¯¹å®¢æˆ·ç«¯è¯·æ±‚è¿›è¡Œé‡æ–°ç¼–ç çš„ç¼–ç ã€‚ String username = request.getParameter(&quot;username&quot;); userDao dao = new userDaoImpl(); System.out.println(username); try &#123; Long result = dao.getUserName(username); response.getWriter().println(result); &#125; catch (SQLException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125;&#125; å‰ç«¯é¡µé¢Code&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;&lt;script type=&quot;text/javascript&quot;&gt;//åˆ›å»ºXmlHttpRequestå¯¹è±¡ function ajaxFunction()&#123; var xmlHttp; try&#123; // Firefox, Opera 8.0+, Safari xmlHttp=new XMLHttpRequest(); &#125; catch (e)&#123; try&#123;// Internet Explorer xmlHttp=new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;); &#125; catch (e)&#123; try&#123; xmlHttp=new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;); &#125; catch (e)&#123;&#125; &#125; &#125; return xmlHttp; &#125; function checkUserName() &#123; //1.è·å–XMLHttpRequestå¯¹è±¡ var request=new ajaxFunction(); //è·å–æ–‡æœ¬æ¡†çš„nameå€¼ var name=document.getElementById(&quot;name&quot;).value; //2.å‘é€æ¶ˆæ¯ /*æƒ³å°è¯•ä¸€ä¸‹å·²getæ–¹å¼ï¼Œä½†æ˜¯å¤±è´¥äº† String str=&quot;/AjaxAndJQuery/userServlet?username=&quot;+&quot;&apos;&quot;+name+&quot;&apos;&quot;; alert(str); request.open(&quot;GET&quot;,str,true); request.send(); */ request.open(&quot;POST&quot;,&quot;/AjaxAndJQuery/userServlet&quot;,true); //æ³¨æ„ï¼šå¦‚æœæˆ‘éœ€è¦å¸¦å‚æ•°è¯·æ±‚å‘¢ï¼Ÿå¦‚æœéœ€è¦å¸¦å‚è®¿é—®ï¼Œåˆ™éœ€è¦åŠ ä¸Šè¿™ä¸¤è¡Œ request.setRequestHeader(&quot;Content-type&quot;,&quot;application/x-www-form-urlencoded&quot;); //è§£é‡Šï¼šå¦‚æœä½¿ç”¨çš„æ˜¯POSTæ–¹å¼å¸¦æ•°æ®ï¼Œé‚£ä¹ˆè¿™é‡Œè¦æ·»åŠ è¯·æ±‚å¤´ï¼Œå¹¶è¯´æ˜æäº¤çš„æ•°æ®ç±»å‹æ˜¯ä¸€ä¸ªç»è¿‡URLç¼–ç çš„formè¡¨å•æ•°æ® request.send(&quot;username=&quot;+name); //3.æ¥æ”¶æ•°æ® /* æ³¨å†Œç›‘å¬çš„æ„æ€ï¼Œæœ‰ç‚¹åƒæ³¨å†Œä¸€ä¸ªç›‘å¬å™¨ï¼Œä¸€ä¼šå‡†å¤‡çš„çŠ¶æ€å‘ç”Ÿäº†æ”¹å˜ é‚£å°±æ‰§è¡Œ=å³è¾¹çš„æ–¹æ³• */ request.onreadystatechange=function() &#123; //å‰åŠæ®µè¡¨ç¤ºreadyState==4æ±‚å·²å®Œæˆï¼Œä¸”å“åº”å·²å°±ç»ª //status==200 if (request.readyState==4 &amp;&amp; request.status==200) &#123; //æ˜¾ç¤ºå“åº”çš„ä¿¡æ¯ //alert(request.responseText); var result=request.responseText; if(result==1)&#123; document.getElementById(&quot;span01&quot;).innerHTML=&quot;&lt;font color=&apos;red&apos;&gt;è¯¥ç”¨æˆ·åå·²å­˜åœ¨&lt;/font&gt;&quot;; &#125;else&#123; document.getElementById(&quot;span01&quot;).innerHTML=&quot;&lt;font color=&apos;green&apos;&gt;åˆæ³•!&lt;/font&gt;&quot;; &#125; &#125; &#125; &#125;&lt;/script&gt;&lt;title&gt;Insert title here&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;table border=&quot;1&quot; width=&quot;500&quot;&gt; &lt;tr&gt; &lt;td&gt;ç”¨æˆ·å:&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; id=&quot;name&quot; onblur=&quot;checkUserName()&quot;&gt;&lt;span id=&quot;span01&quot;&gt;&lt;/span&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;å¯†ç &lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;é‚®ç®±&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;ç®€ä»‹&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td colspan=&quot;2&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;æ³¨å†Œ&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt;&lt;/body&gt;&lt;/html&gt;","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"javaWebåŸºç¡€","slug":"javaWebåŸºç¡€","permalink":"http://SlectRxz.github.io/tags/javaWebåŸºç¡€/"}]},{"title":"SpringMVCå­¦ä¹ æ—¥å¿—ï¼ˆ4ï¼‰","slug":"java/SpringMvc(4)","date":"2019-05-07T16:00:00.000Z","updated":"2019-12-20T12:05:03.860Z","comments":true,"path":"2019/05/08/java/SpringMvc(4)/","link":"","permalink":"http://SlectRxz.github.io/2019/05/08/java/SpringMvc(4)/","excerpt":"SpringMVCçš„å¼‚å¸¸å¤„ç†å™¨ï¼Œæ‹¦æˆªå™¨ï¼Œå›¾ç‰‡ä¸Šä¼ çš„å®ç°(Tomcatçš„è™šæ‹Ÿç›®å½•çš„è®¾ç½®)","text":"SpringMVCçš„å¼‚å¸¸å¤„ç†å™¨ï¼Œæ‹¦æˆªå™¨ï¼Œå›¾ç‰‡ä¸Šä¼ çš„å®ç°(Tomcatçš„è™šæ‹Ÿç›®å½•çš„è®¾ç½®) åœ¨ä¸‰æ¬¡å­¦ä¹ å·²ç»ç®€å•ä»‹ç»äº†springmvcå·¥ç¨‹çš„æ­å»ºï¼Œspringmvcçš„ä¸‰å¤§ç»„ä»¶ï¼Œå‚æ•°ç»‘å®šï¼Œ@Controllerè¿”å›å€¼ï¼Œä¸‹é¢ä»‹ç»springmvcçš„åŠŸèƒ½é…ç½®ï¼Œåç»­æ·»åŠ â€¦ 1.å¼‚å¸¸å¤„ç†å™¨ ä½¿ç”¨åœºæ™¯ï¼šåœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‡ºç°å¼‚å¸¸ï¼Œæ­¤æ—¶ç›´æ¥è¿”å›ç”¨æˆ·å¼‚å¸¸é¡µé¢æ˜¯åŠå…¶ä¸å‹å¥½çš„ï¼Œåšä¸€ä¸ªå…¨å±€å¼‚å¸¸å¤„ç†å™¨ï¼Œå¤„ç†æ‰€æœ‰æ²¡æœ‰å¤„ç†è¿‡çš„è¿è¡Œæ—¶å¼‚å¸¸ç”¨äºæ›´å‹å¥½åœ°æç¤ºç”¨æˆ·ã€‚ å¤„ç†æ€è·¯ï¼šç³»ç»Ÿä¸­çš„å¼‚å¸¸åŒ…æ‹¬ä¸¤ç±»ï¼šé¢„æœŸå¼‚å¸¸å’Œè¿è¡Œæ—¶å¼‚å¸¸ RuntimeExceptionï¼Œå‰è€…é€šè¿‡æ•è·å¼‚ä»è€Œè·å–å¼‚å¸¸ä¿¡æ¯ï¼Œæˆ–è€…é€šè¿‡æµ‹è¯•å‡å°‘è¿è¡Œæ—¶å¼‚å¸¸çš„å‘ç”Ÿã€‚å…¶ä¸­daoï¼Œserviceï¼ŒControlleréƒ½ç”¨throws Exceptionå‘ä¸ŠæŠ›å‡ºï¼Œæœ€åæœ‰sringmvcå‰ç«¯æ§åˆ¶å™¨äº¤ç”±å¼‚å¸¸å¤„ç†å™¨å»å¤„ç†ã€‚HandlerExceptionResolver(å¼‚å¸¸å¤„ç†å™¨) å…·ä½“å®ç°ï¼š åˆ›å»ºå…¨å±€å¼‚å¸¸å¤„ç†å™¨ Codepublic class CustomerExceptionResolve implements HandlerExceptionResolver &#123; @Override public ModelAndView resolveException(HttpServletRequest request, HttpServletResponse response, Object handle, Exception e) &#123; // TODO Auto-generated method stub //å“åº”ç”¨æˆ·é”™è¯¯æç¤º ModelAndView modelAndView = new ModelAndView(); String message=&quot;é¡µé¢é”™è¯¯&quot;; //è‡ªå®šä¹‰å¼‚å¸¸ï¼Œæ˜¾ç¤ºè‡ªå®šä¹‰ä¿¡æ¯ if(e instanceof MyException)&#123; message = ((MyException)e).getMessage(); &#125; //è¿”å›é”™è¯¯æ¶ˆæ¯ modelAndView.addObject(&quot;msg&quot;, message); //å“åº”é”™è¯¯æç¤ºé¡µé¢ modelAndView.setViewName(&quot;error&quot;); return modelAndView; &#125;&#125; é…ç½®å¼‚å¸¸å¤„ç†å™¨ï¼ˆspringmvc.xmlï¼‰ Code&lt;!-- é…ç½®å…¨å±€å¼‚å¸¸å¤„ç†å™¨ --&gt;&lt;bean class=&quot;ctgu.utils.CustomerExceptionResolve&quot;/&gt; æµ‹è¯• Code/** * å…¨å±€å¼‚å¸¸å¤„ç† * åŒ…æ‹¬è‡ªå®šä¹‰å¼‚å¸¸ä¿¡æ¯ * @throws MyException */ @RequestMapping(&quot;/error&quot;) public void MyError() throws MyException&#123;// int a=1/0; /** * æ¨¡æ‹Ÿå•†å“æŸ¥è¯¢ä¸åˆ°çš„åœºæ™¯ * è¿™æ ·çš„è¯ï¼Œé”™è¯¯é¡µé¢æ— éœ€å®šä¹‰å¤šä¸ªï¼Œè€Œç›´æ¥æŠ›å‡ºexception,ç„¶åå…¨å±€å¼‚å¸¸å¤„ç†å™¨æ¥æ”¶åå¤„ç† */ if(true)&#123; throw new MyException(&quot;ä½ æŸ¥æ‰¾çš„å•†å“ä¸å­˜åœ¨&quot;); &#125; &#125; 2.æ‹¦æˆªå™¨ åº”ç”¨ï¼šspringmvcçš„å¤„ç†å™¨æ‹¦æˆªå™¨ç±»ä¼¼äºservletä¸­çš„è¿‡æ»¤å™¨Filterï¼Œç”¨äºå¤„ç†å™¨è¿›è¡Œé¢„å¤„ç†å’Œåå¤„ç† å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„ç±»å»ç»§æ‰¿HandlerInterceptoræ¥å£ï¼› afterCompletion():åªè¦æ”¾è¡Œäº†éƒ½ä¼šæ‰§è¡Œ ç”¨äºï¼šå¤„ç†å¼‚å¸¸ï¼Œè®°å½•æ—¥å¿— postHandle():åœ¨æ§åˆ¶å™¨COntrolleræ‰§è¡Œä¹‹åï¼Œè¿”å›ModelAndViewè§†å›¾ï¼Œä¹‹å‰è¢«æ‰§è¡Œ ä½œç”¨ï¼šè®¾ç½®æˆ–æ¸…ç†é¡µé¢å…±ç”¨å‚æ•°ï¼Œæ¯”å¦‚æ ‡é¢˜æ å…±ç”¨ preHandle():åœ¨æ‰§è¡ŒControlleræ–¹æ³•ä¹‹å‰æ—¶æ‰§è¡Œ ä½œç”¨ï¼šç™»å½•æ‹¦æˆªï¼Œç”¨æˆ·è®¤è¯ Codepublic class UserIntercepter implements HandlerInterceptor &#123; /** * åªè¦æ”¾è¡Œäº†éƒ½ä¼šæ‰§è¡Œ * ç”¨äºï¼šå¤„ç†å¼‚å¸¸ï¼Œè®°å½•æ—¥å¿— */ @Override public void afterCompletion(HttpServletRequest arg0, HttpServletResponse arg1, Object arg2, Exception arg3) throws Exception &#123; // TODO Auto-generated method stub //System.out.println(&quot;afterCompletionæ‰§è¡Œ...&quot;); &#125; /** * åœ¨æ§åˆ¶å™¨COntrolleræ‰§è¡Œä¹‹åï¼Œè¿”å›ModelAndViewè§†å›¾ï¼Œä¹‹å‰è¢«æ‰§è¡Œ * ä½œç”¨ï¼šè®¾ç½®æˆ–æ¸…ç†é¡µé¢å…±ç”¨å‚æ•°ï¼Œæ¯”å¦‚æ ‡é¢˜æ å…±ç”¨ */ @Override public void postHandle(HttpServletRequest arg0, HttpServletResponse arg1, Object arg2, ModelAndView arg3) throws Exception &#123; // TODO Auto-generated method stub //System.out.println(&quot;postHandleæ‰§è¡Œ...&quot;); &#125; /** * åœ¨æ‰§è¡ŒControlleræ–¹æ³•ä¹‹å‰æ—¶æ‰§è¡Œ * ä½œç”¨ï¼šç™»å½•æ‹¦æˆªï¼Œç”¨æˆ·è®¤è¯ */ @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object arg2) throws Exception &#123; // TODO Auto-generated method stub //System.out.println(&quot;preHandleæ‰§è¡Œ...&quot;); String name = (String) request.getSession().getAttribute(&quot;username&quot;); if(name!=null)&#123; //æ”¾è¡Œ //å½“æˆ‘ä»¬è¾“å…¥å…¶ä»–URLçš„æ—¶å€™ï¼Œå¿…é¡»åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å®Œæˆç™»å½•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå¿…é¡»è¿”å›ç™»å½•é¡µé¢ return true; &#125;else&#123; response.sendRedirect(request.getContextPath()+&quot;/user/toLogin.action&quot;); return false; &#125; &#125;&#125; springmvc.xmlçš„é…ç½®ï¼šCode&lt;!-- é…ç½®æ‹¦æˆªå™¨ --&gt; &lt;mvc:interceptors&gt; &lt;mvc:interceptor&gt; &lt;!-- é…ç½®æ‹¦æˆªåœ°å€ --&gt; &lt;mvc:mapping path=&quot;/**/&quot;/&gt; &lt;!-- é…ç½®ä¸æ‹¦æˆªåœ°å€ --&gt; &lt;mvc:exclude-mapping path=&quot;/user/*&quot;/&gt; &lt;bean class=&quot;ctgu.intercepter.UserIntercepter&quot;/&gt; &lt;/mvc:interceptor&gt; &lt;/mvc:interceptors&gt; è¯´æ˜ï¼šæ‹¦æˆªå™¨å¯ä»¥é…ç½®å¤šä¸ªï¼Œå³é…ç½®å¤šä¸ª mvc:interceptorï¼Œä½†æ˜¯å¦‚æœç¬¬ä¸€ä¸ªæ‹¦æˆªå™¨preHandleræ²¡æœ‰æ”¾è¡Œï¼ˆè¿”å›çš„æ˜¯falseï¼‰ï¼Œé‚£å…¶ä»–çš„ä¸¤ä¸ªæ–¹æ³•ä¹Ÿä¸ä¼šæ‰§è¡Œï¼Œç¬¬äºŒä¸ªæ‹¦æˆªå™¨çš„æ‰€æœ‰æ–¹æ³•éƒ½ä¸ä¼šæ‰§è¡Œï¼ŒControllerä¹Ÿä¸æ‰§è¡Œäº†ã€‚é—®ï¼šå½“æœ‰ä¸¤ä¸ªå³ä¸¤ä¸ªä»¥ä¸Šçš„æ‹¦æˆªå™¨å­˜åœ¨æ—¶ï¼ŒafterCompletion()ã€postHandle()ã€preHandle()çš„æ‰§è¡Œé¡ºåºæ˜¯å¦‚ä½•çš„ï¼Ÿ preHandle()æŒ‰ç…§æ‹¦æˆªå™¨å®šä¹‰çš„é¡ºåºè°ƒç”¨ postHandle()æŒ‰ç…§æ‹¦æˆªå™¨å®šä¹‰é€†åºè°ƒç”¨ afterCompletion()æŒ‰ç…§æ‹¦æˆªå™¨å®šä¹‰é€†åºè°ƒç”¨ postHandle()åœ¨æ‹¦æˆªå™¨é“¾å†…æ‰€æœ‰æ‹¦æˆªå™¨è¿”å›æˆåŠŸè°ƒç”¨ afterCompletion()åªæœ‰åœ¨preHandleè¿”å›trueæ‰è°ƒç”¨ 3.å›¾ç‰‡ä¸Šä¼  é…ç½®è™šæ‹Ÿç›®å½• ç›¸å½“äºé…ç½®äº†ä¸€ä¸ªtomcatä¸æœ¬åœ°ç£ç›˜çš„è·¯å¾„æ˜ å°„ã€‚ ç›¸å½“äºåœ¨tomcatçš„server.xmlä¸­æ·»åŠ äº†ä¸€è¡Œ &lt;Context docBase=â€springmvc03-mybatisâ€ path=â€/â€œreloadable=â€trueâ€ source=â€org.eclipse.jst.jee.server:springmvc03-mybatisâ€/&gt; å¯¼jaråŒ…commons-fileupload-1.2.2.jarcommons-io-2.4.jar jspé¡µé¢ æ³¨æ„methodä¸€å®šè¦ä¸ºâ€postâ€enctype=â€multipart/form-dataâ€ Code&lt;form id=&quot;itemForm&quot; action=&quot;$&#123;pageContext.request.contextPath &#125;/updateItem.action&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;&lt;tr&gt; &lt;td&gt;å•†å“å›¾ç‰‡&lt;/td&gt; &lt;td&gt; &lt;c:if test=&quot;$&#123;item.pic !=null&#125;&quot;&gt; &lt;img src=&quot;/pic/$&#123;item.pic&#125;&quot; width=100 height=100/&gt;&lt;br/&gt; &lt;/c:if&gt; &lt;input type=&quot;file&quot; name=&quot;pictureFile&quot;/&gt; &lt;/td&gt;&lt;/tr&gt; å›¾ç‰‡ä¸Šä¼ å¤„ç†ä»£ç Controller æ€è·¯ï¼š æ‹¿åˆ°å›¾ç‰‡çš„åå­—ï¼Œæ ¹æ®æ‰˜å›¾ç‰‡åæ‹¿åˆ°å…¶åç¼€åï¼Œå†æ‹¼æ¥ä¸€ä¸ªå›¾ç‰‡çš„æ–°çš„åå­— å°†å…¶å†™å…¥ç£ç›˜ï¼ŒæŠŠå›¾ç‰‡çš„è·¯å¾„+åå­—ï¼ˆè™šæ‹Ÿç›®å½•ï¼‰å†™å…¥æ•°æ®åº“ åœ¨tomcatå»ºç«‹ä¸€ä¸ªè™šæ‹Ÿç›®å½•ï¼Œå› ä¸ºå‰ç«¯é¡µé¢æ ‡ç­¾æ˜¾ç¤º æˆ‘ä»¬ä¸Šä¼ ä¸Šå»çš„å›¾ç‰‡ï¼Œéœ€è¦controllerå±‚å¯¹å…¶åšå‡ºå¤„ç†ï¼š 1.å°†å…¶ä¿å­˜åœ¨è™šæ‹Ÿç›®å½•å¯¹åº”çš„ç›®å½•ï¼Œå¦åˆ™å‰ç«¯é¡µé¢æ‰¾ä¸åˆ°ï¼› 2.ç»™å…¶ä¸€ä¸ªæ–°çš„åå­—ï¼ˆè®¾è®¡åˆ°è·å–å…¶åç¼€ï¼Œç»™ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼‰å¹¶èµ‹å€¼ç»™item.pic è¯´æ˜ï¼šç›¸å½“äºå°†ä¸Šä¼ çš„å›¾ç‰‡ä¿å­˜åœ¨tomcatèƒ½æ‰¾çš„åˆ°çš„ç›®å½• (å‰é¢æ˜ å°„çš„è™šæ‹Ÿç›®å½•ï¼‰,ä½†æ˜¯æˆ‘ä»¬å°†å…¶ä¿å­˜çš„æ—¶å€™ç»™å…¶ä¸€ä¸ªæ–°åå­—ï¼ˆé˜²æ­¢é‡å¤ï¼‰ï¼Œä¿å­˜åœ¨æ•°æ®åº“é‡Œé¢çš„æ˜¯å›¾ç‰‡çš„åå­—ã€‚ Code@RequestMapping(value=&quot;/updateItem.action&quot;) public String updateItem(Model model,MultipartFile pictureFile,Item item) throws Exception&#123; //ç”Ÿæˆå”¯ä¸€æ ‡è¯†ä½œä¸ºå›¾ç‰‡id,uuid String name=UUID.randomUUID().toString(); //è·å–ä¸Šä¼ å›¾ç‰‡çš„åå­— String originalFilename = pictureFile.getOriginalFilename(); //å¾—åˆ°å›¾ç‰‡ååç¼€ String newname = originalFilename.substring(originalFilename.lastIndexOf(&quot;.&quot;)); //ä¿å­˜åœ¨ç£ç›˜ File file = new File(&quot;C:\\\\Users\\\\DELL\\\\Pictures\\\\java\\\\&quot;+name+newname); pictureFile.transferTo(file); //æŠŠå›¾ç‰‡åä¿å­˜åˆ°æ•°æ®åº“ item.setPic(name+newname); itemService.update(item); model.addAttribute(&quot;item&quot;, item); model.addAttribute(&quot;msg&quot;, &quot;ä¿®æ”¹å•†å“æˆåŠŸ&quot;); return &quot;itemEdit&quot;; &#125; 4.jsonäº¤äº’5.Restful","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"æ¡†æ¶å­¦ä¹ ","slug":"æ¡†æ¶å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/æ¡†æ¶å­¦ä¹ /"}]},{"title":"SpringMVCå­¦ä¹ æ—¥å¿—ï¼ˆ3ï¼‰","slug":"java/SpringMVC(3)","date":"2019-04-28T16:00:00.000Z","updated":"2019-12-20T12:04:53.317Z","comments":true,"path":"2019/04/29/java/SpringMVC(3)/","link":"","permalink":"http://SlectRxz.github.io/2019/04/29/java/SpringMVC(3)/","excerpt":"SpringMVCçš„å‚æ•°ç»‘å®šï¼ˆget/postè¯·æ±‚æ–¹å¼ï¼‰ï¼Œ@RequestMapping,Controllerè¿”å›å€¼ã€‚","text":"SpringMVCçš„å‚æ•°ç»‘å®šï¼ˆget/postè¯·æ±‚æ–¹å¼ï¼‰ï¼Œ@RequestMapping,Controllerè¿”å›å€¼ã€‚ å¼•å…¥ï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œæ§åˆ¶å±‚éœ€è¦æ¥æ”¶ä»æµè§ˆå™¨æäº¤çš„æ•°æ®ï¼Œé€šè¿‡è¯¥æ•°æ®è°ƒç”¨æœåŠ¡å±‚å»å¤„ç†ã€‚é‚£ä¹ˆï¼Œå…¶æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ 1.SrpingMvcçš„å‚æ•°ç»‘å®š ç†è§£ï¼šå½“æµè§ˆå™¨é€‰æ‹©æäº¤ï¼ˆGET/POSTç­‰ï¼‰æ–¹å¼ï¼Œç©¶ç«Ÿæäº¤çš„æ˜¯å“ªäº›ä¸œè¥¿ï¼Ÿ 1ï¼‰GETæ–¹å¼æäº¤ CodeGET /day09/testMethod.html?name=eric&amp;password=123456 HTTP/1.1Host: localhost:8080User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:35.0) Gecko/20100101 Firefox/35.0Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8Accept-Language: zh-cn,en-us;q=0.8,zh;q=0.5,en;q=0.3Accept-Encoding: gzip, deflateReferer: http://localhost:8080/day09/testMethod.htmlConnection: keep-alive aï¼‰åœ°å€æ ï¼ˆURIï¼‰ä¼šè·Ÿä¸Šå‚æ•°æ•°æ®ã€‚ä»¥ï¼Ÿå¼€å¤´ï¼Œå¤šä¸ªå‚æ•°ä¹‹é—´ä»¥&amp;åˆ†å‰²ã€‚ bï¼‰GETæäº¤å‚æ•°æ•°æ®æœ‰é™åˆ¶ï¼Œä¸è¶…è¿‡1KBã€‚ cï¼‰GETæ–¹å¼ä¸é€‚åˆæäº¤æ•æ„Ÿå¯†ç ã€‚ dï¼‰æ³¨æ„ï¼š æµè§ˆå™¨ç›´æ¥è®¿é—®çš„è¯·æ±‚ï¼Œé»˜è®¤æäº¤æ–¹å¼æ˜¯GETæ–¹å¼ 2ï¼‰POSTæ–¹å¼æäº¤CodePOST /day09/testMethod.html HTTP/1.1Host: localhost:8080User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:35.0) Gecko/20100101 Firefox/35.0Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8Accept-Language: zh-cn,en-us;q=0.8,zh;q=0.5,en;q=0.3Accept-Encoding: gzip, deflateReferer: http://localhost:8080/day09/testMethod.htmlConnection: keep-alive name=eric&amp;password=123456 aï¼‰å‚æ•°ä¸ä¼šè·Ÿç€URIåé¢ã€‚å‚æ•°è€Œæ˜¯è·Ÿåœ¨è¯·æ±‚çš„å®ä½“å†…å®¹ä¸­ã€‚æ²¡æœ‰ï¼Ÿå¼€å¤´ï¼Œå¤šä¸ªå‚æ•°ä¹‹é—´ä»¥&amp;åˆ†å‰²ã€‚ bï¼‰POSTæäº¤çš„å‚æ•°æ•°æ®æ²¡æœ‰é™åˆ¶ã€‚ cï¼‰POSTæ–¹å¼æäº¤æ•æ„Ÿæ•°æ®ã€‚ 1.1åŸºæœ¬å‚æ•°ç±»å‹(int,double,Integer,Stringâ€¦)1.å¯ä»¥ä½¿ç”¨requestè·å–å‚æ•° Viewå¯¹è±¡å¯ä»¥ä½¿ç”¨Stringè¿”å›å€¼ä»£æ›¿ ã€ModelMapï¼šä½¿ç”¨æ•ˆæœä¸Modelç›¸åŒï¼Œæ˜¯Modelæ¥å£çš„å®ç°ç±»ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯Modelï¼Œspringmvcä¼šå°†å…¶å®ä¾‹åŒ–ã€‘ ã€ä¸ç®¡æ˜¯Modelè¿˜æ˜¯ModelAndViewï¼Œå…¶æœ¬è´¨éƒ½æ˜¯ä½¿ç”¨Requestå¯¹è±¡å‘jspä¼ é€’æ•°æ®ã€‘ Code @RequestMapping(&quot;itemEdit&quot;) public String queryItemById(HttpServletRequest request,Model model)&#123; Integer id = Integer.parseInt(request.getParameter(&quot;id&quot;)); Item item = itemService.queryItemById(id); //å°†å•†å“æ•°æ®æ”¾åœ¨æ¨¡å‹ä¸­ model.addAttribute(&quot;item&quot;, item); //è¦è¿”å›çš„è§†å›¾å¯¹è±¡ï¼ˆè¿”å›åˆ°å“ªä¸€ä¸ªjspé¡µé¢ï¼‰ return &quot;itemEdit&quot;;&#125; ä½†æ˜¯æˆ‘ä»¬ä¸€ç›´ä½¿ç”¨requestè·å–éº»çƒ¦äº†ï¼Œå½“è¯·æ±‚å‚æ•°åç§°ä¸å¤„ç†å™¨å½¢å‚å‚æ•°åç§°ä¸€è‡´æ—¶ï¼Œå°†ä¼šè¯·æ±‚å‚æ•°è¿›è¡Œç»‘å®š (å‚æ•°ç»‘å®š)æ¥æ”¶ç®€å•çš„å‚æ•°ä¼ é€’ï¼ˆæ¯æ¬¡éƒ½ä»Requestè·å–æ¯”è¾ƒéº»çƒ¦ï¼‰ å…¶ä»–åŸºæœ¬ç±»å‹ String Integer Double Floatã€‚ã€‚ è¯´æ˜ï¼šå¯¹äºå¸ƒå°”ç±»å‹çš„å‚æ•°ï¼Œè¯·æ±‚çš„å‚æ•°å€¼ä¸ºtrueæˆ–falseã€‚æˆ–è€…1/0 è¯·æ±‚urlï¼šCode* å¤„ç†å™¨æ–¹æ³•ï¼š```public String editItem(Model model,Integer id,Boolean status) ã€æ³¨ï¼šå¿…é¡»è¦æ±‚å¤„ç†å™¨å½¢å‚ä¸è¡¨å•ä¸­çš„æäº¤nameå­—æ®µåç§°ç›¸åŒã€‘åé¢ä»‹ç»ä¸åŒå¦‚ä½•å¤„ç† Code@RequestMapping(&quot;itemEdit&quot;) public String queryItemById(int id,Model model)&#123; Item item = itemService.queryItemById(id); //å°†å•†å“æ•°æ®æ”¾åœ¨æ¨¡å‹ä¸­ model.addAttribute(&quot;item&quot;, item); //è¦è¿”å›çš„è§†å›¾å¯¹è±¡ï¼ˆè¿”å›åˆ°å“ªä¸€ä¸ªjspé¡µé¢ï¼‰ return &quot;itemEdit&quot;;&#125; é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå½“æˆ‘ä»¬å¤„ç†å™¨å½¢å‚å‚æ•°ä¸è¯·æ±‚å‚æ•°ä¸ä¸€è‡´æ—¶å’‹åŠå‘¢ï¼Ÿ @RequestParam value:å‚æ•°åå­—ï¼Œéœ€è¦ä¸è¡¨å•æäº¤çš„åå­—ç›¸åŒ Code&lt;a href=&quot;$&#123;pageContext.request.contextPath &#125;/itemEdit.action?id123=$&#123;item.id&#125;&quot;&gt; required:é»˜è®¤trueï¼ŒRequestè¯·æ±‚ä¸­ä¸€å®šè¦æœ‰ç›¸åº”çš„å‚æ•°ï¼Œæ‰¾ä¸åˆ°å°†æŠ¥é”™400 defaultValue:é»˜è®¤å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°ç»™å…¶ä¸€ä¸ªé»˜è®¤å€¼ Code@RequestMapping(&quot;itemEdit&quot;)public String queryItemById(@RequestParam(value=&quot;id123&quot;,required=true,defaultValue=&quot;1&quot;)int ids,Model model)&#123; Item item = itemService.queryItemById(ids); //å°†å•†å“æ•°æ®æ”¾åœ¨æ¨¡å‹ä¸­ model.addAttribute(&quot;item&quot;, item); //è¦è¿”å›çš„è§†å›¾å¯¹è±¡ï¼ˆè¿”å›åˆ°å“ªä¸€ä¸ªjspé¡µé¢ï¼‰ return &quot;itemEdit&quot;; &#125; 1.2 POJOç±»å‹(å¯¹è±¡ç±»å‹) å¦‚æœæˆ‘ä»¬ä¸€æ¬¡æ€§æäº¤çš„å‚æ•°å¾ˆå¤šï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡æ¥æ¥æ”¶ è¦æ±‚ï¼špojoå¯¹è±¡çš„å±æ€§åä¸è¡¨å•ä¸­çš„inputçš„nameä¸€è‡´ éœ€æ±‚ï¼šå°†é¡µé¢ä¿®æ”¹åçš„å•†å“ä¿å­˜åœ¨æ•°æ®åº“ä¸­ è¯·æ±‚urlï¼š/updateItem.action å“åº”å†…å®¹ï¼šç»™ä¸€ä¸ªæ›´æ–°æˆåŠŸçš„æç¤º Code@RequestMapping(&quot;/updateItem.action&quot;)public String queryItemById(Model model,Item item)&#123; itemService.update(item); //å°†å•†å“æ•°æ®æ”¾åœ¨æ¨¡å‹ä¸­ model.addAttribute(&quot;item&quot;, item); //è¿”å›ä¸€ä¸ªæˆåŠŸçš„ä¿¡æ¯ model.addAttribute(&quot;msg&quot;, &quot;å•†å“ä¿¡æ¯æ›´æ–°æˆåŠŸ&quot;); //è¦è¿”å›çš„è§†å›¾å¯¹è±¡ï¼ˆè¿”å›åˆ°å“ªä¸€ä¸ªjspé¡µé¢ï¼‰ return &quot;itemEdit&quot;;&#125; 1.3å°è£…çš„POJO(è‡ªå®šä¹‰å®ä½“ç±»)å°è£…ç±»ï¼š Codepublic class QueryVo &#123; private Item item; private String message; private List&lt;Item&gt; items; . . .get/setæ–¹æ³•... é€šè¿‡æˆå‘˜.å±æ€§æ¥è®¿é—® éœ€è¦æ›´æ”¹è¡¨å•çš„ä¼ é€’å½¢å¼ Code@RequestMapping(&quot;/queryItem&quot;) public String queryItem(Model model,QueryVo item)&#123; //ç›´æ¥è¾“å‡ºè¿”å›çš„å°è£…å¯¹è±¡çš„å€¼ System.out.println(item.getItem().getName()); System.out.println(item.getItem().getPrice()); System.out.println(item.getMessage()); List&lt;Item&gt; list = itemService.queryItemList(); model.addAttribute(&quot;itemList&quot;, list); return &quot;itemList&quot;;&#125; å¯¹åº”çš„è¡¨å•ï¼š Code&lt;c:forEach items=&quot;$&#123;itemList &#125;&quot; var=&quot;item&quot;&gt; &lt;tr&gt; &lt;td&gt;$&#123;item.name &#125;&lt;/td&gt; &lt;td&gt;$&#123;item.price &#125;&lt;/td&gt; &lt;td&gt;&lt;fmt:formatDate value=&quot;$&#123;item.createtime&#125;&quot;pattern=&quot;yyyy-MM-dd HH:mm:ss&quot; /&gt;&lt;/td&gt; &lt;td&gt;$&#123;item.detail &#125;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;$&#123;pageContext.request.contextPath &#125;/itemEdit.action?id=$&#123;item.id&#125;&quot;&gt;ä¿®æ”¹&lt;/a&gt;&lt;/td&gt; &lt;/tr&gt;&lt;/c:forEach&gt; 1.4æ•°ç»„ æƒ…æ™¯ï¼šåˆ—è¡¨ä¸­æ¯ä¸ªå•†å“å‰æœ‰ä¸€ä¸ªcheckbookï¼Œé€‰ä¸­å¤šä¸ªå•†å“åç‚¹å‡»åˆ é™¤æŒ‰é’®ï¼ŒæŠŠå•†å“idä¼ é€’ç»™Controllerï¼Œå¾—åˆ°ä¸€ä¸ªids[] å¯ä»¥ç›´æ¥æ¥æ”¶æˆ–ä½¿ç”¨pojoå±æ€§æ¥æ”¶ï¼Œå‰è€…ç›¸å½“äºæ˜¯ç”¨ä¸€ä¸ªæ•°ç»„æ¥æ”¶äº†å¤šä¸ªids(JSPé‡Œçš„nameå±æ€§)ï¼Œåè€…æ˜¯ç›´æ¥å¯¹åº”pojoçš„å±æ€§ Code@RequestMapping(&quot;/queryItem&quot;) public String queryItem(Model model,int[]ids,QueryVo vo)&#123; if(vo.getItem()!=null)&#123; System.out.println(vo); &#125; //é—®é¢˜ï¼šcheckboxå¦‚æœä¸é€‰ï¼Œåˆ™è¿”å›ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œä¸çŸ¥é“å’‹æ•´ //ç›´æ¥è¾“å‡ºè¿”å›çš„å°è£…å¯¹è±¡çš„å€¼ if(ids.length&gt;0 &amp;&amp; ids!=null)&#123; for (Integer integer : ids) &#123; System.out.println(integer); &#125; &#125; List&lt;Item&gt; list = itemService.queryItemList(); model.addAttribute(&quot;itemList&quot;, list); return &quot;itemList&quot;;&#125; 1.5Listã€Mapç±»å‹ åœºæ™¯éœ€æ±‚ï¼šåœ¨ç±»è¡¨ä¸­å®ç°æ‰¹é‡ä¿®æ”¹æäº¤åçš„å•†å“æ•°æ® å®šä¹‰pojo Codepublic class QueryVo &#123; private Item item; private String message; private List&lt;Item&gt; items; ... ä¿®æ”¹jspnameå±æ€§å¿…é¡»æ˜¯listå±æ€§å+ä¸‹è¡¨+å…ƒç´ å±æ€§æ³¨ï¼šæ­¤å¤„æ—¥æœŸç±»å‹æ— å¦¨è‡ªåŠ¨ç»‘å®šï¼Œéœ€è¦è‡ªå®šä¹‰å‚æ•°ç»‘å®šæ—¥æœŸç±»å‹Code&lt;c:forEach items=&quot;$&#123;itemList &#125;&quot; var=&quot;item&quot; varStatus=&quot;s&quot;&gt; &lt;tr&gt; &lt;td&gt;&lt;input type=&quot;checkbox&quot; name=&quot;ids&quot; value=&quot;$&#123;item.id &#125;&quot; /&gt;&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;items[$&#123;s.index&#125;].name&quot;value=&quot;$&#123;item.name &#125;&quot; /&gt;&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;items[$&#123;s.index&#125;].price&quot; value=&quot;$&#123;item.price &#125;&quot; /&gt;&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;items[$&#123;s.index&#125;].createtime&quot;value=&apos;&lt;fmt:formatDate value=&quot;$&#123;item.createtime&#125;&quot; pattern=&quot;yyyy-MM-dd HH:mm:ss&quot; /&gt;&apos; /&gt;&lt;/td&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;items[$&#123;s.index&#125;].detail&quot; value=&quot;$&#123;item.detail &#125;&quot; /&gt;&lt;/td&gt; &lt;td&gt;&lt;a href=&quot;$&#123;pageContext.request.contextPath &#125;/itemEdit.action?id=$&#123;item.id&#125;&quot;&gt;ä¿®æ”¹&lt;/a&gt;&lt;/td&gt; &lt;/tr&gt;&lt;/c:forEach&gt; è¿”å›çš„æ˜¯ä¸€ä¸ªListçš„é›†åˆï¼Œåœ¨jspæ˜¾ç¤ºä¸­ï¼Œéœ€è¦å…ˆå°†å•ä¸ªå¯¹è±¡å–å‡ºï¼Œæ•…éœ€è¦åŠ ä¸‹æ ‡è®¿é—®ã€‚Code@RequestMapping(value=&quot;/queryItem&quot;,method=&#123;RequestMethod.POST&#125;) public String queryItem(Model model,QueryVo vo)&#123; List&lt;Item&gt; items = vo.getItems(); //æ³¨æ„ï¼šå¦‚æœè¿›è¡Œæ›´æ–°æ“ä½œï¼Œé‚£ä¹ˆéœ€è¦æ›´æ”¹jspï¼ŒæŠŠidä¼ ç»™voä¸­çš„itemï¼Œä¸ç„¶æ²¡æœ‰ä¸»é”®æ— æ³•æ›´æ–° for (Item item : items) &#123; itemService.update(item); System.out.println(item); &#125; List&lt;Item&gt; itemList = itemService.queryItemList(); model.addAttribute(&quot;itemList&quot;, itemList); //è¿™ä¸ªreturnæ˜¯è·³è½¬åˆ°/WEB-INF/ä¸‹é¢çš„jspé¡µé¢ï¼Œè€Œä¸æ˜¯è·³è½¬åˆ°æ§åˆ¶å™¨çš„URLå› æ˜¯ä¸ªå¾ˆ return &quot;itemList&quot;; &#125; 2.@RequestMapping ä½œç”¨ï¼šé€šè¿‡@RequestMappingæ³¨è§£å¯ä»¥å®šä¹‰ä¸åŒçš„å¤„ç†å™¨æ˜ å°„è§„åˆ™ URLè·¯å¾„æ˜ å°„valueçš„å€¼æ˜¯æ•°ç»„ï¼Œå°†å¤šä¸ªurlæ˜ å°„åˆ°åŒä¸€ä¸ªæ–¹æ³•ä¸Š Code@RequestMapping(value=&#123;&quot;/itemList&quot;,&quot;/itemList2&quot;&#125;) æ·»åŠ åœ¨ç±»ä¸Š ä½œç”¨ï¼šæŒ‡å®šé€šç”¨è¯·æ±‚å‰ç¼€ï¼Œå¯å¯¹urlè¿›è¡Œåˆ†ç±»ç®¡ç† æ­¤æ—¶è®¿é—®åœ°å€ä¸ºï¼šhttp://localhost:8080/item/itemList.actionCode@RequestMapping(&quot;/item&quot;)public class ItemController &#123; //ç»‘å®šè¯·æ±‚åœ°å€ @RequestMapping(value=&#123;&quot;/itemList&quot;,&quot;/itemList2&quot;&#125;) public ModelAndView queryItemList()&#123; é™å®šè¯·æ±‚æ–¹æ³•Code@RequestMapping(value=&quot;/queryItem&quot;,method=&#123;RequestMethod.POST&#125;) 3.Controllerçš„è¿”å›å€¼3.1è¿”å›ModelAndViewCode@RequestMapping(&quot;/itemList&quot;) public ModelAndView queryItemList()&#123; List&lt;Item&gt; list = itemService.queryItemList(); ModelAndView modelAndView = new ModelAndView(); modelAndView.addObject(&quot;itemList&quot;,list); //è®¾ç½®é€»è¾‘è§†å›¾ï¼Œå‘Šè¯‰è¦è¿”å›åˆ°å“ªä¸€ä¸ªjsp modelAndView.setViewName(&quot;itemList&quot;); return modelAndView; &#125; 3.2è¿”å›void request ä¸ç»è¿‡è§†å›¾è§£æå™¨çš„ï¼Œè¿”å›è·¯å¾„å¿…é¡»æ˜¯å…¨è·¯å¾„ Code@RequestMapping(&quot;/itemReturn1&quot;) public void MyReturn1(HttpServletRequest request,HttpServletResponse response) throws Exception&#123; //é€šè¿‡requestè¯·æ±‚è½¬å‘,ä¸ä¼šæ”¹å˜URLçš„åœ°å€æ  request.getRequestDispatcher(&quot;/WEB-INF/jsp/itemList.jsp&quot;).forward(request, response);&#125; response é€šè¿‡responseè¯·æ±‚é‡å®šå‘ ã€æ³¨ï¼šã€‘response.sendRedirect(â€œâ€); å‚æ•°æ˜¯URLï¼Œå³æµè§ˆå™¨ä¸­çš„åœ°å€ responseæ˜¯å“åº”ï¼Œè€ŒModelè¿”å›ï¼Œç»è¿‡è§†å›¾è§£æå™¨ï¼Œspringmvcå·²ç»å¸®æˆ‘ä»¬è§£ç äº†,åŒºåˆ«ï¼šä¸€ä¸ªæ˜¯ç›´æ¥æ‰¾åˆ°jspï¼Œå¦å¤–ä¸€ä¸ªæ˜¯æ‰¾åˆ°ä¸€ä¸ªæ§åˆ¶ç±»/ Code@RequestMapping(&quot;/itemReturn1&quot;) public void MyReturn1(HttpServletRequest request,HttpServletResponse response) throws Exception&#123; response.sendRedirect(&quot;/itemList.action&quot;); &#125; 3.3è¿”å›String è¿”å›è§†å›¾åå­—ï¼ˆé€»è¾‘è§†å›¾åï¼‰ è¿”å›çš„é€šè¿‡è§†å›¾è§£æå™¨è§£æä¸ºç‰©ç†è§†å›¾åœ°å€/WEB-INF/jsp/itemList.jspreturn â€œitemListâ€- Modelä¼ é€’æ•°æ®ï¼ˆå‘jspï¼‰ Viewå¯¹è±¡å¯ä»¥ä½¿ç”¨Stringè¿”å›å€¼ä»£æ›¿ ModelMapï¼šä½¿ç”¨æ•ˆæœä¸Modelç›¸åŒï¼Œæ˜¯Modelæ¥å£çš„å®ç°ç±»ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯Modelï¼Œspringmvcä¼šå°†å…¶å®ä¾‹åŒ– ä¸ç®¡æ˜¯Modelè¿˜æ˜¯ModelAndViewï¼Œå…¶æœ¬è´¨éƒ½æ˜¯ä½¿ç”¨Requestå¯¹è±¡å‘jspä¼ é€’æ•°æ®ã€‘ Code@RequestMapping(&quot;itemEdit&quot;) public String queryItemById(HttpServletRequest request,Model model)&#123; Integer id = Integer.parseInt(request.getParameter(&quot;id&quot;)); Item item = itemService.queryItemById(id); //å°†å•†å“æ•°æ®æ”¾åœ¨æ¨¡å‹ä¸­ model.addAttribute(&quot;item&quot;, item); //è¦è¿”å›çš„è§†å›¾å¯¹è±¡ï¼ˆè¿”å›åˆ°å“ªä¸€ä¸ªjspé¡µé¢ï¼‰ return &quot;itemEdit&quot;;&#125; redirectä¸forward å®ç°ä»ä¸€ä¸ªæ§åˆ¶å™¨è·³è½¬åˆ°å¦å¤–ä¸€ä¸ªæ§åˆ¶å™¨ Code@RequestMapping(&quot;/itemReturn2&quot;) public String MyReturn2()&#123; //ç›¸å½“äºèµ°çš„è§†å›¾è§£æå™¨ï¼Œç›´æ¥è®¿é—®jspé¡µé¢ //return &quot;itemList&quot;; //ç›¸å½“äºèµ°çš„è§†å›¾è§£æå™¨ï¼Œç›´æ¥è®¿é—®jspé¡µé¢ //return &quot;forward:/WEB-INF/jsp/itemList.jsp&quot;; /** * è¿™ç§å½¢å¼æ˜¯ç›´æ¥è·³è½¬åˆ°å¦å¤–æ§åˆ¶å™¨Controller */ return &quot;forward:/itemList2.action&quot;;//è¯·æ±‚åœ°å€ä¸ä¼šå˜ //return &quot;redirect:/itemList2.action&quot;; &#125;","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"æ¡†æ¶å­¦ä¹ ","slug":"æ¡†æ¶å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/æ¡†æ¶å­¦ä¹ /"}]},{"title":"SpringMVCå­¦ä¹ æ—¥å¿—ï¼ˆ2ï¼‰","slug":"java/SpringMVC(2)","date":"2019-04-19T16:00:00.000Z","updated":"2019-12-20T12:04:45.077Z","comments":true,"path":"2019/04/20/java/SpringMVC(2)/","link":"","permalink":"http://SlectRxz.github.io/2019/04/20/java/SpringMVC(2)/","excerpt":"SpringMVCæ•´åˆMybatisæ¡†æ¶ã€‚","text":"SpringMVCæ•´åˆMybatisæ¡†æ¶ã€‚ SpringMVCæ•´åˆMybatisæ€è·¯ï¼šDaoå±‚ SqlConfig.xml applicationContext-dao.xml æ•°æ®åº“è¿æ¥æ±  SqlSessionFactroyå¯¹è±¡ é…ç½®mapperåŒ…æ‰«æ Serviceå±‚ applicationContext-service.xmlåŒ…æ‰«æå…¶ï¼Œæ‰«æ@Serviceçš„æ³¨è§£ applicationContext-trans.xmlé…ç½®äº‹åŠ¡ Controllerå±‚ springmvc.xml åŒ…æ‰«æå™¨ï¼Œæ‰«æ@Controlleræ³¨è§£ é…ç½®æ³¨è§£é©±åŠ¨ é…ç½®è§†å›¾è§£æå™¨ é…ç½®å…¨å±€å¼‚å¸¸å¤„ç†å™¨ é…ç½®å¤šåª’ä½“å¤„ç†å™¨ é…ç½®æ‹¦æˆªå™¨ Web.xml é…ç½®Springå®¹é‡ç›‘å¬å™¨ï¼ˆæ‰¾åˆ°springæ–‡ä»¶ï¼‰ é…ç½®å‰ç«¯æ§åˆ¶å™¨ï¼ˆspringmvcï¼‰ é…ç½®æ–‡ä»¶1.SqlConfig.xml ç©ºå®¢æ–‡ä»¶ï¼ˆéƒ½åœ¨applicationContextä¸­å¯ä»¥å®Œæˆé…ç½®ï¼‰ï¼Œä½†æ˜¯å¿…é¡»è¦æœ‰ã€‚Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE configurationPUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt;&lt;/configuration&gt; 2.applicationContext-dao.xml 1.æ•°æ®åº“è¿æ¥æ± çš„é…ç½®ï¼›2.SqlSessionFactroyé…ç½®3.mapperåŒ…æ‰«æCode&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.0.xsd&quot;&gt; &lt;!-- åŠ è½½é…ç½®æ–‡ä»¶ --&gt; &lt;context:property-placeholder location=&quot;classpath:db.properties&quot; /&gt; &lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;$&#123;jdbc.driver&#125;&quot; /&gt; &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot; /&gt; &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot; /&gt; &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot; /&gt; &lt;property name=&quot;maxActive&quot; value=&quot;10&quot; /&gt; &lt;property name=&quot;maxIdle&quot; value=&quot;5&quot; /&gt; &lt;/bean&gt; &lt;!-- sqlSessionFactoryé…ç½® --&gt; &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;!--é…ç½®mybatisçš„æ ¸å¿ƒæ–‡ä»¶ --&gt; &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis/SqlMapConfig.xml&quot; /&gt; &lt;!-- é…ç½®æ•°æ®åº“çš„æ•°æ®æº --&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; &lt;!-- é…ç½®åˆ«ååŒ…æ‰«æ --&gt; &lt;property name=&quot;typeAliasesPackage&quot; value=&quot;ctgu.pojo&quot; /&gt; &lt;/bean&gt; &lt;!-- é…ç½®åŒ…æ‰«æmapper --&gt; &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt; &lt;property name=&quot;basePackage&quot; value=&quot;ctgu.mapper&quot; /&gt; &lt;!-- optional unless there are multiple session factories defined --&gt; &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot; /&gt; &lt;/bean&gt;&lt;/beans&gt; 3.applicationContext-service.xml é…ç½®Serviceæ³¨è§£æ‰«æCode&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.0.xsd&quot;&gt; &lt;!-- é…ç½®serviceæ‰«æ --&gt; &lt;context:component-scan base-package=&quot;ctgu.service&quot;&gt;&lt;/context:component-scan&gt;&lt;/beans&gt; 4.applicationContext-trans.xml Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.0.xsd&quot;&gt; &lt;!-- äº‹åŠ¡ç®¡ç†å™¨ --&gt; &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;!-- æ•°æ®æº --&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; &lt;/bean&gt; &lt;!-- é€šçŸ¥ --&gt; &lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;&gt; &lt;tx:attributes&gt; &lt;!-- ä¼ æ’­è¡Œä¸º --&gt; &lt;tx:method name=&quot;save*&quot; propagation=&quot;REQUIRED&quot; /&gt; &lt;tx:method name=&quot;insert*&quot; propagation=&quot;REQUIRED&quot; /&gt; &lt;tx:method name=&quot;delete*&quot; propagation=&quot;REQUIRED&quot; /&gt; &lt;tx:method name=&quot;update*&quot; propagation=&quot;REQUIRED&quot; /&gt; &lt;tx:method name=&quot;find*&quot; propagation=&quot;SUPPORTS&quot; read-only=&quot;true&quot; /&gt; &lt;tx:method name=&quot;get*&quot; propagation=&quot;SUPPORTS&quot; read-only=&quot;true&quot; /&gt; &lt;tx:method name=&quot;query*&quot; propagation=&quot;SUPPORTS&quot; read-only=&quot;true&quot; /&gt; &lt;/tx:attributes&gt; &lt;/tx:advice&gt; &lt;!-- åˆ‡é¢ --&gt; &lt;aop:config&gt; &lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut=&quot;execution(* cn.itcast.ssm.service.*.*(..))&quot; /&gt; &lt;/aop:config&gt;&lt;/beans&gt; 5.springmvc.xml 1.åŒ…æ‰«æå™¨ï¼Œæ‰«æ@Controlleræ³¨è§£2.é…ç½®æ³¨è§£é©±åŠ¨3.é…ç½®è§†å›¾è§£æå™¨Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;&gt; &lt;!-- é…ç½®@Controllerå¤„ç†å™¨ï¼ŒåŒ…æ‰«æå™¨ --&gt; &lt;context:component-scan base-package=&quot;ctgu.controller&quot; /&gt; &lt;!-- =================é…ç½®å¤„ç†å™¨æ˜ å°„å™¨=========================== --&gt; &lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&quot;/&gt; &lt;!-- =================é…ç½®å¤„ç†å™¨é€‚é…å™¨============================--&gt; &lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot; /&gt; &lt;!-- =================é…ç½®æ³¨è§£é©±åŠ¨ï¼Œå¯ä»¥ä¸€æ¬¡æ€§ä»£æ›¿ä¸Šè¿°è¿‡ç¨‹============ --&gt; &lt;mvc:annotation-driven/&gt; &lt;!-- =================é…ç½®è§†å›¾è§£æå™¨================================ --&gt; &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;!-- é…ç½®è§†å›¾å“åº”å‰ç¼€ --&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;/&gt; &lt;!-- é…ç½®è§†å›¾å“åº”åç¼€ --&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt; &lt;!-- æ¯”å¦‚é€»è¾‘è§†å›¾åä¸ºitemListï¼Œæœ€ç»ˆè¿”å›çš„jspåœ°å€ä¸º/WEB-INF/jsp/itemList.jsp --&gt; &lt;/bean&gt;&lt;/beans&gt; 6.Web.xml 1.springå®¹é‡ç›‘å¬å™¨2.è§£å†³ä¹±ç 3.å‰ç«¯æ§åˆ¶å™¨Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt; &lt;display-name&gt;springmvc-web&lt;/display-name&gt; &lt;welcome-file-list&gt; &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt; &lt;/welcome-file-list&gt; &lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring/applicationContext*.xml&lt;/param-value&gt; &lt;/context-param&gt; &lt;!-- è‡ªåŠ¨è£…é…ApplicationContext.xmlçš„é…ç½®ä¿¡æ¯ã€‚ --&gt; &lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt; &lt;/listener&gt; &lt;!-- Springæä¾›çš„è¿‡æ»¤å™¨ è§£å†³ä¹±ç é—®é¢˜ --&gt; &lt;filter&gt; &lt;filter-name&gt;encoding&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;!-- è®¾ç½®ç¼–ç å‚æ˜¯UTF8 --&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;UTF-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;encoding&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; &lt;servlet&gt; &lt;servlet-name&gt;springmvc-web&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring/springmvc.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;springmvc-web&lt;/servlet-name&gt; &lt;url-pattern&gt;*.action&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; controllerç±» æ³¨æ„ï¼šAutowiredæ˜¯æŠŠItemServiceæ³¨å…¥ï¼ˆå‚è€ƒmybatiså­¦ä¹ ï¼ˆ2ï¼‰ä¸­æ˜¯å¿…é¡»è¦ä»springè·å–æ¥å£ï¼Œè€Œåœ¨springå·²ç»æ‰«æäº†mapperåŒ…ï¼‰Codepackage ctgu.controller;import ctgu.pojo.*;import ctgu.service.ItemService;//æ ‡è¯†è¿™æ˜¯ä¸€ä¸ªæ§åˆ¶ç±»@Controllerpublic class ItemController &#123; @Autowired private ItemService itemService; //ç»‘å®šè¯·æ±‚åœ°å€ @RequestMapping(&quot;/itemList&quot;) public ModelAndView queryItemList()&#123; List&lt;Item&gt; list = itemService.queryItemList(); ModelAndView modelAndView = new ModelAndView(); modelAndView.addObject(&quot;itemList&quot;,list); //è®¾ç½®é€»è¾‘è§†å›¾ï¼Œå‘Šè¯‰è¦è¿”å›åˆ°å“ªä¸€ä¸ªjsp modelAndView.setViewName(&quot;itemList&quot;); return modelAndView; &#125;&#125;","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"æ¡†æ¶å­¦ä¹ ","slug":"æ¡†æ¶å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/æ¡†æ¶å­¦ä¹ /"}]},{"title":"SpringMVCå­¦ä¹ æ—¥å¿—ï¼ˆ1ï¼‰","slug":"java/SpringMVC(1)","date":"2019-04-18T16:00:00.000Z","updated":"2019-12-20T12:04:37.876Z","comments":true,"path":"2019/04/19/java/SpringMVC(1)/","link":"","permalink":"http://SlectRxz.github.io/2019/04/19/java/SpringMVC(1)/","excerpt":"SpringMVCçš„å…¥é—¨ç¨‹åºçš„æ­å»ºï¼Œæ¡†æ¶é»˜è®¤åŠ è½½çš„ä¸‰å¤§ç»„ä»¶","text":"SpringMVCçš„å…¥é—¨ç¨‹åºçš„æ­å»ºï¼Œæ¡†æ¶é»˜è®¤åŠ è½½çš„ä¸‰å¤§ç»„ä»¶ SpringMVCä¸structs2çš„åŒºåˆ« springmvcå…¥é—¨ç¨‹åºçš„æ­å»º å¯¼å…¥jaråŒ… ç¼–å†™Controllerç±» æ§åˆ¶ç±»ç”¨äºæ¥æ”¶jspé¡µé¢ï¼ˆæµè§ˆå™¨ï¼‰ä¼ é€’è¿‡æ¥çš„æ•°æ®å¹¶åŠ ä»¥å¤„ç†ï¼Œç”¨äºå¤„ç†å„ä¸ªè§†å›¾ä¹‹é—´çš„è·³è½¬ Code @Controllerpublic class HelloController &#123; @RequestMapping(&quot;hello&quot;)//è¯·æ±‚åœ°å€ public ModelAndView hello()&#123; System.out.println(&quot;hello springmvc....&quot;); //åˆ›å»ºModelAndViewå¯¹è±¡ å“åº”ç”¨æˆ·çš„è§†å›¾ ModelAndView mav = new ModelAndView(); //è®¾ç½®æ¨¡å‹æ•°æ® mav.addObject(&quot;msg&quot;, &quot;hello springmvc...&quot;); //è®¾ç½®è§†å›¾åå­— jspçš„ç›®å½• mav.setViewName(&quot;/WEB-INF/jsp/hello.jsp&quot;); return mav; &#125;&#125; åˆ›å»ºjspé¡µé¢ Code &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;&lt;title&gt;æˆ‘çš„è¾“å‡ºï¼š&lt;/title&gt;&lt;/head&gt;&lt;body&gt; $&#123;message&#125;&lt;/body&gt;&lt;/html&gt; é…ç½®springmvcæ ¸å¿ƒé…ç½®æ–‡ä»¶ éœ€è¦é…ç½®ï¼š1.é…ç½®@ControlleråŒ…æ‰«æå™¨ï¼Œç”¨äºæ‰«æ@Controlleræ³¨è§£2.é…ç½®è§†å›¾è§£æå™¨ï¼Œç”¨äºè®¿é—®æ—¶è®¾ç½®é»˜è®¤çš„å‰ç¼€å’Œåç¼€3.é…ç½®å¤„ç†å™¨æ˜ å°„å™¨HandlerMappingï¼Œç”¨äºå¤„ç†ç”¨æˆ·çš„URLè¯·æ±‚ï¼Œè¿”å›ä¸€ä¸ªå¤„ç†å™¨æ‰§è¡Œé“¾ï¼Œè¡¨ç¤ºå°†ç”±å“ªä¸€ä¸ªå¤„ç†å™¨å¤„ç†ã€‚4.é…ç½®å¤„ç†å™¨é€‚é…å™¨HandleAdapter(è¿˜ä¸å¤ªæ¸…æ¥š)5.é…ç½®æ³¨è§£é©±åŠ¨ï¼Œå¯æ›¿ä»£3ã€4ä¸¤æ­¥ï¼Œå¹¶æ”¯æŒjsonå“åº” Code &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;&gt; &lt;!-- é…ç½®@Controllerå¤„ç†å™¨ï¼ŒåŒ…æ‰«æå™¨ --&gt; &lt;context:component-scan base-package=&quot;ctgu.controller&quot; /&gt; &lt;!-- =================é…ç½®å¤„ç†å™¨æ˜ å°„å™¨=========================== --&gt; &lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&quot;/&gt; &lt;!-- =================é…ç½®å¤„ç†å™¨é€‚é…å™¨============================--&gt; &lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot; /&gt; &lt;!-- =================é…ç½®æ³¨è§£é©±åŠ¨ï¼Œå¯ä»¥ä¸€æ¬¡æ€§ä»£æ›¿ä¸Šè¿°è¿‡ç¨‹============ --&gt; &lt;mvc:annotation-driven/&gt; &lt;!-- =================é…ç½®è§†å›¾è§£æå™¨================================ --&gt; &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;!-- é…ç½®è§†å›¾å“åº”å‰ç¼€ --&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;/&gt; &lt;!-- é…ç½®è§†å›¾å“åº”åç¼€ --&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt; &lt;!-- æ¯”å¦‚é€»è¾‘è§†å›¾åä¸ºitemListï¼Œæœ€ç»ˆè¿”å›çš„jspåœ°å€ä¸º/WEB-INF/jsp/itemList.jsp --&gt; &lt;/bean&gt;&lt;/beans&gt; åœ¨web.xmlé…ç½®å‰ç«¯æ§åˆ¶å™¨ 1.é…ç½®åŠ è½½Springmvcçš„æ ¸å¿ƒæ–‡ä»¶ Code &lt;!-- é…ç½®å‰ç«¯æ§åˆ¶å™¨ --&gt; &lt;servlet&gt; &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!-- åŠ è½½springmvcæ ¸å¿ƒé…ç½®æ–‡ä»¶ --&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:springmvc.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;/servlet&gt; &lt;!-- é…ç½®æ‹¦æˆªè·¯å¾„ --&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt; &lt;url-pattern&gt;*.action&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; springmvcä»£ç æ‰§è¡Œæµç¨‹ï¼ˆé‡è¦ï¼ï¼ï¼ï¼‰ å®¢æˆ·ç«¯å‘é€è¯·æ±‚-&gt; å‰ç«¯æ§åˆ¶å™¨ DispatcherServlet æ¥å—å®¢æˆ·ç«¯è¯·æ±‚ -&gt; æ‰¾åˆ°å¤„ç†å™¨æ˜ å°„ HandlerMapping è§£æè¯·æ±‚å¯¹åº”çš„ Handler-&gt; HandlerAdapter ä¼šæ ¹æ® Handler æ¥è°ƒç”¨çœŸæ­£çš„å¤„ç†å™¨å¼€å¤„ç†è¯·æ±‚ï¼Œå¹¶å¤„ç†ç›¸åº”çš„ä¸šåŠ¡é€»è¾‘ -&gt; å¤„ç†å™¨è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾ ModelAndView -&gt; è§†å›¾è§£æå™¨è¿›è¡Œè§£æ -&gt; è¿”å›ä¸€ä¸ªè§†å›¾å¯¹è±¡-&gt;å‰ç«¯æ§åˆ¶å™¨ DispatcherServlet æ¸²æŸ“æ•°æ®ï¼ˆModerï¼‰-&gt;å°†å¾—åˆ°è§†å›¾å¯¹è±¡è¿”å›ç»™ç”¨æˆ· Springmvcçš„ä¸‰å¤§ç»„ä»¶ å¤„ç†å™¨æ˜ å°„å™¨Code&lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&quot;/&gt; å¤„ç†å™¨é€‚é…å™¨Code&lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot; /&gt; ã€æ³¨ã€‘:æ³¨è§£é©±åŠ¨å¯ä»¥ä»£æ›¿æ˜ å°„å™¨å’Œé€‚é…å™¨çš„å•ç‹¬è®¾ç½®ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒjsonçš„å“åº”ï¼ˆæ¨èä½¿ç”¨ä¸‹é¢è¿™ç§é…ç½®ï¼‰Code&lt;mvc:annotation-driven /&gt; è§†å›¾è§£æå™¨ é…ç½®è§†å›¾è§£æå™¨åæˆ‘ä»¬ä¸éœ€è¦è¿”å›è§†å›¾çš„å®Œæ•´è·¯å¾„ Code&lt;!-- é…ç½®è§†å›¾è§£æå™¨ --&gt; &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;!-- é…ç½®è§†å›¾å“åº”çš„å‰ç¼€ --&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot; /&gt; &lt;!-- é…ç½®è§†å›¾å“åº”çš„åç¼€ --&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt; &lt;/bean&gt;","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"æ¡†æ¶å­¦ä¹ ","slug":"æ¡†æ¶å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/æ¡†æ¶å­¦ä¹ /"}]},{"title":"MyBatisæ•´åˆSpring","slug":"java/Mybatisä¸Springæ•´åˆ","date":"2019-04-14T16:00:00.000Z","updated":"2019-04-12T09:38:11.351Z","comments":true,"path":"2019/04/15/java/Mybatisä¸Springæ•´åˆ/","link":"","permalink":"http://SlectRxz.github.io/2019/04/15/java/Mybatisä¸Springæ•´åˆ/","excerpt":"MyBatisä¸Springæ¡†æ¶çš„æ•´åˆã€‚","text":"MyBatisä¸Springæ¡†æ¶çš„æ•´åˆã€‚ mybatisä¸springå¦‚ä½•æ•´åˆï¼Ÿ æ•´åˆæ€è·¯ï¼š1.SqlsessionFactoryå¯¹è±¡åº”è¯¥æ”¾åˆ°Springå®¹å™¨ä¸­ä½œä¸ºå•åˆ©å­˜åœ¨ï¼›2ã€ä¼ ç»Ÿdaoçš„å¼€å‘æ–¹å¼ä¸­ï¼Œåº”è¯¥ä»springå®¹å™¨ä¸­è·å¾—sqlsessionå¯¹è±¡ã€‚3ã€Mapperä»£ç†å½¢å¼ä¸­ï¼Œåº”è¯¥ä»springå®¹å™¨ä¸­ç›´æ¥è·å¾—mapperçš„ä»£ç†å¯¹è±¡ã€‚4ã€æ•°æ®åº“çš„è¿æ¥ä»¥åŠæ•°æ®åº“è¿æ¥æ± äº‹åŠ¡ç®¡ç†éƒ½äº¤ç»™springå®¹å™¨æ¥å®Œæˆã€‚ æ•´åˆæ­¥éª¤ï¼š 1.åˆ›å»ºä¸€ä¸ªjavaå·¥ç¨‹ã€‚ 2.å¯¼å…¥jaråŒ…ã€‚ 3.mybatisçš„é…ç½®æ–‡ä»¶sqlmapConfig.xml mapperåŒ…æ‰«æå¯ä»¥ç›´æ¥äº¤ç»™Springç®¡ç†æ­¤å¤„æ˜¯åº”ç”¨äºä¼ ç»Ÿdaoå¼€å‘Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE configurationPUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt; &lt;mappers&gt; &lt;mapper resource=&quot;mybatis/user.xml&quot;/&gt; &lt;/mappers&gt;&lt;/configuration&gt; 4.ç¼–å†™Springçš„é…ç½®æ–‡ä»¶ ä¸»è¦ä»¥ä¸‹é…ç½®ï¼š1.æ•°æ®åº“è¿æ¥æ± çš„é…ç½®ï¼›2.sqlSessionFactoryçš„é…ç½®(å…¶ä¸­é…ç½®æ•°æ®åº“æºï¼ŒSqlMapConfigè·¯å¾„ï¼Œåˆ«åé…ç½®)ï¼›3.åŠ¨æ€åŒ…æ‰«æ Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-4.0.xsd&quot;&gt; &lt;!-- åŠ è½½é…ç½®æ–‡ä»¶ --&gt; &lt;context:property-placeholder location=&quot;classpath:db.properties&quot; /&gt; &lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;$&#123;jdbc.driver&#125;&quot; /&gt; &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot; /&gt; &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot; /&gt; &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot; /&gt; &lt;!-- è¿æ¥æ± çš„æœ€å¤§æ•°æ®åº“è¿æ¥æ•° --&gt; &lt;property name=&quot;maxActive&quot; value=&quot;10&quot; /&gt; &lt;!-- æœ€å¤§ç©ºé—²æ•° --&gt; &lt;property name=&quot;maxIdle&quot; value=&quot;5&quot; /&gt; &lt;/bean&gt; &lt;!-- sqlSessionFactoryé…ç½® --&gt; &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;!--é…ç½®mybatisçš„æ ¸å¿ƒæ–‡ä»¶ --&gt; &lt;property name=&quot;configLocation&quot; value=&quot;classpath:SqlMapConfig.xml&quot; /&gt; &lt;!-- é…ç½®æ•°æ®åº“çš„æ•°æ®æº --&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; &lt;!-- é…ç½®åˆ«ååŒ…æ‰«æ --&gt; &lt;property name=&quot;typeAliasesPackage&quot; value=&quot;ctgu.mybatis.pojo&quot; /&gt; &lt;/bean&gt; &lt;!-- ============ä¼ ç»Ÿdaoå¼€å‘ æ¥å£-ç±»ç»§æ‰¿æ¨¡å¼===================== --&gt; &lt;bean id=&quot;UserDao&quot; class=&quot;ctgu.mybatis.dao.impl.UserDaoImpl&quot;&gt; &lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- ============åŠ¨æ€daoå¼€å‘ æ¥å£-é…ç½®æ–‡ä»¶æ¨¡å¼==================== --&gt; &lt;!-- =============å•ä¸ªæ¥å£é…ç½® =============================================================== ç›¸å½“äºmybatisä¸­sqlMapConfigä¸­çš„.classæ‰«æï¼ˆdaoåŠ¨æ€ä»£ç† æ¥å£+å…³ç³»æ˜ å°„æ–‡ä»¶ï¼‰ &lt;mapper class=&quot;Mapper.mapper&quot;/&gt;============================================================ --&gt; &lt;!-- &lt;bean id=&quot;baseMapper&quot; class=&quot;org.mybatis.spring.mapper.MapperFactoryBean&quot; abstract=&quot;true&quot; lazy-init=&quot;true&quot;&gt; &lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot; /&gt; &lt;/bean&gt; &lt;bean parent=&quot;baseMapper&quot;&gt; &lt;property name=&quot;mapperInterface&quot; value=&quot;ctgu.mybatis.Mapper.mapper&quot; /&gt; &lt;/bean&gt; --&gt; &lt;!-- =============åŒ…æ‰«æ=============å¥½åƒåªèƒ½ç”¨ä¸€ç§ï¼Œä¸¤ä¸ªåŒæ—¶é…ç½®å°†ä¼šæŠ¥é”™==================================================== ç›¸å½“äºmybatisä¸­sqlMapConfigä¸­çš„&lt;package name=&quot;Mapper&quot;/&gt; basePackageï¼šé…ç½®æ˜ å°„åŒ…æ‰«æï¼Œå¤šä¸ªåŒ…æ—¶ç”¨&quot;,&quot;æˆ–è€…&quot;;&quot;åˆ†éš”(Valueé…ç½®) --&gt; &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt; &lt;property name=&quot;basePackage&quot; value=&quot;ctgu.mybatis.Mappe;ctgu.ssm.mapper&quot; /&gt; &lt;!-- optional unless there are multiple session factories defined --&gt; &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot; /&gt; &lt;/bean&gt;&lt;/beans&gt; 4.1æ•°æ®åº“è¿æ¥åŠè¿æ¥æ±  db.propertiesé…ç½®Codejdbc.driver=com.mysql.jdbc.Driverjdbc.url=jdbc:mysql://localhost:3306/mybatis?characterEncoding=utf-8jdbc.username=rootjdbc.password=root 4.2 sqlsessionFactoryå¯¹è±¡ï¼Œé…ç½®åˆ°springå®¹å™¨ä¸­ åœ¨applicationContext.xmlä¸­é…ç½®Code&lt;!-- sqlSessionFactoryé…ç½® --&gt; &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;!--é…ç½®mybatisçš„æ ¸å¿ƒæ–‡ä»¶ --&gt; &lt;property name=&quot;configLocation&quot; value=&quot;classpath:SqlMapConfig.xml&quot; /&gt; &lt;!-- é…ç½®æ•°æ®åº“çš„æ•°æ®æº --&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; &lt;!-- é…ç½®åˆ«ååŒ…æ‰«æ --&gt; &lt;property name=&quot;typeAliasesPackage&quot; value=&quot;ctgu.mybatis.pojo&quot; /&gt; &lt;/bean&gt; æµ‹è¯•ï¼šCodepackage ctgu.ssm.Test;import static org.junit.Assert.fail;import java.util.Date;import java.util.List;import org.junit.Before;import org.junit.Test;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;import ctgu.ssm.mapper.UserMapper;import ctgu.ssm.pojo.User;import ctgu.ssm.pojo.UserExample;import ctgu.ssm.pojo.UserExample.Criteria;/** * è¿™ä¸ªæ˜¯é€†å‘å·¥ç¨‹çš„ç”Ÿæˆæµ‹è¯•ç±» * testSelectByExampleæ˜¯ç”¨æ¥æ‹¼è£…æŸ¥è¯¢æ¡ä»¶ çš„ * * @author rong * */public class UserMapperTest &#123; private ApplicationContext applicationContext; @Before public void init()&#123; this.applicationContext=new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;); &#125; @Test public void testDeleteByPrimaryKey() &#123; UserMapper mapper = applicationContext.getBean(UserMapper.class); mapper.deleteByPrimaryKey(40); &#125; @Test public void testInsertSelective() &#123; UserMapper mapper = applicationContext.getBean(UserMapper.class); User user = new User(); user.setUsername(&quot;å¤§è™32&quot;); user.setAddress(&quot;å®œæ˜Œ&quot;); user.setSex(&quot;1&quot;);// mapper.insert(user) ä¸insertSelectiveçš„åŒºåˆ«åœ¨äºï¼ŒinsertSelectiveä¼šåˆ¤æ–­å…¶æ˜¯å¦ä¸ºç©ºï¼Œåªä¼šå°†éç©ºæ•°æ®æ’å…¥ mapper.insertSelective(user); &#125; @Test public void testSelectByExample() &#123; UserMapper mapper = applicationContext.getBean(UserMapper.class); /* * ç”¨æ¥æ‹¼è£…æŸ¥è¯¢æ¡ä»¶ çš„ */ UserExample example = new UserExample(); //éœ€æ±‚ï¼šæŸ¥è¯¢å§“å¤§çš„ç”·æ€§ Criteria criteria = example.createCriteria(); criteria.andUsernameLike(&quot;%å¤§%&quot;);//æ³¨æ„ï¼šæ­¤æ—¶å¿…é¡»æ‰‹åŠ¨æ·»åŠ %% criteria.andSexEqualTo(&quot;1&quot;); List&lt;User&gt; users = mapper.selectByExample(example); for (User user : users) &#123; System.out.println(user); &#125; &#125; @Test public void testSelectByPrimaryKey() &#123; UserMapper mapper = applicationContext.getBean(UserMapper.class); ctgu.ssm.pojo.User user = mapper.selectByPrimaryKey(31); System.out.println(user); &#125;&#125;","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"æ¡†æ¶å­¦ä¹ ","slug":"æ¡†æ¶å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/æ¡†æ¶å­¦ä¹ /"}]},{"title":"MyBatisé€†å‘å·¥ç¨‹","slug":"java/MyBatisé€†å‘å·¥ç¨‹","date":"2019-04-11T16:00:00.000Z","updated":"2019-04-12T09:38:02.849Z","comments":true,"path":"2019/04/12/java/MyBatisé€†å‘å·¥ç¨‹/","link":"","permalink":"http://SlectRxz.github.io/2019/04/12/java/MyBatisé€†å‘å·¥ç¨‹/","excerpt":"MyBatisé€†å‘å·¥ç¨‹çš„å®ç°ã€‚","text":"MyBatisé€†å‘å·¥ç¨‹çš„å®ç°ã€‚ é€†å‘å·¥ç¨‹æ˜¯å¹²å˜›çš„ï¼Ÿæˆ‘çš„ç†è§£æ˜¯ï¼šé€†å‘å·¥ç¨‹æ˜¯æ ¹æ®æ•°æ®åº“çš„è¡¨å¸®åŠ©æˆ‘ä»¬ç›´æ¥ç”Ÿæˆpojoä»¥åŠmapperä¸­çš„æ¥å£ä»¥åŠå…³ç³»æ˜ å°„æ–‡ä»¶ã€‚ é‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å¦‚ä½•ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Ÿåœ¨generatorConfig.xmlä¸­é…ç½®mapperç”Ÿæˆçš„è¯¦ç»†ä¿¡æ¯ï¼Œæ³¨æ„æ”¹ä¸‹å‡ ç‚¹ï¼š1.æ·»åŠ è¦ç”Ÿæˆçš„æ•°æ®åº“è¡¨2ã€poæ–‡ä»¶æ‰€åœ¨åŒ…è·¯å¾„3ã€mapperæ–‡ä»¶æ‰€åœ¨åŒ…è·¯å¾„ generatorConfig.xml Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE generatorConfiguration PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;&lt;generatorConfiguration&gt; &lt;context id=&quot;testTables&quot; targetRuntime=&quot;MyBatis3&quot;&gt; &lt;commentGenerator&gt; &lt;!-- æ˜¯å¦å»é™¤è‡ªåŠ¨ç”Ÿæˆçš„æ³¨é‡Š trueï¼šæ˜¯ ï¼š false:å¦ --&gt; &lt;property name=&quot;suppressAllComments&quot; value=&quot;true&quot; /&gt; &lt;/commentGenerator&gt; &lt;!--æ•°æ®åº“è¿æ¥çš„ä¿¡æ¯ï¼šé©±åŠ¨ç±»ã€è¿æ¥åœ°å€ã€ç”¨æˆ·åã€å¯†ç  --&gt; &lt;jdbcConnection driverClass=&quot;com.mysql.jdbc.Driver&quot; connectionURL=&quot;jdbc:mysql://localhost:3306/springmvc&quot; userId=&quot;root&quot; password=&quot;root&quot;&gt; &lt;/jdbcConnection&gt; &lt;!-- &lt;jdbcConnection driverClass=&quot;oracle.jdbc.OracleDriver&quot; connectionURL=&quot;jdbc:oracle:thin:@127.0.0.1:1521:yycg&quot; userId=&quot;yycg&quot; password=&quot;yycg&quot;&gt; &lt;/jdbcConnection&gt; --&gt; &lt;!-- é»˜è®¤falseï¼ŒæŠŠJDBC DECIMAL å’Œ NUMERIC ç±»å‹è§£æä¸º Integerï¼Œä¸º trueæ—¶æŠŠJDBC DECIMAL å’Œ NUMERIC ç±»å‹è§£æä¸ºjava.math.BigDecimal --&gt; &lt;javaTypeResolver&gt; &lt;property name=&quot;forceBigDecimals&quot; value=&quot;false&quot; /&gt; &lt;/javaTypeResolver&gt; &lt;!-- targetProject:ç”ŸæˆPOç±»çš„ä½ç½® --&gt; &lt;javaModelGenerator targetPackage=&quot;ctgu.pojo&quot; targetProject=&quot;.\\src&quot;&gt; &lt;!-- enableSubPackages:æ˜¯å¦è®©schemaä½œä¸ºåŒ…çš„åç¼€ --&gt; &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt; &lt;!-- ä»æ•°æ®åº“è¿”å›çš„å€¼è¢«æ¸…ç†å‰åçš„ç©ºæ ¼ --&gt; &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot; /&gt; &lt;/javaModelGenerator&gt; &lt;!-- targetProject:mapperæ˜ å°„æ–‡ä»¶ç”Ÿæˆçš„ä½ç½® --&gt; &lt;sqlMapGenerator targetPackage=&quot;ctgu.mapper&quot; targetProject=&quot;.\\src&quot;&gt; &lt;!-- enableSubPackages:æ˜¯å¦è®©schemaä½œä¸ºåŒ…çš„åç¼€ --&gt; &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt; &lt;/sqlMapGenerator&gt; &lt;!-- targetPackageï¼šmapperæ¥å£ç”Ÿæˆçš„ä½ç½® --&gt; &lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;ctgu.mapper&quot; targetProject=&quot;.\\src&quot;&gt; &lt;!-- enableSubPackages:æ˜¯å¦è®©schemaä½œä¸ºåŒ…çš„åç¼€ --&gt; &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt; &lt;/javaClientGenerator&gt; &lt;!-- æŒ‡å®šæ•°æ®åº“è¡¨ --&gt; &lt;table schema=&quot;&quot; tableName=&quot;item&quot;&gt;&lt;/table&gt; &lt;table schema=&quot;&quot; tableName=&quot;user&quot;&gt;&lt;/table&gt; &lt;!-- &lt;table schema=&quot;&quot; tableName=&quot;items&quot;&gt;&lt;/table&gt; &lt;table schema=&quot;&quot; tableName=&quot;orderdetail&quot;&gt;&lt;/table&gt; --&gt; &lt;!-- æœ‰äº›è¡¨çš„å­—æ®µéœ€è¦æŒ‡å®šjavaç±»å‹ &lt;table schema=&quot;&quot; tableName=&quot;&quot;&gt; &lt;columnOverride column=&quot;&quot; javaType=&quot;&quot; /&gt; &lt;/table&gt; --&gt; &lt;/context&gt;&lt;/generatorConfiguration&gt;","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"æ¡†æ¶å­¦ä¹ ","slug":"æ¡†æ¶å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/æ¡†æ¶å­¦ä¹ /"}]},{"title":"MyBatiså­¦ä¹ ï¼ˆ2ï¼‰","slug":"java/Mybatiså­¦ä¹ (2)","date":"2019-04-09T16:00:00.000Z","updated":"2019-12-20T12:06:02.880Z","comments":true,"path":"2019/04/10/java/Mybatiså­¦ä¹ (2)/","link":"","permalink":"http://SlectRxz.github.io/2019/04/10/java/Mybatiså­¦ä¹ (2)/","excerpt":"MyBatisè¾“å…¥è¾“å‡ºæ˜ å°„ã€åŠ¨æ€sqlã€å…³è”æŸ¥è¯¢çš„ä½¿ç”¨ã€‚","text":"MyBatisè¾“å…¥è¾“å‡ºæ˜ å°„ã€åŠ¨æ€sqlã€å…³è”æŸ¥è¯¢çš„ä½¿ç”¨ã€‚ ç”±mybatiså­¦ä¹ ï¼ˆ1ï¼‰ä¸­æˆ‘ä»¬äº†è§£åˆ°å¦‚ä½•æ­å»ºmybatiså·¥ç¨‹ï¼Œä¼ ç»Ÿdaoå¼€å‘ä»¥åŠåŠ¨æ€daoå¼€å‘ï¼Œæœ¬èŠ‚ä¸»è¦è®¨è®ºå…³ç³»æ˜ å°„é…ç½®æ–‡ä»¶çš„å…·ä½“é…ç½®ã€‚ 1.è¾“å…¥æ˜ å°„ä¸è¾“å‡ºæ˜ å°„1.1è¾“å…¥æ˜ å°„1.1.1ç®€å•å‚æ•°ä¼ é€’ åŒ…æ‹¬Stringï¼ŒIntegerï¼ŒDoubleï¼ŒFloatâ€¦ Code&lt;select id=&quot;getUserByName&quot; parameterType=&quot;String&quot; resultType=&quot;pojo.User&quot;&gt; &lt;!-- SELECT * FROM USER WHERE username LIKE #&#123;name111&#125; --&gt; &lt;!-- æ³¨æ„ï¼š $&#123;&#125;æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ç¬¦ ç›®çš„æ˜¯ä½¿æˆ‘ä»¬ä¼ å…¥çš„å­—ç¬¦ä¸²ä¸ç”¨æ¯ä¸€æ¬¡éƒ½å¸¦ä¸€ä¸ª%String%ï¼Œå¦‚ä½•å»æ‰ç™¾åˆ†å· ï¼ï¼ï¼ å¦‚æœä½ è¦ä¼ å…¥çš„æ˜¯åŸºæœ¬ç±»å‹ã€æ³¨ï¼šæ­¤æ—¶ä¼ å…¥ç±»å‹æŒ‡çš„æ˜¯parameterTypeã€‘ï¼Œæ‹¬å·é‡Œé¢ä¸€å®šè¦å†™valueï¼ï¼ï¼ ã€æ³¨ï¼š&apos;&apos;ä¸èƒ½çœï¼Œå¦åˆ™æŠ¥é”™ã€‘--&gt; SELECT id,username,birthday,sex,address FROM USER WHERE username LIKE&apos;%$&#123;value&#125;%&apos;;&lt;/select&gt; 1.1.2ä¼ é€’pojoå¯¹è±¡Code&lt;update id=&quot;updateUserName&quot; parameterType=&quot;pojo.User&quot;&gt; update user set username=#&#123;username&#125; where id=#&#123;id&#125;&lt;/update&gt; 1.1.3ä¼ é€’å°è£…pojoå¯¹è±¡Code&lt;!-- è¾“å…¥å‚æ•°ä¸ºpojoçš„åŒ…è£…å¯¹è±¡ï¼Œå³æœ‰ä¸€ä¸ªæˆå‘˜æ˜¯pojoç±» --&gt; &lt;select id=&quot;getByQueryUser&quot; parameterType=&quot;QueryUser&quot; resultType=&quot;pojo.User&quot;&gt; &lt;!-- SELECT * FROM USER WHERE username LIKE #&#123;name111&#125; --&gt; &lt;!-- æ³¨æ„ï¼š $&#123;&#125;æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ç¬¦ ç›®çš„æ˜¯ä½¿æˆ‘ä»¬ä¼ å…¥çš„å­—ç¬¦ä¸²ä¸ç”¨æ¯ä¸€æ¬¡éƒ½å¸¦ä¸€ä¸ª%String%ï¼Œå¦‚ä½•å»æ‰ç™¾åˆ†å· ï¼ï¼ï¼å¦‚æœä½ è¦ä¼ å…¥çš„æ˜¯åŸºæœ¬ç±»å‹ï¼Œæ‹¬å·é‡Œé¢ä¸€å®šè¦å†™valueï¼ï¼ï¼ --&gt; SELECT id,username,birthday,sex,address FROM USER WHERE username LIKE &apos;%$&#123;user.username&#125;%&apos;;&lt;/select&gt; 1.2è¾“å‡ºæ˜ å°„1.2.1è¾“å‡ºç®€å•ç±»å‹ æŸ¥è¯¢ç”¨æˆ·æ€»è®°å½•æ•°ï¼Œæ¼”ç¤ºè¿”å›ç®€å•ç±»å‹ Code&lt;select id=&quot;getUserCount&quot; resultType=&quot;int&quot;&gt; SELECT COUNT(1) FROM USER&lt;/select&gt; 1.2.2è¾“å‡ºpojoå¯¹è±¡ æ ¹æ®idæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ Code&lt;select id=&quot;getUserById&quot; parameterType=&quot;int&quot; resultType=&quot;pojo.User&quot;&gt; SELECT * FROM USER WHERE id = #&#123;id1&#125;&lt;/select&gt; 1.2.3è¾“å‡ºpojoåˆ—è¡¨ æ ¹æ®åå­—çš„å§“è¿›è¡ŒæŸ¥è¯¢ï¼Œè¿”å›ä¸€ä¸ªCode &lt;select id=&quot;getUserByName&quot; parameterType=&quot;String&quot; resultType=&quot;pojo.User&quot;&gt; &lt;!-- SELECT * FROM USER WHERE username LIKE #{name111} --&gt; &lt;!-- æ³¨æ„ï¼š ${}æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ç¬¦ ç›®çš„æ˜¯ä½¿æˆ‘ä»¬ä¼ å…¥çš„å­—ç¬¦ä¸²ä¸ç”¨æ¯ä¸€æ¬¡éƒ½å¸¦ä¸€ä¸ª%String%ï¼Œå¦‚ä½•å»æ‰ç™¾åˆ†å· ï¼ï¼ï¼å¦‚æœä½ è¦ä¼ å…¥çš„æ˜¯åŸºæœ¬ç±»å‹ï¼Œæ‹¬å·é‡Œé¢ä¸€å®šè¦å†™valueï¼ï¼ï¼ --&gt; SELECT id,username,birthday,sex,address FROM USER WHERE username LIKE &apos;%${value}%&apos;; &lt;/select&gt; Code## 2.åŠ¨æ€sql### 2.1 if&gt;å¤šæŸ¥è¯¢æ¡ä»¶æ‹¼è£…å¼•å‡ºifæ ‡ç­¾&gt;ifæ ‡ç­¾çš„ä½¿ç”¨ï¼š æ³¨æ„ï¼š```&lt;if test=&quot;username!=null and username!=&apos;&apos;&quot;&gt;ä¸­é—´ä¸æ˜¯&amp;&amp; Code&lt;select id=&quot;getUserByNameSex&quot; parameterType=&quot;user&quot; resultType=&quot;user&quot;&gt; select * from user where 1=1 &lt;if test=&quot;username!=null and username!=&apos;&apos;&quot;&gt; and username like&apos;%$&#123;username&#125;%&apos; &lt;/if&gt; &lt;if test=&quot;sex!=null and sex!=&apos;&apos;&quot;&gt; and sex=#&#123;sex&#125; &lt;/if&gt;&lt;/select&gt; 2.1 where whereæ ‡ç­¾çš„ä½¿ç”¨ï¼š ä½œç”¨ï¼šæ·»åŠ whereå…³é”®å­—ï¼Œå»æ‰å¤šä½™çš„and Code&lt;select id=&quot;getUserByNameSex&quot; parameterType=&quot;user&quot; resultType=&quot;user&quot;&gt; select * from user &lt;where&gt; &lt;if test=&quot;username!=null and username!=&apos;&apos;&quot;&gt; and username like&apos;%$&#123;username&#125;%&apos; &lt;!-- æ­¤å¤„çš„å¯èƒ½å¤šä½™çš„andä¼šç”±whereæ ‡ç­¾å»æ‰ --&gt; &lt;/if&gt; &lt;if test=&quot;sex!=null and sex!=&apos;&apos;&quot;&gt; and sex=#&#123;sex&#125; &lt;/if&gt; &lt;/where&gt;&lt;/select&gt; 2.1 foreach foreachæ ‡ç­¾çš„ä½¿ç”¨ï¼š collectionï¼šè¦éå†çš„é›†åˆï¼Œæ¥æºå…¥å‚ï¼Œä¸‹é¢çš„ä¾‹å­çš„listâ€”æ˜¯QueryUser.list items:è®¾ç½®å¾ªç¯å˜é‡ open:å¾ªç¯å¼€å§‹å‰è¾“å‡ºçš„sqlå†…å®¹ï¼Œå…¶å®ä¸å†™ç›´æ¥æ”¾åœ¨foreachå¤–é¢ä¹Ÿæ˜¯å¯è¡Œçš„ separator:åˆ†éš”ç¬¦ close:å¾ªç¯ç»“æŸæ‹¼æ¥çš„sqléœ€æ±‚ï¼šæŸ¥è¯¢ç”¨æˆ·idåœ¨æŸä¸€ä¸ªèŒƒå›´å†…çš„ç”¨æˆ·ä¿¡æ¯æ•°æ®ä½¿ç”¨ï¼šç”±äºmybatisä¸æ”¯æŒç›´æ¥ä¼ é€’é›†åˆï¼Œæ‰€ä»¥éœ€è¦åœ¨pojoä¸­åˆ›å»ºä¸€ä¸ªé›†åˆçš„å±æ€§ï¼Œæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯æŠŠ(1,10,25,30,34)è£…å…¥é›†åˆé‡Œé¢ï¼Œå†æƒ³åŠæ³•æŠŠsqlè¯­å¥æ‹¼è£…å‡ºæ¥ Code&lt;select id=&quot;getUserByIds&quot; parameterType=&quot;QueryUser&quot; resultType=&quot;user&quot;&gt; &lt;include refid=&quot;user_list&quot;&gt;&lt;/include&gt; &lt;where&gt; &lt;!-- id IN (1,3,7,8,9) --&gt; &lt;foreach collection=&quot;list&quot; item=&quot;ids&quot; open=&quot;id IN(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt; #&#123;ids&#125; &lt;/foreach&gt; &lt;/where&gt;&lt;/select&gt; 2.1 SQLç‰‡æ®µ ä½œç”¨ï¼šå°†å…¬å…±çš„SQlç‰‡æ®µæŠ½å–å‡ºæ¥ï¼Œæœ‰ç‚¹ç›¸å½“äºjspä¸­æŠŠå…¬å…±é¡µé¢åŒ…å«èµ·æ¥ã€‚ æŠ½å–ï¼š Code&lt;sql id=&quot;user_list&quot;&gt; select * from user&lt;/sql&gt; ä½¿ç”¨ï¼šCode&lt;include refid=&quot;user_list&quot;&gt;&lt;/include&gt; 3.å…³è”æŸ¥è¯¢ åœ¨å®é™…å¼€å‘å½“ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦å¯¹å¤šå¼ è¡¨è¿›è¡Œå…³è”æŸ¥è¯¢ï¼Œè¡¨ä¸è¡¨ä¹‹é—´æœ‰ä¸€å¯¹ä¸€ä¸ä¸€å¯¹å¤šçš„å…³ç³»ï¼ˆå¤šå¯¹å¤šå±äºä¸¤ä¸ªä¸€å¯¹å¤šï¼‰ 3.1 ä¸€å¯¹ä¸€æŸ¥è¯¢ ä»Aè¡¨å‡ºå‘åœ¨Bè¡¨å½“ä¸­åªæœ‰å”¯ä¸€çš„æ•°æ®è¡Œä¸ä¹‹å¯¹åº”ï¼Œç»“æœæœ€å¤šè¿”å›ä¸€ä¸ªæ•°æ®é›†ã€‚ 3.1.1 ä½¿ç”¨resultType ä½¿ç”¨resultTypeæ¥æ”¶ï¼Œé‚£ä¹ˆå¿…é¡»è¦æœ‰ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„pojoï¼ˆå› ä¸ºæŸ¥è¯¢ç»“æœæœ‰ä¸¤å¼ è¡¨çš„å±æ€§ï¼‰ã€‚éœ€è¦ï¼šé‡æ–°å®šä¹‰ä¸€ä¸ªpojoï¼Œç»§æ‰¿å…¶ä¸­çš„ä¸€å¼ è¡¨å¯¹åº”çš„pojoã€‚ æ–°å»ºpojo Codepackage pojo;/** * ä¸ºäº†å®ç°å¤šè¡¨è¿æ¥æŸ¥è¯¢ * é€šè¿‡resultTypeè¿”å› * @author rong * */public class UserOrder extends Order &#123; //è¿™ä¸¤ä¸ªå±æ€§æ˜¯æ¥è‡ªäºOrderè¡¨ï¼Œå³Bè¡¨ä¸­çš„å±æ€§ private String username; private Integer id; . . .(å®ç°å…¶get/setæ–¹æ³•) ä¿®æ”¹orderçš„æ˜ å°„æ–‡ä»¶ Code&lt;!-- ===================å¤šè¡¨å…³è”æŸ¥è¯¢-1-1ä½¿ç”¨resultMap===================== --&gt;&lt;select id=&quot;getOrderUser&quot; resultType=&quot;pojo.UserOrder&quot;&gt; SELECT o.`id`, o.`user_id` userId, o.`number`, o.`createtime`, o.`note`, u.`username`, u.`address` FROM `order` o LEFT JOIN `user` u ON u.id = o.`user_id`&lt;/select&gt; æµ‹è¯• Code@Test public void testGetOrderUser() &#123; SqlSession openSession = SqlSessionFactoryUtils.getSqlSessionFactory().openSession(); OrderMaper orderMaper = openSession.getMapper(OrderMaper.class); List &lt;UserOrder&gt;orderList = orderMaper.getOrderUser(); for (UserOrder order: orderList) &#123; System.out.println(order); &#125; openSession.close(); &#125; 3.1.2 ä½¿ç”¨resultMap åŸºäºé¢å‘å¯¹è±¡çš„æ€æƒ³ï¼Œæˆ‘ä»¬ç›´æ¥å¯¹åŸæœ‰çš„pojoå¯¹è±¡è¿›è¡Œæ”¹é€ ï¼Œä½¿ä¹‹èƒ½å¤Ÿæ¥æ”¶åˆ°è¿”å›çš„å±æ€§ï¼ˆæ·»åŠ å±æ€§ï¼‰ã€‚æ·»åŠ ä¸€ä¸ªUserç±»å‹çš„å±æ€§ï¼ˆé¢å‘å¯¹è±¡çš„æ€æƒ³ï¼‰ Codepublic class Order &#123; private Integer id; private Integer userId; private String number; private Date createtime; private String note; private User user1; . . .ï¼ˆset/getæ–¹æ³•ï¼‰ ä¿®æ”¹å…³ç³»æ˜ å°„æ–‡ä»¶typeï¼šæŒ‡å®šæ˜ å°„åˆ°å“ªä¸€ä¸ªpojoï¼Œå°±æ˜¯è¿”å›çš„å®šä¹‰æ™®é€šå±æ€§property:åœ¨pojoä¸­çš„å±æ€§åcolumnï¼šåœ¨æ•°æ®åº“ä¸­çš„åˆ—åassociationâ€“é…ç½®ä¸€å¯¹ä¸€æŸ¥è¯¢propertyï¼šç»‘å®šOrderä¸­çš„ç”¨æˆ·å±æ€§ å³Order.user1ã€æ³¨ï¼šä¸ºäº†åŒºåˆ«pojoä¸­çš„userå¯¹è±¡ï¼Œåœ¨Orderä¸­å®šä¹‰çš„æ˜¯user1æˆå‘˜ã€‘ propertyå¯¹åº”çš„æ˜¯éœ€è¦ä½ å‘ŠçŸ¥æ¥è‡ªå“ªä¸ªpojoä¸­çš„å“ªä¸ªå±æ€§ã€æ³¨ï¼šä¸€å®šè¦ä¸javaTypeï¼ˆpojoç±»ï¼‰ä¸­å¯¹åº”çš„å±æ€§åç§°ç›¸åŒï¼Œå‚è€ƒå‰é¢å®šä¹‰çš„user1ã€‘ javaTypeæ˜¯propertyçš„æ•°æ®ç±»å‹ï¼Œæ”¯æŒåˆ«å Code&lt;resultMap type=&quot;Order&quot; id=&quot;order_user_map&quot;&gt; &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt; &lt;result property=&quot;userId&quot; column=&quot;user_id&quot;/&gt; &lt;result property=&quot;number&quot; column=&quot;number&quot;/&gt; &lt;result property=&quot;createtime&quot; column=&quot;createtime&quot;/&gt; &lt;result property=&quot;note&quot; column=&quot;note&quot;/&gt; &lt;!-- associationé…ç½®ä¸€å¯¹ä¸€æŸ¥è¯¢ propertyï¼šç»‘å®šOrderä¸­çš„ç”¨æˆ·å±æ€§ å³Order.user1ã€æ³¨ï¼šä¸ºäº†åŒºåˆ«pojoä¸­çš„userå¯¹è±¡ï¼Œåœ¨Orderä¸­å®šä¹‰çš„æ˜¯user1æˆå‘˜ã€‘ javaTypeï¼šå±æ€§çš„æ•°æ®ç±»å‹ propertyçš„æ•°æ®ç±»å‹ï¼Œæ”¯æŒåˆ«å æˆ‘æ„Ÿè§‰ï¼š propertyå¯¹åº”çš„æ˜¯éœ€è¦ä½ å‘ŠçŸ¥æ¥è‡ªå“ªä¸ªpojoä¸­çš„å“ªä¸ªå±æ€§ javaTypeæ˜¯propertyçš„æ•°æ®ç±»å‹ï¼Œæ”¯æŒåˆ«å --&gt; &lt;association property=&quot;user1&quot; javaType=&quot;pojo.User&quot;&gt; &lt;!-- æ„Ÿè§‰ï¼šæ¯ä¸€ä¸ªå—å—éƒ½è¦æœ‰ä¸€ä¸ªä¸»é”®ï¼Œè€Œuserè¡¨ä¸­çš„ä¸»é”®å°±å¯¹åº”Orderè¡¨ä¸­çš„user_id --&gt; &lt;id property=&quot;id&quot; column=&quot;user_id&quot;/&gt; &lt;result property=&quot;username&quot; column=&quot;username&quot;/&gt; &lt;/association&gt; &lt;/resultMap&gt; sqlè¯­å¥ä½¿ç”¨resultMapçš„åå­—ä½¿ç”¨å‰é¢å®šä¹‰çš„resultMapçš„åå­—ã€‚ Code&lt;select id=&quot;getOrderUserByMap&quot; resultMap=&quot;order_user_map&quot;&gt; SELECT o.`id`, o.`user_id`, o.`number`, o.`createtime`, o.`note`, u.`username`, u.`address` FROM `order` o LEFT JOIN `user` u ON u.id = o.`user_id` &lt;/select&gt; 3.2 ä¸€å¯¹å¤šæŸ¥è¯¢ å½“æˆ‘ä»¬æŸ¥è¯¢ç”¨æˆ·å¼ ä¸‰ä¸‹äº†å¤šå°‘è®¢å•æ—¶ï¼Œæ­¤æ—¶è¿”å›çš„æ˜¯å¤šä¸ªæ•°æ®ï¼ŒåŸºäºä¸€å¯¹å¤šæŸ¥è¯¢ã€‚æ”¹é€ pojo Codepublic class User &#123; private Integer id; private String username;// ç”¨æˆ·å§“å private String sex;// æ€§åˆ« private Date birthday;// ç”Ÿæ—¥ private String address;// åœ°å€ private String uuid2;//uuid private List&lt;Order&gt; order123; . . . (Get/Setæ–¹æ³•) æ”¹é€ å…³ç³»æ˜ å°„æ–‡ä»¶property:åœ¨pojoä¸­çš„å±æ€§åcolumnï¼šåœ¨æ•°æ®åº“ä¸­çš„åˆ—åcollection:é…ç½®ä¸€å¯¹å¤šçš„å…³ç³» property:ç”¨æˆ·çš„Orderå±æ€§ã€æ³¨ï¼šåœ¨pojo.userä¸­çš„å±æ€§ï¼Œä¸ºäº†ä»¥ç¤ºåŒºåˆ«ï¼Œè¿™é‡Œæˆ‘å®šä¹‰çš„æ˜¯ä¸€ä¸ªorder123çš„å±æ€§ã€‘ ofType:propertyçš„æ•°æ®ç±»å‹ï¼Œæ”¯æŒåˆ«å å…¶ä½™é…ç½®ä¸ä¸€å¯¹ä¸€ç›¸åŒ Code&lt;resultMap type=&quot;user&quot; id=&quot;user_order_map&quot;&gt; &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt; &lt;result property=&quot;username&quot; column=&quot;username&quot;/&gt; &lt;result property=&quot;birthday&quot; column=&quot;birthday&quot;/&gt; &lt;result property=&quot;sex&quot; column=&quot;sex&quot;/&gt; &lt;result property=&quot;address&quot; column=&quot;address&quot;/&gt; &lt;!-- collection:é…ç½®ä¸€å¯¹å¤šçš„å…³ç³» property:ç”¨æˆ·çš„Orderå±æ€§ã€æ³¨ï¼šåœ¨pojo.userä¸­çš„å±æ€§ï¼Œä¸ºäº†ä»¥ç¤ºåŒºåˆ«ï¼Œè¿™é‡Œæˆ‘å®šä¹‰çš„æ˜¯ä¸€ä¸ªorder123çš„å±æ€§ã€‘ ofType:propertyçš„æ•°æ®ç±»å‹ï¼Œæ”¯æŒåˆ«å --&gt; &lt;collection property=&quot;order123&quot; ofType=&quot;pojo.Order&quot;&gt; &lt;id property=&quot;userId&quot; column=&quot;oid&quot;/&gt; &lt;result property=&quot;number&quot; column=&quot;number&quot;/&gt; &lt;result property=&quot;createtime&quot; column=&quot;createtime&quot;/&gt; &lt;/collection&gt; &lt;/resultMap&gt; SQLè¯­å¥ Code&lt;select id=&quot;getUserOrderByMap&quot; resultMap=&quot;user_order_map&quot;&gt; SELECT u.`id`, u.`username`, u.`birthday`, u.`sex`, u.`address`, u.`uuid2`, o.`id` oid, o.`number`, o.`createtime` FROM `user` u LEFT JOIN `order` o ON o.`user_id` = u.`id` &lt;/select&gt;","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"æ¡†æ¶å­¦ä¹ ","slug":"æ¡†æ¶å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/æ¡†æ¶å­¦ä¹ /"}]},{"title":"MyBatiså­¦ä¹ ï¼ˆ1ï¼‰","slug":"java/MyBatiså­¦ä¹ (1)","date":"2019-04-03T16:00:00.000Z","updated":"2019-12-20T12:05:56.209Z","comments":true,"path":"2019/04/04/java/MyBatiså­¦ä¹ (1)/","link":"","permalink":"http://SlectRxz.github.io/2019/04/04/java/MyBatiså­¦ä¹ (1)/","excerpt":"MyBatisç¯å¢ƒçš„æ­å»ºä»¥åŠåŸºæœ¬æ“ä½œ","text":"MyBatisç¯å¢ƒçš„æ­å»ºä»¥åŠåŸºæœ¬æ“ä½œ ä»‹ç»MyBatis ç›®å‰æœ€ä¸»æµçš„æŒä¹…å±‚æ¡†æ¶ä¸ºhibernateä¸mybatisï¼Œè€Œä¸”å›½å†…ç›®å‰æƒ…å†µä½¿ç”¨Mybatisçš„å…¬å¸æ¯”hibernateè¦å¤šã€‚ Hibernateå­¦ä¹ é—¨æ§›ä¸ä½ï¼Œè¦ç²¾é€šé—¨æ§›æ›´é«˜ã€‚é—¨æ§›é«˜åœ¨æ€ä¹ˆè®¾è®¡O/Ræ˜ å°„ï¼Œåœ¨æ€§èƒ½å’Œå¯¹è±¡æ¨¡å‹ä¹‹é—´å¦‚ä½•æƒè¡¡å–å¾—å¹³è¡¡ï¼Œä»¥åŠæ€æ ·ç”¨å¥½Hibernateç¼“å­˜ä¸æ•°æ®åŠ è½½ç­–ç•¥æ–¹é¢éœ€è¦ä½ çš„ç»éªŒå’Œèƒ½åŠ›éƒ½å¾ˆå¼ºæ‰è¡Œã€‚å›½å†…ç›®å‰å‰çš„æƒ…å†µç²¾é€šhibernateæŠ€æœ¯å¤§ç‰›éå¸¸å°‘ã€‚ sqlä¼˜åŒ–æ–¹é¢ï¼ŒHibernateçš„æŸ¥è¯¢ä¼šå°†è¡¨ä¸­çš„æ‰€æœ‰å­—æ®µæŸ¥è¯¢å‡ºæ¥ï¼Œè¿™ä¸€ç‚¹ä¼šæœ‰æ€§èƒ½æ¶ˆè€—ã€‚å½“ç„¶äº†ï¼ŒHibernateä¹Ÿå¯ä»¥è‡ªå·±å†™SQLæ¥æŒ‡å®šéœ€è¦æŸ¥è¯¢çš„å­—æ®µï¼Œä½†è¿™æ ·å°±ç ´åäº†Hibernateå¼€å‘çš„ç®€æ´æ€§ã€‚è¯´å¾—æ›´æ·±å…¥ä¸€äº›ï¼Œå¦‚æœæœ‰ä¸ªæŸ¥è¯¢è¦å…³è”å¤šå¼ è¡¨ï¼Œæ¯”å¦‚5å¼ è¡¨ï¼Œ10å¼ è¡¨æ—¶ï¼Œè€Œä¸”ï¼Œæˆ‘ä»¬è¦å–çš„å­—æ®µåªæ˜¯å…¶ä¸­å‡ å¼ è¡¨çš„éƒ¨åˆ†å­—æ®µã€‚è¿™æ—¶ç”¨hibernateæ—¶å°±ä¼šæ˜¾å¾—éå¸¸åŠ›ä¸ä»å¿ƒã€‚å°±ç®—ç”¨hibernateçš„sqlqueryï¼Œåç»­çš„ç»´æŠ¤å·¥ä½œä¹Ÿä¼šè®©äººå‘ç‹‚ã€‚1.å·¥ç¨‹æ­å»º æˆ‘æ„Ÿè§‰æ¡†æ¶çš„å·¥ä½œå°±æ˜¯æŠŠè®¸å¤šäº‹æƒ…éƒ½å¸®ä½ å»å®Œæˆäº†ï¼Œè¶Šæ˜¯ç®€æ´çš„ä»£ç ï¼ŒèƒŒåå®ç°çš„åŸç†ä¹Ÿå°±è¶Šå¤æ‚ï¼Œæ¯ä¸€ä¸ªæ¡†æ¶å­¦ä¹ æœ€éš¾é€‚åº”çš„å°±æ˜¯å·¥ç¨‹çš„æ­å»ºï¼Œå³å…¥é—¨ã€‚ 1.1å¯¼jaråŒ…1.2å‡†å¤‡pojoç±»ï¼ˆå®ä½“ç±»ç›¸å½“äºJavaBeanï¼‰ mybatisçš„æŸ¥è¯¢è¿”å›ï¼ŒæŸ¥è¯¢å‚æ•°çš„è¾“å…¥éƒ½æ˜¯ä»¥å¯¹è±¡ä¸ºå®å‚è¿›è¡Œ Code package pojo; import java.util.Date; public class User &#123; private Integer id; private String username;// ç”¨æˆ·å§“å private String sex;// æ€§åˆ« private Date birthday;// ç”Ÿæ—¥ private String address;// åœ°å€ private String uuid2;//uuid public String getUuid2() &#123; return uuid2; &#125; public void setUuid2(String uuid2) &#123; this.uuid2 = uuid2; &#125; public Integer getId() &#123; return id; &#125; public void setId(Integer id) &#123; this.id = id; &#125; public String getUsername() &#123; return username; &#125; public void setUsername(String username) &#123; this.username = username; &#125; public String getSex() &#123; return sex; &#125; public void setSex(String sex) &#123; this.sex = sex; &#125; public Date getBirthday() &#123; return birthday; &#125; public void setBirthday(Date birthday) &#123; this.birthday = birthday; &#125; public String getAddress() &#123; return address; &#125; public void setAddress(String address) &#123; this.address = address; &#125; @Override public String toString() &#123; return &quot;User [id=&quot; + id + &quot;, username=&quot; + username + &quot;, sex=&quot; + sex + &quot;, birthday=&quot; + birthday + &quot;, address=&quot; + address + &quot;, uuid2=&quot; + uuid2 + &quot;]&quot;; &#125;&#125; 1.3é…ç½®SqlMapConfig.xml(æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸€ä¸ª)Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE configurationPUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt; &lt;!-- å…ˆåŠ è½½å†…éƒ¨æ ‡ç­¾ï¼Œå†åŠ è½½å¤–éƒ¨æ–‡ä»¶ï¼Œå±æ€§åç§°ä¸€è‡´æ—¶ï¼Œæ›¿æ¢å†…å®¹ --&gt; &lt;properties resource=&quot;db.properties&quot;&gt; &lt;property name=&quot;jdbc.username&quot; value=&quot;root1&quot;/&gt; &lt;property name=&quot;jdbc.password&quot; value=&quot;root&quot;/&gt; &lt;/properties&gt;&lt;!-- åˆ«åé…ç½®ï¼š ä¸ºä»€ä¹ˆè¦ä½¿ç”¨åˆ«åï¼š æˆ‘ä»¬çš„å…³ç³»æ˜ å°„æ–‡ä»¶çš„parameterTypeå¾€å¾€æ˜¯ä¸€ä¸ªç±»å.åŒ…åï¼Œ æ­¤æ—¶æˆ‘ä»¬éœ€è¦ç®€å†™ æœ‰ä¸¤ç§é…ç½®æ–¹å¼ 1.å•ä¸ªåˆ«åå®šä¹‰ï¼šåŒ…å.ç±»å 2.åˆ«ååŒ…æ‰«æå™¨ï¼ˆæ¨èä½¿ç”¨ï¼‰ç›´æ¥åŒ…åï¼Œåœ¨å…³ç³»æ˜ å°„ä¸­å¯ç›´æ¥ç±»åï¼Œ ç›¸å½“äºåœ¨ä½¿ç”¨çš„æ—¶å€™ä¸ç”¨å†™åŒ…åï¼Œæ›´åŠ æ–¹ä¾¿ --&gt; &lt;typeAliases&gt; &lt;!-- &lt;typeAlias type=&quot;pojo.User&quot; alias=&quot;user&quot;/&gt; --&gt; &lt;package name=&quot;pojo&quot;/&gt; &lt;/typeAliases&gt; &lt;!-- å’Œspringæ•´åˆå environmentsé…ç½®å°†åºŸé™¤ --&gt; &lt;environments default=&quot;development&quot;&gt; &lt;environment id=&quot;development&quot;&gt; &lt;!-- ä½¿ç”¨jdbcäº‹åŠ¡ç®¡ç† --&gt; &lt;transactionManager type=&quot;JDBC&quot; /&gt; &lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;dataSource type=&quot;POOLED&quot;&gt; &lt;property name=&quot;driver&quot; value=&quot;$&#123;jdbc.driverClass&#125;&quot; /&gt; &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot; /&gt; &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot; /&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;/environments&gt; &lt;!-- åŠ è½½æ˜ å°„æ–‡ä»¶ --&gt; &lt;!-- åŠ è½½mapperæ˜ å°„æ–‡ä»¶æœ‰å››ç§æ–¹å¼ 1.åŠ è½½resource &lt;mapper resource=&quot;mybatis/user.xml&quot;/&gt; 2.classæ‰«æï¼ˆdaoåŠ¨æ€ä»£ç† æ¥å£+å…³ç³»æ˜ å°„æ–‡ä»¶ï¼‰&lt;mapper class=&quot;Mapper.mapper&quot;/&gt; è¦æ±‚ :1.æ˜ å°„æ–‡ä»¶å¿…é¡»å’Œæ¥å£ä½äºåŒä¸€ç›®å½• 2.æ˜ å°„æ–‡ä»¶ä¸€å®šè¦ä¸æ¥å£åŒåï¼ˆå¦åˆ™æ˜ å°„æ–‡ä»¶æ‰¾ä¸åˆ°æ¥å£ï¼‰ 3.åŒ…æ‰«æ ä½¿ç”¨åœºæ™¯ï¼šå½“æˆ‘ä»¬æœ‰å‡ ç™¾ä¸ªpojoçš„æ¥å£æ—¶ï¼Œéœ€è¦å¯¹æŸä¸€ä¸ªåŒ…ä¸‹é¢çš„é…ç½®æ–‡ä»¶è¿›è¡ŒåŒä¸€æ‰«æ è¦æ±‚ :1.æ˜ å°„æ–‡ä»¶å¿…é¡»å’Œæ¥å£ä½äºåŒä¸€ç›®å½• 2.æ˜ å°„æ–‡ä»¶ä¸€å®šè¦ä¸æ¥å£åŒåï¼ˆå¦åˆ™æ˜ å°„æ–‡ä»¶æ‰¾ä¸åˆ°æ¥å£ï¼‰ 4.&lt;mapper url=&quot;&quot;/&gt;ç»å¯¹è·¯å¾„ï¼ˆä»ç£ç›˜ä¸Šæ‰¾ï¼Œä¸€èˆ¬ä¸ä½¿ç”¨è¯¥æ–¹æ³•ï¼‰ --&gt; &lt;mappers&gt; &lt;!-- resourceåŸºäºcalsspathçš„è·¯å¾„å»æŸ¥æ‰¾ --&gt; &lt;!--&lt;mapper resource=&quot;mybatis/userMapper.xml&quot;/&gt; --&gt; &lt;!-- &lt;mapper class=&quot;Mapper.mapper&quot;/&gt; --&gt; &lt;mapper resource=&quot;mybatis/user.xml&quot;/&gt; &lt;package name=&quot;Mapper&quot;/&gt; &lt;/mappers&gt;&lt;/configuration&gt; 1.4é…ç½®å…³ç³»æ˜ å°„æ–‡ä»¶ï¼ˆå¤šä¸ªï¼‰ å…³ç³»æ˜ å°„é…ç½®æ–‡ä»¶ä¸€èˆ¬æ˜¯å¯¹æŸä¸€ä¸ªå®ä½“çš„å¢åˆ æŸ¥æ”¹æ“ä½œå°è£…åœ¨ä¸€ä¸ªæ˜ å°„æ–‡ä»¶ä¸­ï¼Œåœ¨SqlMapConfig.xmlä¸­æ³¨å…¥ï¼Œå®é™…å¼€å‘ä¸­æœ‰å¤šä¸ªã€‚ user.xmlCode&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE mapperPUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;!-- nameSpaceï¼šå‘½åç©ºé—´ï¼Œç”¨äºåˆ†ç¦»sqlè¯­å¥ --&gt;&lt;mapper namespace=&quot;user&quot;&gt; &lt;!-- id:statementId è¯­å¥çš„å”¯ä¸€æ ‡è¯†ç¬¦ 1. resultType:è¿”å›ç»“æœé›†çš„æ•°æ®ç±»å‹ ========&gt;åŒ…å.ç±»å(å¦‚æœæ˜¯æŸ¥è¯¢æ‰€æœ‰é›†) 2. parameterType:æŸ¥è¯¢çš„å…¥å‚çš„æ•°æ®ç±»å‹ è§„å®šæ­»äº†ç­‰ä¸€ä¸‹è¦ä¼ å…¥å‚æ•°çš„ç±»å‹ 3. #&#123;&#125;:ç‚¹ä½ç¬¦ï¼Œç›¸å½“äºJDBCä¸­çš„ ï¼Ÿ 4.$&#123;&#125;æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ç¬¦ ç›®çš„æ˜¯ä½¿æˆ‘ä»¬ä¼ å…¥çš„å­—ç¬¦ä¸²ä¸ç”¨æ¯ä¸€æ¬¡éƒ½å¸¦ä¸€ä¸ª%String%ï¼Œå¦‚ä½•å»æ‰ç™¾åˆ†å· ï¼ï¼ï¼å¦‚æœä½ è¦ä¼ å…¥çš„æ˜¯åŸºæœ¬ç±»å‹ï¼Œæ‹¬å·é‡Œé¢ä¸€å®šè¦å†™valueï¼ï¼ï¼ --&gt; &lt;select id=&quot;getUserById&quot; parameterType=&quot;int&quot; resultType=&quot;user&quot;&gt; SELECT * FROM USER WHERE id = #&#123;id1&#125; &lt;/select&gt;&lt;!-- ======================================================================== --&gt; &lt;!-- å¦‚æœä½ è¿”å›å€¼æ˜¯ä¸ºé›†åˆï¼ˆä¾‹å¦‚ä¸€ä¸ªlistï¼‰ï¼Œé‚£ä¹ˆä½ åªéœ€è¦è¿”å› å€¼ç±»å‹å¡«è¿”å›listä¸­çš„ç±»å‹å°±è¡Œ --&gt; &lt;select id=&quot;getUserByName&quot; parameterType=&quot;String&quot; resultType=&quot;pojo.User&quot;&gt; &lt;!-- SELECT * FROM USER WHERE username LIKE #&#123;name111&#125; --&gt; &lt;!-- æ³¨æ„ï¼š $&#123;&#125;æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ç¬¦ ç›®çš„æ˜¯ä½¿æˆ‘ä»¬ä¼ å…¥çš„å­—ç¬¦ä¸²ä¸ç”¨æ¯ä¸€ æ¬¡éƒ½å¸¦ä¸€ä¸ª%String%ï¼Œå¦‚ä½•å»æ‰ç™¾åˆ†å· ï¼ï¼ï¼å¦‚æœä½ è¦ä¼ å…¥çš„æ˜¯åŸºæœ¬ç±»å‹ï¼Œæ‹¬å·é‡Œé¢ä¸€å®šè¦å†™valueï¼ï¼ï¼ --&gt; SELECT id,username,birthday,sex,address FROM USER WHERE username LIKE &apos;%$&#123;value&#125;%&apos;; &lt;/select&gt;&lt;!-- =============================================================================== --&gt; &lt;!--æ’å…¥ç”¨æˆ· mysqlå†…éƒ¨å‡½æ•°ï¼šselect LAST_INSERT_ID()è¿”å›æœ€åä¸€æ¬¡æ’å…¥å€¼çš„ID #&#123;&#125;å ä½ç¬¦é‡Œé¢å¡«Userç±»ä¸­çš„å±æ€§ å°è¯•è¿‡ï¼Œå¿…é¡»ä½¿ç”¨Userç±»ä¸­çš„å±æ€§ï¼Œå¦åˆ™æŠ¥é”™ useGeneratedKeys:ä½¿ç”¨è‡ªå¢ keyPropertyï¼Œè¿™é‡Œæ˜¯userçš„ä¸»é”® è¿™ä¸¤ä¸ªé…ç½®ä¼šè‡ªåŠ¨è°ƒç”¨ select LAST_INSERT_ID() mysqlè‡ªå¸¦å‡½æ•°ï¼Œè¿”å›æœ€åä¸€æ¬¡æ’å…¥å€¼çš„ID --&gt; &lt;insert id=&quot;insertUser&quot; parameterType=&quot;pojo.User&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt; &lt;!-- éœ€æ±‚ï¼šå½“æˆ‘ä»¬æ’å…¥ä¸€æ¡è¯­å¥æ—¶ï¼Œ æˆ‘ä»¬å¾€å¾€å¯èƒ½å°†å¯¹å¦å¤–ä¸€å¼ è¡¨äº§ç”Ÿå½±å“ï¼Œ éœ€è¦å¾—åˆ°è¯¥æ’å…¥æ•°æ®çš„ä¸»é”®ID selectKey:ä¸»é”®è¿”å› keyProperty:userè¡¨ä¸­çš„ä¸»é”®çš„å±æ€§ è€ƒè™‘çš„æ˜¯UUIDè¦äº¤ç»™userç±»çš„å“ªä¸€ä¸ªå±æ€§ resultTypeï¼šä¸»é”®çš„æ•°æ®ç±»å‹ orderï¼šæŒ‡selectKeyåœ¨ä½•æ—¶æ‰§è¡Œï¼ŒAFTERè¡¨ç¤ºåœ¨ä¹‹åï¼ŒBEFOREè¡¨ç¤ºåœ¨ä¹‹å‰ å°†è¿”å›çš„ä¸»é”®è¿”å›åˆ°userç±»ä¸­çš„idå±æ€§ --&gt; &lt;!-- &lt;selectKey keyProperty=&quot;id&quot; resultType=&quot;int&quot; order=&quot;AFTER&quot;&gt; select LAST_INSERT_ID() &lt;/selectKey&gt; --&gt; INSERT INTO mybatis.user ( username, birthday, sex, address) VALUES(#&#123;username&#125;, #&#123;birthday&#125;, #&#123;sex&#125;, #&#123;address&#125;); &lt;/insert&gt;&lt;!-- =================================================================================== --&gt; &lt;!-- ä¸€èˆ¬æˆ‘ä»¬æ•°æ®è¡¨ä¸­æœ‰æ—¶å€™æ²¡æœ‰IDï¼Œæ­¤æ—¶éœ€è¦æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ ‡è¯†æ¥æ ‡è‡´ä¸»é”® mysqlå†…éƒ¨å‡½æ•° select UUID è¿”å›å…¶æŸ¥è¯¢æ•°æ®è¡¨ä¸­çš„å”¯ä¸€æ ‡è¯† --&gt; &lt;insert id=&quot;insertUserUUID&quot; parameterType=&quot;pojo.User&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt; &lt;!-- å°†ä¼šå°†ä¼šç”Ÿæˆæ¯æ¡æ•°æ®å¯¹åº”çš„å”¯ä¸€æ ‡è¯†UUIDå¹¶è¿”å› ä½†æ˜¯ï¼Œå½“ä½¿ç”¨selectKeyçš„æ—¶å€™ï¼Œå°±ç›¸å½“äºæˆ‘ä»¬è‡ªå·±å®šä¹‰æ¯æ¡æ•°æ®çš„è¿”å›æ ‡è¯†ï¼ˆä¸»é”®ï¼‰ï¼Œ useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;ä¸ä¼šç”Ÿæ•ˆ è€ŒgenerateKeyé»˜è®¤ä½¿ç”¨idä¸ºè¡¨ç¤ºå¹¶è¿”å›ï¼ŒäºŒè€…å–å…¶ä¸€ --&gt; &lt;selectKey keyProperty=&quot;uuid2&quot; resultType=&quot;String&quot; order=&quot;BEFORE&quot;&gt; select UUID() &lt;/selectKey&gt; INSERT INTO mybatis.user ( username, birthday, sex, address,uuid2) VALUES(#&#123;username&#125;, #&#123;birthday&#125;, #&#123;sex&#125;, #&#123;address&#125;,#&#123;uuid2&#125;); &lt;/insert&gt;&lt;!-- ========================================================================= --&gt; &lt;update id=&quot;updateUserName&quot; parameterType=&quot;pojo.User&quot;&gt; update user set username=#&#123;username&#125; where id=#&#123;id&#125; &lt;/update&gt;&lt;!-- ========================================================================= --&gt; &lt;delete id=&quot;deleteUser&quot; parameterType=&quot;int&quot;&gt; delete from user where id=#&#123;id&#125; &lt;/delete&gt;&lt;/mapper&gt; 1.5æµ‹è¯•ç±»ï¼ˆå¢åˆ æŸ¥æ”¹ï¼‰Codepackage Test;import java.io.InputStream;import java.util.Date;import java.util.List;import org.apache.ibatis.io.Resources;import org.apache.ibatis.session.SqlSession;import org.apache.ibatis.session.SqlSessionFactory;import org.apache.ibatis.session.SqlSessionFactoryBuilder;import org.junit.Test;import Utils.SqlSessionFactoryUtils;import pojo.User;public class testDemo1 &#123; //æ ¹æ®ç”¨æˆ·IDæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼ŒæŸ¥è¯¢ç»“æœæ˜¯ä¸€ä¸ª @Test public void test1() throws Exception&#123; //1.åˆ›å»ºsqlSessionFactoryBuilderå¯¹è±¡ SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder(); //2.æŸ¥æ‰¾é…ç½®æ–‡ä»¶åˆ›å»ºè¾“å…¥æµ InputStream inputStream = Resources.getResourceAsStream(&quot;SqlMapConfig.xml&quot;); //3.åŠ è½½é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºSqlSessionFactoryå¯¹è±¡ SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(inputStream); //4.åˆ›å»ºSqlSessionå¯¹è±¡ SqlSession sqlSession = sqlSessionFactory.openSession(); //æ³¨æ„ï¼šSQLä¸­çš„å¢åˆ æ”¹æŸ¥æ–¹æ³•éƒ½åœ¨SqlSessionå¯¹è±¡ä¸­ User user = sqlSession.selectOne(&quot;user.getUserById&quot;,1); System.out.println(user); //5.é‡Šæ”¾èµ„æº sqlSession.close(); &#125; //æ ¹æ®ç”¨æˆ·çš„å§“è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªé›†åˆ @Test public void test2()&#123; //é€šè¿‡å·¥å…·ç±»å¾—åˆ°SqlSessionFactoryå¯¹è±¡ SqlSessionFactory sqlSessionFactory = SqlSessionFactoryUtils.getSqlSessionFactory(); //åˆ›å»ºSqlSessionå¯¹è±¡ SqlSession sqlSession = sqlSessionFactory.openSession(); //æŸ¥è¯¢ï¼Œè¿”å›ä¸€ä¸ªlist List&lt;User&gt; user = sqlSession.selectList(&quot;user.getUserByName&quot;,&quot;å¼ &quot;); for(User u:user)&#123; System.out.println(u); &#125; //å…³é—­èµ„æº sqlSession.close(); &#125; //æ’å…¥ç”¨æˆ· @Test public void test3()&#123; SqlSessionFactory sqlSessionFactory = SqlSessionFactoryUtils.getSqlSessionFactory(); SqlSession openSession = sqlSessionFactory.openSession(); //è®¾ç½®ä¸ºtrueï¼ŒsqlSessionä¼šé»˜è®¤æäº¤ å°±ä¸ç”¨æ‰‹åŠ¨æäº¤ openSession.commit();// SqlSession openSession = sqlSessionFactory.openSession(true); User user = new User(); user.setUsername(&quot;å¤§è™22&quot;); user.setAddress(&quot;å®œæ˜Œ&quot;); user.setBirthday(new Date()); user.setSex(&quot;1&quot;); //é€šè¿‡selectKeyå°†æ’å…¥åç”Ÿæˆçš„ä¸»é”®è¿”å› openSession.insert(&quot;user.insertUser&quot;, user); System.out.println(user); //æäº¤äº‹åŠ¡ï¼ˆé»˜è®¤ä¸æäº¤ï¼‰ openSession.commit(); openSession.close(); &#125; //æ’å…¥ç”¨æˆ·ï¼Œè¿”å›UUID @Test public void test4()&#123; SqlSessionFactory sqlSessionFactory = SqlSessionFactoryUtils.getSqlSessionFactory(); SqlSession openSession = sqlSessionFactory.openSession(); //è®¾ç½®ä¸ºtrueï¼ŒsqlSessionä¼šé»˜è®¤æäº¤ å°±ä¸ç”¨æ‰‹åŠ¨æäº¤ openSession.commit();// SqlSession openSession = sqlSessionFactory.openSession(true); User user = new User(); user.setUsername(&quot;å¤§è™24&quot;); user.setAddress(&quot;å®œæ˜Œ&quot;); user.setBirthday(new Date()); user.setSex(&quot;1&quot;); //é€šè¿‡selectKeyå°†æ’å…¥åç”Ÿæˆçš„ä¸»é”®è¿”å› openSession.insert(&quot;user.insertUserUUID&quot;, user); System.out.println(user); //æäº¤äº‹åŠ¡ï¼ˆé»˜è®¤ä¸æäº¤ï¼‰ openSession.commit(); openSession.close(); &#125; //æ›´æ–° //--------------------------------æ³¨æ„ï¼šæ›´æ–°ä¸åˆ é™¤åä¸€å®šè¦æäº¤äº‹åŠ¡ @Test public void test5()&#123; SqlSessionFactory sqlSessionFactory = SqlSessionFactoryUtils.getSqlSessionFactory(); SqlSession openSession = sqlSessionFactory.openSession(); User user = new User(); user.setId(10); user.setUsername(&quot;å¤§è™25&quot;); //é€šè¿‡selectKeyå°†æ’å…¥åç”Ÿæˆçš„ä¸»é”®è¿”å›// openSession.insert(&quot;user.updateUserName&quot;, user); //æ³¨æ„ï¼šæ­¤å¤„ç”¨insertã€selectéƒ½å¯ä»¥è¾¾åˆ°ç›¸åŒçš„æ•ˆæœï¼Œä½†æ˜¯ä¸ºäº†è§„èŒƒ openSession.update(&quot;user.updateUserName&quot;, user); System.out.println(user); //æäº¤äº‹åŠ¡ï¼ˆé»˜è®¤ä¸æäº¤ï¼‰ openSession.commit(); openSession.close(); &#125; //åˆ é™¤ @Test public void test6()&#123; SqlSessionFactory sqlSessionFactory = SqlSessionFactoryUtils.getSqlSessionFactory(); SqlSession openSession = sqlSessionFactory.openSession(); openSession.delete(&quot;user.deleteUser&quot;,30); //æäº¤äº‹åŠ¡ï¼ˆé»˜è®¤ä¸æäº¤ï¼‰ openSession.commit(); openSession.close(); &#125;&#125; mybatisçš„æ ¸å¿ƒç±»ï¼šSqlSessionFactoryBuilderã€SqlSessionFactoryã€SqlSession 1.6å…¥é—¨å°ç»“ è¿æ¥æ± çš„é…ç½®æ˜¯åœ¨SqlMapConfig.xmlæ˜ å°„æ–‡ä»¶ä¸­é…ç½®å®Œæ¯•çš„ã€‚å…¶ä¸­å°±åŒ…æ‹¬äº†æ•°æ®åº“çš„è¿æ¥ã€‚ sqlæŸ¥è¯¢è¯­å¥çš„é…ç½®æ˜¯åœ¨å…³ç³»æ˜ å°„æ–‡ä»¶ä¸­å®ç°çš„ï¼Œåœ¨æ­¤å·¥ç¨‹ä¸‹æ˜¯user.xml æ¡†æ¶å›¾ï¼ˆè®°ï¼‰æ¡†æ¶å›¾çš„è§£é‡Šï¼šMyBatisæœ‰ä¸¤ç§é…ç½®æ–‡ä»¶ æ ¸å¿ƒé…ç½®æ–‡ä»¶SqlMapConfig.xml(ä¸€ä¸ª) å…³ç³»æ˜ å°„é…ç½®æ–‡ä»¶ï¼ˆå¤šä¸ªï¼‰ä¸€èˆ¬å¯¹åº”è¡¨çš„æ•°é‡é€šè¿‡SqlSeessionFactoryBulderç±»è¿åŠ è½½SqlSessionåªæ˜¯ä¸€ä¸ªæ¥å£ï¼ŒçœŸæ­£å¹²æ´»çš„æ˜¯åº•å±‚çš„æ‰§è¡Œå™¨ï¼ˆExecutorï¼‰2.MyBatisçš„daoå¼€å‘(ä¸¤ç§å®ç°æ–¹å¼ï¼Œæ¨èç¬¬äºŒç§)2.1åŸå§‹daoå¼€å‘æ³¨ï¼šä½¿ç”¨åŸæœ‰çš„user.xmlå…³ç³»é…ç½®æ–‡ä»¶ å®šä¹‰ä¸€ä¸ªUserDaoæ¥å£ Codepackage dao;import java.util.List;import pojo.User;/*å½“æˆ‘ä»¬@param id* @return* è¿™äº›çš„æ—¶å€™ï¼Œåœ¨æˆ‘ä»¬ä»åˆ«çš„ç±»é‡Œé¢å»è°ƒç”¨çš„æ—¶å€™ï¼Œä¹Ÿä¼šçœ‹åˆ°å…¶ä¸­çš„æ³¨é‡Š* å…»æˆå¥½ä¹ æƒ¯ï¼Œä¾¿äºè°ƒç”¨æ¥å£çš„æ—¶å€™ï¼ŒçŸ¥é“è¯¥æ¥å£æ˜¯å¹²å˜›ç”¨çš„*//** * ç”¨æˆ·ä¿¡æ¯æŒä¹…åŒ–æ¥å£ * @author rong * */public interface UserDao &#123; /** * æ ¹æ®ç”¨æˆ·IDæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ * @param id * @return */ public User getUserById(Integer id); /** * æ ¹æ®ç”¨æˆ·åæŸ¥æ‰¾ç”¨æˆ·åˆ—è¡¨ * @param name * @return */ public List&lt;User&gt;getUserByName(String name); /** * æ·»åŠ ç”¨æˆ· * @param user */ public void insertUser(User user);&#125; å®šä¹‰æ¥å£çš„å®ç°ç±» Codepackage dao.impl;import java.util.List;import org.apache.ibatis.session.SqlSession;import Utils.SqlSessionFactoryUtils;import dao.UserDao;import pojo.User;/** * ç”¨æˆ·ä¿¡æ¯æ¥å£å®ç°ç±» * @author rong * */public class UserDaoImpl implements UserDao &#123; @Override public User getUserById(Integer id) &#123; SqlSession openSession = SqlSessionFactoryUtils.getSqlSessionFactory().openSession(); User user = openSession.selectOne(&quot;user.getUserById&quot;,10); openSession.close(); return user; &#125; @Override public List&lt;User&gt; getUserByName(String name) &#123; // TODO Auto-generated method stub SqlSession openSession = SqlSessionFactoryUtils.getSqlSessionFactory().openSession(); List&lt;User&gt; users = openSession.selectList(&quot;user.getUserByName&quot;, name); openSession.close(); return users; &#125; @Override public void insertUser(User user) &#123; // TODO Auto-generated method stub SqlSession openSession = SqlSessionFactoryUtils.getSqlSessionFactory().openSession(); openSession.insert(&quot;user.insertUser&quot;, user); openSession.commit(); openSession.close(); &#125;&#125; æµ‹è¯•ç±»å°æŠ€å·§ï¼šä½¿ç”¨daoæµ‹è¯• ä¸€é”®ç”Ÿæˆ Codepackage Test;import static org.junit.Assert.fail;import java.util.Date;import java.util.List;import org.junit.Test;import dao.UserDao;import dao.impl.UserDaoImpl;import pojo.User;/** * ç›´æ¥é’ˆå¯¹æ¥å£ç”Ÿæˆæµ‹è¯•ç±» * @author rong * */public class UserDaoTest &#123; @Test public void testGetUserById() &#123; UserDao userDao=new UserDaoImpl(); User user = userDao.getUserById(10); System.out.println(user); &#125; @Test public void testGetUserByName() &#123; UserDao userDao=new UserDaoImpl(); List&lt;User&gt; users = userDao.getUserByName(&quot;å¼ &quot;); for(User u:users)&#123; System.out.println(u); &#125; &#125; @Test public void testInsertUser() &#123; UserDao userDao=new UserDaoImpl(); User user = new User(); user.setUsername(&quot;å¤§è™25&quot;); user.setAddress(&quot;å®œæ˜Œ&quot;); user.setBirthday(new Date()); user.setSex(&quot;1&quot;); userDao.insertUser(user); &#125;&#125; 2.2æ¥å£åŠ¨æ€ä»£ç†(åªæœ‰æ¥å£ï¼Œæ²¡æœ‰å®ç°ç±»)1 å®šä¹‰daoæ¥å£Codepackage Mapper;import java.util.List;import pojo.User;/*å½“æˆ‘ä»¬@param id* @return* è¿™äº›çš„æ—¶å€™ï¼Œåœ¨æˆ‘ä»¬ä»åˆ«çš„ç±»é‡Œé¢å»è°ƒç”¨çš„æ—¶å€™ï¼Œä¹Ÿä¼šçœ‹åˆ°å…¶ä¸­çš„æ³¨é‡Š* å…»æˆå¥½ä¹ æƒ¯ï¼Œä¾¿äºè°ƒç”¨æ¥å£çš„æ—¶å€™ï¼ŒçŸ¥é“è¯¥æ¥å£æ˜¯å¹²å˜›ç”¨çš„*//** * ç”¨æˆ·ä¿¡æ¯æŒä¹…åŒ–æ¥å£ï¼ˆdaoåŠ¨æ€ä»£ç†ï¼‰æ ¸å¿ƒæ–¹æ³•openSession.getMapper(mapper.class)å¾—åˆ°ä»£ç†å¯¹è±¡ * @author rong * */public interface mapper&#123; /** * æ ¹æ®ç”¨æˆ·IDæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ * @param id * @return */ public User getUserById(Integer id); /** * æ ¹æ®ç”¨æˆ·åæŸ¥æ‰¾ç”¨æˆ·åˆ—è¡¨ * @param name * @return */ public List&lt;User&gt;getUserByName(String name); /** * æ·»åŠ ç”¨æˆ· * @param user */ public void insertUser(User user);&#125; å…³ç³»é…ç½®æ–‡ä»¶çš„è§„åˆ™ 1.namespaceå¿…éœ€æ˜¯æ¥å£çš„å…¨è·¯å¾„å2.æ¥å£çš„æ–¹æ³•åå¿…éœ€ä¸æ˜ å°„æ–‡ä»¶çš„sql idä¸€è‡´3.æ¥å£çš„è¾“å…¥å‚æ•°å¿…éœ€ä¸æ˜ å°„æ–‡ä»¶çš„parameterTypeç±»å‹ä¸€è‡´4.æ¥å£çš„è¿”å›ç±»å‹å¿…é¡»ä¸æ˜ å°„æ–‡ä»¶çš„resultTypeç±»å‹ä¸€è‡´ Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE mapperPUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;!-- daoçš„åŠ¨æ€ä»£ç†è§„åˆ™ï¼š 1.namespaceå¿…é¡»æ˜¯daoæ¥å£ç±»çš„å…¨è·¯å¾„ 2.æ˜ å°„æ–‡ä»¶çš„sql IDå¿…é¡»ä¸æ¥å£çš„æ–¹æ³•åä¸€è‡´ 3.æ˜ å°„æ–‡ä»¶parameterTypeçš„ç±»å‹å¿…é¡»ä¸æ¥å£è¾“å…¥å‚æ•°ä¸€è‡´ 4.æ˜ å°„æ–‡ä»¶çš„resultTypeçš„ç±»å‹å¿…é¡»ä¸æ¥å£çš„è¾“å‡ºå‚æ•°ä¸€è‡´ --&gt;&lt;mapper namespace=&quot;Mapper.mapper&quot;&gt; &lt;select id=&quot;getUserById&quot; parameterType=&quot;int&quot; resultType=&quot;pojo.User&quot;&gt; SELECT * FROM USER WHERE id = #&#123;id1&#125; &lt;/select&gt;&lt;!-- =================================================================================================== --&gt; &lt;!-- å¦‚æœä½ è¿”å›å€¼æ˜¯ä¸ºé›†åˆï¼ˆä¾‹å¦‚ä¸€ä¸ªlistï¼‰ï¼Œé‚£ä¹ˆä½ åªéœ€è¦è¿”å›å€¼ç±»å‹å¡«è¿”å›listä¸­çš„ç±»å‹å°±è¡Œ --&gt; &lt;select id=&quot;getUserByName&quot; parameterType=&quot;String&quot; resultType=&quot;pojo.User&quot;&gt; &lt;!-- SELECT * FROM USER WHERE username LIKE #&#123;name111&#125; --&gt; &lt;!-- æ³¨æ„ï¼š $&#123;&#125;æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ç¬¦ ç›®çš„æ˜¯ä½¿æˆ‘ä»¬ä¼ å…¥çš„å­—ç¬¦ä¸²ä¸ç”¨æ¯ä¸€æ¬¡éƒ½å¸¦ä¸€ä¸ª%String%ï¼Œå¦‚ä½•å»æ‰ç™¾åˆ†å· ï¼ï¼ï¼å¦‚æœä½ è¦ä¼ å…¥çš„æ˜¯åŸºæœ¬ç±»å‹ï¼Œæ‹¬å·é‡Œé¢ä¸€å®šè¦å†™valueï¼ï¼ï¼ --&gt; SELECT id,username,birthday,sex,address FROM USER WHERE username LIKE &apos;%$&#123;value&#125;%&apos;; &lt;/select&gt;&lt;!-- =================================================================================================== --&gt; &lt;!--æ’å…¥ç”¨æˆ· mysqlå†…éƒ¨å‡½æ•°ï¼šselect LAST_INSERT_ID()è¿”å›æœ€åä¸€æ¬¡æ’å…¥å€¼çš„ID #&#123;&#125;å ä½ç¬¦é‡Œé¢å¡«Userç±»ä¸­çš„å±æ€§ å°è¯•è¿‡ï¼Œå¿…é¡»ä½¿ç”¨Userç±»ä¸­çš„å±æ€§ï¼Œå¦åˆ™æŠ¥é”™ useGeneratedKeys:ä½¿ç”¨è‡ªå¢ keyPropertyï¼Œè¿™é‡Œæ˜¯userçš„ä¸»é”® è¿™ä¸¤ä¸ªé…ç½®ä¼šè‡ªåŠ¨è°ƒç”¨ select LAST_INSERT_ID() mysqlè‡ªå¸¦å‡½æ•°ï¼Œè¿”å›æœ€åä¸€æ¬¡æ’å…¥å€¼çš„ID --&gt; &lt;insert id=&quot;insertUser&quot; parameterType=&quot;pojo.User&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt; &lt;!-- éœ€æ±‚ï¼šå½“æˆ‘ä»¬æ’å…¥ä¸€æ¡è¯­å¥æ—¶ï¼Œæˆ‘ä»¬å¾€å¾€å¯èƒ½å°†å¯¹å¦å¤–ä¸€å¼ è¡¨äº§ç”Ÿå½±å“ï¼Œéœ€è¦å¾—åˆ°è¯¥æ’å…¥æ•°æ®çš„ä¸»é”®ID selectKey:ä¸»é”®è¿”å› keyProperty:userè¡¨ä¸­çš„ä¸»é”®çš„å±æ€§ è€ƒè™‘çš„æ˜¯UUIDè¦äº¤ç»™userç±»çš„å“ªä¸€ä¸ªå±æ€§ resultTypeï¼šä¸»é”®çš„æ•°æ®ç±»å‹ orderï¼šæŒ‡selectKeyåœ¨ä½•æ—¶æ‰§è¡Œï¼ŒAFTERè¡¨ç¤ºåœ¨ä¹‹åï¼ŒBEFOREè¡¨ç¤ºåœ¨ä¹‹å‰ å°†è¿”å›çš„ä¸»é”®è¿”å›åˆ°userç±»ä¸­çš„idå±æ€§ --&gt; &lt;!-- &lt;selectKey keyProperty=&quot;id&quot; resultType=&quot;int&quot; order=&quot;AFTER&quot;&gt; select LAST_INSERT_ID() &lt;/selectKey&gt; --&gt; INSERT INTO mybatis.user ( username, birthday, sex, address) VALUES(#&#123;username&#125;, #&#123;birthday&#125;, #&#123;sex&#125;, #&#123;address&#125;); &lt;/insert&gt;&lt;!-- ================================================================================================ --&gt; &lt;update id=&quot;updateUserName&quot; parameterType=&quot;pojo.User&quot;&gt; update user set username=#&#123;username&#125; where id=#&#123;id&#125; &lt;/update&gt;&lt;!-- ================================================================================================== --&gt; &lt;delete id=&quot;deleteUser&quot; parameterType=&quot;int&quot;&gt; delete from user where id=#&#123;id&#125; &lt;/delete&gt;&lt;/mapper&gt; åœ¨SqlMapConfigä¸­åŠ è½½æ˜ å°„æ–‡ä»¶ Code&lt;mappers&gt; &lt;!-- resourceåŸºäºcalsspathçš„è·¯å¾„å»æŸ¥æ‰¾ --&gt; &lt;mapper resource=&quot;mybatis/userMapper.xml&quot;/&gt; &lt;mapper resource=&quot;mybatis/user.xml&quot;/&gt; &lt;/mappers&gt; æµ‹è¯•ç±»é‚£ä¹ˆï¼ŒåŠ¨æ€ä»£ç†å°†ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬ æ ¸å¿ƒæ–¹æ³• openSession.getMapper(mapper.class)è¿”å›è¯¥ç±»å£çš„ä¸€ä¸ªåŒ¿åå®ç°ç±»ï¼Œä½ åªéœ€è¦ç”¨æ¥å£å»æ¥ Codepackage Test;import java.util.Date;import java.util.List;import org.apache.ibatis.session.SqlSession;import org.junit.Test;import Mapper.mapper;import Utils.SqlSessionFactoryUtils;import pojo.User;/** * daoåŠ¨æ€ä»£ç†çš„æµ‹è¯•ç±» * @author rong * */public class mapperTest &#123; @Test public void testGetUserById() &#123; SqlSession openSession = SqlSessionFactoryUtils.getSqlSessionFactory().openSession(); //è·å¾—ä»£ç†å¯¹è±¡ï¼Œä¼ å…¥çš„å‚æ•°æ˜¯æ¥å£çš„classæ–‡ä»¶ mapper mapp = openSession.getMapper(mapper.class); User user = mapp.getUserById(10); System.out.println(user); openSession.close(); &#125; @Test public void testGetUserByName() &#123; SqlSession openSession = SqlSessionFactoryUtils.getSqlSessionFactory().openSession(); //è·å¾—ä»£ç†å¯¹è±¡ mapper mapp = openSession.getMapper(mapper.class); List&lt;User&gt; users = mapp.getUserByName(&quot;å¤§&quot;); for(User user:users)&#123; System.out.println(user); &#125; openSession.close(); &#125; @Test public void testInsertUser() &#123; SqlSession openSession = SqlSessionFactoryUtils.getSqlSessionFactory().openSession(); //è·å¾—ä»£ç†å¯¹è±¡ mapper mapp = openSession.getMapper(mapper.class); User user = new User(); user.setUsername(&quot;å¤§è™26&quot;); user.setAddress(&quot;å®œæ˜Œ&quot;); user.setBirthday(new Date()); user.setSex(&quot;1&quot;); mapp.insertUser(user); openSession.commit(); openSession.close(); &#125;&#125; 3.SqlMapConfig.xmlé…ç½® SqlMapConfig.xmlä½œä¸ºmybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå…¶çº¦æŸé‡‡ç”¨DTDï¼Œå…¶å„ä¸ªæ ‡ç­¾çš„å«ä¹‰å¦‚ä¸‹ï¼š 3.1 propertiesé…ç½®é…ç½®åŸå› ï¼šåœ¨æˆ‘ä»¬é…ç½®æ•°æ®åº“è¿æ¥è¯æ—¶å¾€å¾€æœ‰è®¸å¤šå‚æ•°ï¼Œæˆ‘ä»¬éœ€è¦æŠŠè¿™äº›å‚æ•°æŠ½å–å‡ºæ¥æ–¹ä¾¿ç»Ÿä¸€åŒ–ç®¡ç†ã€‚db.propertiesCodejdbc.driverClass=com.mysql.jdbc.Driverjdbc.url=jdbc:mysql://localhost:3306/mybatis?characterEncoding=utf-8jdbc.username=rootjdbc.password=root 3.2 typeAliases(åˆ«åé…ç½®) åˆ«åé…ç½®ï¼š ä¸ºä»€ä¹ˆè¦ä½¿ç”¨åˆ«åï¼šæˆ‘ä»¬çš„å…³ç³»æ˜ å°„æ–‡ä»¶çš„parameterTypeå¾€å¾€æ˜¯ä¸€ä¸ªç±»å.åŒ…åï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦ç®€å†™ æœ‰ä¸¤ç§é…ç½®æ–¹å¼ 1.å•ä¸ªåˆ«åå®šä¹‰ï¼šåŒ…å.ç±»å 2.åˆ«ååŒ…æ‰«æå™¨ï¼ˆæ¨èä½¿ç”¨ï¼‰ç›´æ¥åŒ…åï¼Œåœ¨å…³ç³»æ˜ å°„ä¸­å¯ç›´æ¥ç±»åï¼Œ ç›¸å½“äºåœ¨ä½¿ç”¨çš„æ—¶å€™ä¸ç”¨å†™åŒ…åï¼Œæ›´åŠ æ–¹ä¾¿ 3.3mappers(æ˜ å°„å™¨é…ç½®) åŠ è½½mapperæ˜ å°„æ–‡ä»¶æœ‰å››ç§æ–¹å¼ 1.åŠ è½½resource 2.classæ‰«æï¼ˆdaoåŠ¨æ€ä»£ç† æ¥å£+å…³ç³»æ˜ å°„æ–‡ä»¶ï¼‰ è¦æ±‚ :1.æ˜ å°„æ–‡ä»¶å¿…é¡»å’Œæ¥å£ä½äºåŒä¸€ç›®å½• 2.æ˜ å°„æ–‡ä»¶ä¸€å®šè¦ä¸æ¥å£åŒåï¼ˆå¦åˆ™æ˜ å°„æ–‡ä»¶æ‰¾ä¸åˆ°æ¥å£ï¼‰ 3.åŒ…æ‰«æ ä½¿ç”¨åœºæ™¯ï¼šå½“æˆ‘ä»¬æœ‰å‡ ç™¾ä¸ªpojoçš„æ¥å£æ—¶ï¼Œéœ€è¦å¯¹æŸä¸€ä¸ªåŒ…ä¸‹é¢çš„é…ç½®æ–‡ä»¶è¿›è¡ŒåŒä¸€æ‰«æ è¦æ±‚ :1.æ˜ å°„æ–‡ä»¶å¿…é¡»å’Œæ¥å£ä½äºåŒä¸€ç›®å½• 2.æ˜ å°„æ–‡ä»¶ä¸€å®šè¦ä¸æ¥å£åŒåï¼ˆå¦åˆ™æ˜ å°„æ–‡ä»¶æ‰¾ä¸åˆ°æ¥å£ï¼‰ 4.ç»å¯¹è·¯å¾„ï¼ˆä»ç£ç›˜ä¸Šæ‰¾ï¼Œä¸€èˆ¬ä¸ä½¿ç”¨è¯¥æ–¹æ³•ï¼‰ æœ€åå°†ä¸Šè¿°æ“ä½œæ”¾åœ¨ä¸€èµ·SqlMapConfig.xmlå¦‚ä¸‹ï¼šCode&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE configurationPUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt; &lt;!-- å…ˆåŠ è½½å†…éƒ¨æ ‡ç­¾ï¼Œå†åŠ è½½å¤–éƒ¨æ–‡ä»¶ï¼Œå±æ€§åç§°ä¸€è‡´æ—¶ï¼Œæ›¿æ¢å†…å®¹ --&gt; &lt;properties resource=&quot;db.properties&quot;&gt; &lt;property name=&quot;jdbc.username&quot; value=&quot;root1&quot;/&gt; &lt;property name=&quot;jdbc.password&quot; value=&quot;root&quot;/&gt; &lt;/properties&gt;&lt;!-- åˆ«åé…ç½®ï¼š ä¸ºä»€ä¹ˆè¦ä½¿ç”¨åˆ«åï¼šæˆ‘ä»¬çš„å…³ç³»æ˜ å°„æ–‡ä»¶çš„parameterTypeå¾€å¾€æ˜¯ä¸€ä¸ªç±»å.åŒ…åï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦ç®€å†™ æœ‰ä¸¤ç§é…ç½®æ–¹å¼ 1.å•ä¸ªåˆ«åå®šä¹‰ï¼šåŒ…å.ç±»å 2.åˆ«ååŒ…æ‰«æå™¨ï¼ˆæ¨èä½¿ç”¨ï¼‰ç›´æ¥åŒ…åï¼Œåœ¨å…³ç³»æ˜ å°„ä¸­å¯ç›´æ¥ç±»åï¼Œ ç›¸å½“äºåœ¨ä½¿ç”¨çš„æ—¶å€™ä¸ç”¨å†™åŒ…åï¼Œæ›´åŠ æ–¹ä¾¿ --&gt; &lt;typeAliases&gt; &lt;!-- &lt;typeAlias type=&quot;pojo.User&quot; alias=&quot;user&quot;/&gt; --&gt; &lt;package name=&quot;pojo&quot;/&gt; &lt;/typeAliases&gt; &lt;!-- å’Œspringæ•´åˆå environmentsé…ç½®å°†åºŸé™¤ --&gt; &lt;environments default=&quot;development&quot;&gt; &lt;environment id=&quot;development&quot;&gt; &lt;!-- ä½¿ç”¨jdbcäº‹åŠ¡ç®¡ç† --&gt; &lt;transactionManager type=&quot;JDBC&quot; /&gt; &lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;dataSource type=&quot;POOLED&quot;&gt; &lt;property name=&quot;driver&quot; value=&quot;$&#123;jdbc.driverClass&#125;&quot; /&gt; &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt; &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot; /&gt; &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot; /&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;/environments&gt; &lt;!-- åŠ è½½æ˜ å°„æ–‡ä»¶ --&gt; &lt;!-- åŠ è½½mapperæ˜ å°„æ–‡ä»¶æœ‰å››ç§æ–¹å¼ 1.åŠ è½½resource &lt;mapper resource=&quot;mybatis/user.xml&quot;/&gt; 2.classæ‰«æï¼ˆdaoåŠ¨æ€ä»£ç† æ¥å£+å…³ç³»æ˜ å°„æ–‡ä»¶ï¼‰&lt;mapper class=&quot;Mapper.mapper&quot;/&gt; è¦æ±‚ :1.æ˜ å°„æ–‡ä»¶å¿…é¡»å’Œæ¥å£ä½äºåŒä¸€ç›®å½• 2.æ˜ å°„æ–‡ä»¶ä¸€å®šè¦ä¸æ¥å£åŒåï¼ˆå¦åˆ™æ˜ å°„æ–‡ä»¶æ‰¾ä¸åˆ°æ¥å£ï¼‰ 3.åŒ…æ‰«æ ä½¿ç”¨åœºæ™¯ï¼šå½“æˆ‘ä»¬æœ‰å‡ ç™¾ä¸ªpojoçš„æ¥å£æ—¶ï¼Œéœ€è¦å¯¹æŸä¸€ä¸ªåŒ…ä¸‹é¢çš„é…ç½®æ–‡ä»¶è¿›è¡ŒåŒä¸€æ‰«æ è¦æ±‚ :1.æ˜ å°„æ–‡ä»¶å¿…é¡»å’Œæ¥å£ä½äºåŒä¸€ç›®å½• 2.æ˜ å°„æ–‡ä»¶ä¸€å®šè¦ä¸æ¥å£åŒåï¼ˆå¦åˆ™æ˜ å°„æ–‡ä»¶æ‰¾ä¸åˆ°æ¥å£ï¼‰ 4.&lt;mapper url=&quot;&quot;/&gt;ç»å¯¹è·¯å¾„ï¼ˆä»ç£ç›˜ä¸Šæ‰¾ï¼Œä¸€èˆ¬ä¸ä½¿ç”¨è¯¥æ–¹æ³•ï¼‰ --&gt; &lt;mappers&gt; &lt;!-- resourceåŸºäºcalsspathçš„è·¯å¾„å»æŸ¥æ‰¾ --&gt; &lt;!--&lt;mapper resource=&quot;mybatis/userMapper.xml&quot;/&gt; --&gt; &lt;!-- &lt;mapper class=&quot;Mapper.mapper&quot;/&gt; --&gt; &lt;mapper resource=&quot;mybatis/user.xml&quot;/&gt; &lt;package name=&quot;Mapper&quot;/&gt; &lt;/mappers&gt;&lt;/configuration&gt;","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"æ¡†æ¶å­¦ä¹ ","slug":"æ¡†æ¶å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/æ¡†æ¶å­¦ä¹ /"}]},{"title":"MySqlè¿æ¥å¼‚å¸¸è§£å†³","slug":"javaåŸºç¡€/MySql","date":"2019-03-23T16:00:00.000Z","updated":"2019-03-24T13:04:40.330Z","comments":true,"path":"2019/03/24/javaåŸºç¡€/MySql/","link":"","permalink":"http://SlectRxz.github.io/2019/03/24/javaåŸºç¡€/MySql/","excerpt":"å…³äºæœåŠ¡å™¨å¯åŠ¨MySqlæœåŠ¡å¤±è´¥ï¼Œä»¥åŠå¯†ç é”™è¯¯å¦‚ä½•ä¿®æ”¹","text":"å…³äºæœåŠ¡å™¨å¯åŠ¨MySqlæœåŠ¡å¤±è´¥ï¼Œä»¥åŠå¯†ç é”™è¯¯å¦‚ä½•ä¿®æ”¹ MYSQLä¿®å¤æ—¥å¿— æœ€è¿‘å¾ˆæ‰‹æ®‹çš„æŠŠMYSQLä¸­çš„mysqlæ•°æ®åº“ä¸­çš„userè¡¨ç»™åˆ æ‰äº†ï¼Œç„¶ååœ¨æœåŠ¡ä¸­MYSQLå°±æ— æ³•å¯åŠ¨ï¼Œwindowsæ— æ³•å¯åŠ¨MySQLæœåŠ¡æŠ¥é”™1067 çš„è§£å†³åŠæ³•ã€‚ åœ¨ç½‘ä¸Šæ‰¾äº†è®¸å¤šèµ„æ–™ï¼Œå…¶ä¸­å¤§æ¦‚éƒ½æ˜¯å¸è½½é‡è£…ï¼Œä½œä¸ºç¨‹åºå‘˜æ°¸ä¸æ”¾å¼ƒçš„ç²¾ç¥ï¼Œç»ˆäºè®©æˆ‘æ‰¾åˆ°äº†ä¸€ç¯‡å¤§ä½¬çš„åšå®¢ï¼Œä¸ç”¨é‡æ–°å®‰è£…ã€‚ é“¾æ¥å¦‚ä¸‹ï¼šé”™è¯¯1067è§£å†³åšå®¢å¤§è‡´æ„æ€å°±æ˜¯æŠŠå®‰è£…MySQLè·¯å¾„ä¸‹çš„æ–‡ä»¶copyåˆ°Cç›˜ä¸‹çš„ProgramDataä¸‹çš„MySQLå› ä¸ºwindowsæ— æ³•å¯åŠ¨MySQLæœåŠ¡æŠ¥é”™1067çš„åŸå› æ˜¯ç”±äºC:\\ProgramData\\MySQL\\MySQL Server 5.5\\data\\mysqlä¸‹é¢ç¼ºå°‘æ–‡ä»¶ï¼ˆåæ­£æˆ‘æ˜¯ç”±äºåˆ æ‰äº†userï¼‰ï¼Œæ­£æ˜¯å¦‚æ­¤ï¼Œæˆ‘ä»¬æŠŠMySQLå®‰è£…ç›®å½•ä¸‹mysqlæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ï¼Œçœ‹ç¼ºä»€ä¹ˆå°±copyä»€ä¹ˆã€‚ 1.æ‰¾æ–‡ä»¶ 2.ç¼ºå•¥è¡¥å•¥ï¼Œä¸¤ä¸ªå¯¹åº”çš„ ç„¶åæ­¤æ—¶æ­¤åˆ»ï¼Œå‘ç°æœåŠ¡ä¸­MYSQLæœåŠ¡å¯ä»¥æ­£å¸¸å¯åŠ¨äº†ï¼Œä½†æ˜¯ï¼ï¼ï¼æ•°æ®åº“é“¾æ¥é”™è¯¯1045Access denied for user â€˜rootâ€˜@â€™localhostâ€™ (using password:YES) è¿™å°±æ˜¯å¯†ç é”™è¯¯å˜›ã€‚æˆ‘ä¼°è®¡æ˜¯ç”±äºæˆ‘æ¢äº†é‚£ä¸‰ä¸ªuseræ–‡ä»¶å¯¼è‡´çš„ï¼Œæ­¤æ—¶æ­¤åˆ»ï¼Œåªæƒ³è¯´ä¸€å¥MMP MySQLä¿®æ”¹ç™»å½•å¯†ç è§£å†³æ–¹æ³•ç»è¿‡ä¸æ‡ˆåŠªåŠ›ï¼Œç»ˆäºæ‰¾åˆ°äº†ä¿®æ”¹å¯†ç çš„æ–¹æ³•ã€‚1.æ‰¾åˆ°MYSQLå®‰è£…è·¯å¾„ä¸‹çš„my.iniæ–‡ä»¶ï¼Œç”¨è®°äº‹æœ¬æ‰“å¼€2.æ·»åŠ è¯­å¥skip-grant-tablesåœ¨å¦‚ä¸‹ä½ç½®æ·»åŠ ï¼šï¼ˆå›¾ç‰‡æ¥è‡ªç½‘ç»œï¼‰å¤§ä½¬çš„è§£é‡Šskip-grant-tablesçš„ä½œç”¨æ˜¯ï¼š skip-grant-tablesä½œä¸ºå¯åŠ¨å‚æ•°çš„ä½œç”¨ï¼šMYSQLæœåŠ¡å™¨ä¸åŠ è½½æƒé™åˆ¤æ–­ï¼Œä»»ä½•ç”¨æˆ·éƒ½èƒ½è®¿é—®æ•°æ®åº“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ·»åŠ åæ•°æ®åº“çš„å®‰å…¨æ€§å°†ä¼šé™ä½ã€‚ 3.åœ¨cmdä¸‹mysql -u root -p,é‡åˆ°Enter passwordç›´æ¥å›è½¦ æ³¨æ„ï¼šå¦‚æœä½ æ˜¾ç¤ºæ— æ•ˆå‘½ä»¤ï¼Œå°±å…ˆè¿›å…¥åˆ°MYSQLç›®å½•ä¸‹çš„binç›®å½•åœ¨è¿æ¥ 4.è¿›å…¥mysqlæ•°æ®åº“ï¼Œä¿®æ”¹å¯†ç  use mysql//ä½¿ç”¨è¿™ä¸ªæ•°æ®åº“update user set password=password(â€œ123456â€) where user=â€rootâ€//ä¿®æ”¹æ•°æ®åº“å¯†ç flush privileges//åˆ·æ–°æ•°æ®åº“ æ­¤æ—¶ä¿®æ”¹å¯†ç å·²ç»å®Œæˆï¼Œå†å°†my.iniä¸­æ·»åŠ çš„è¯­å¥åˆ æ‰ï¼Œå†é‡å¯MySQLæœåŠ¡å³å¯ã€‚","categories":[{"name":"MySql","slug":"MySql","permalink":"http://SlectRxz.github.io/categories/MySql/"}],"tags":[{"name":"javaWebåŸºç¡€","slug":"javaWebåŸºç¡€","permalink":"http://SlectRxz.github.io/tags/javaWebåŸºç¡€/"}]},{"title":"Springå­¦ä¹ æ—¥å¿—ï¼ˆ2ï¼‰","slug":"java/Springå­¦ä¹ (2)","date":"2019-03-19T16:00:00.000Z","updated":"2019-12-20T12:05:32.415Z","comments":true,"path":"2019/03/20/java/Springå­¦ä¹ (2)/","link":"","permalink":"http://SlectRxz.github.io/2019/03/20/java/Springå­¦ä¹ (2)/","excerpt":"Springæ¡†æ¶çš„AOPçš„æ³¨è§£å¼€å‘ï¼ŒSpringJDBCæ¨¡æ¿çš„ä½¿ç”¨","text":"Springæ¡†æ¶çš„AOPçš„æ³¨è§£å¼€å‘ï¼ŒSpringJDBCæ¨¡æ¿çš„ä½¿ç”¨ Springï¼ˆ1ï¼‰å›é¡¾ Springçš„IOCçš„æ³¨è§£å¼€å‘ æ³¨è§£çš„å…¥é—¨ å¼•å…¥aopçš„åŒ… å¼•å…¥contextçº¦æŸ å¼€å¯æ‰«æç±»ä¸Šçš„æ³¨è§£&lt;context:component-scan /&gt; å¼€å¯æ‰«ææ–¹æ³•ã€æˆå‘˜ä¸Šçš„æ³¨è§£&lt;context:annotation-config/&gt; ä½¿ç”¨æ³¨è§£å¼€å‘ @Component ï¼šå®šä¹‰Bean @Controller ï¼šWEBå±‚ @Service ï¼šServiceå±‚ @Repository ï¼šDAOå±‚ å±æ€§æ³¨å…¥ï¼š æ™®é€šå±æ€§ ï¼š@Value å¯¹è±¡å±æ€§ ï¼š@Resource ä¸æ˜¯Springä¸­çš„ @Autowired ï¼šæŒ‰ç±»å‹æ³¨å…¥å±æ€§ï¼ŒæŒ‰åç§°@Qulifier XMLæ–¹å¼å’Œæ³¨è§£æ–¹å¼æ¯”è¾ƒ XMLæ–¹å¼ ï¼šé€‚ç”¨æ€§æ›´å¹¿ï¼Œç»“æ„æ›´åŠ æ¸…æ™°ã€‚ æ³¨è§£æ–¹å¼ ï¼šé€‚ç”¨ç±»æ˜¯è‡ªå·±å®šä¹‰ï¼Œå¼€å‘æ›´æ–¹ä¾¿ã€‚ XMLå’Œæ³¨è§£çš„æ•´åˆå¼€å‘ï¼ˆé‡ç‚¹ï¼‰ XMLå®šä¹‰ç±» æ³¨è§£å±æ€§æ³¨å…¥ Springçš„AOPçš„åŸºäºAspectJçš„XMLçš„å¼€å‘ AOPçš„æ¦‚è¿° AOPï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œæ˜¯OOPçš„æ‰©å±•å’Œå»¶ä¼¸ï¼Œæ˜¯ç”¨æ¥è§£å†³OOPé‡åˆ°é—®é¢˜ã€‚ Springçš„AOP åº•å±‚çš„å®ç° JDKçš„åŠ¨æ€ä»£ç† Cglibçš„åŠ¨æ€ä»£ç† AOPçš„ç›¸å…³æœ¯è¯­ è¿æ¥ç‚¹ï¼šå¯ä»¥è¢«æ‹¦æˆªçš„ç‚¹ã€‚ åˆ‡å…¥ç‚¹ï¼šçœŸæ­£è¢«æ‹¦æˆªçš„ç‚¹ã€‚ é€šçŸ¥ï¼šå¢å¼ºæ–¹æ³• å¼•ä»‹ï¼šç±»çš„å¢å¼º ç›®æ ‡ï¼šè¢«å¢å¼ºçš„å¯¹è±¡ ç»‡å…¥ï¼šå°†å¢å¼ºåº”ç”¨åˆ°ç›®æ ‡çš„è¿‡ç¨‹ã€‚ ä»£ç†ï¼šç»‡å…¥å¢å¼ºåäº§ç”Ÿçš„å¯¹è±¡ åˆ‡é¢ï¼šåˆ‡å…¥ç‚¹å’Œé€šçŸ¥çš„ç»„åˆ AOPçš„å…¥é—¨å¼€å‘ å¼•å…¥jaråŒ… ç¼–å†™ç›®æ ‡ç±»å¹¶é…ç½® ç¼–å†™åˆ‡é¢ç±»å¹¶é…ç½® è¿›è¡Œaopçš„é…ç½®Code&lt;aop:config&gt; &lt;aop:pointcut expression=â€execution(è¡¨è¾¾å¼)â€ id=â€pc1â€/&gt; &lt;aop:aspect &gt; &lt;aop:before method=â€â€ pointcut-ref=â€pc1â€/&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt; é€šçŸ¥ç±»å‹ å‰ç½®é€šçŸ¥ åç½®é€šçŸ¥ ç¯ç»•é€šçŸ¥ å¼‚å¸¸æŠ›å‡ºé€šçŸ¥ æœ€ç»ˆé€šçŸ¥ åˆ‡å…¥ç‚¹è¡¨è¾¾å¼å†™æ³•Springçš„åŸºäºApspectJçš„æ³¨è§£çš„AOPå¼€å‘###1. å®ç°æ­¥éª¤1.1åˆ›å»ºé¡¹ç›®ï¼Œå¯¼å…¥jaråŒ…1.2å¼•å…¥é…ç½®æ–‡ä»¶Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;äº‹åŠ¡ç®¡ç†&lt;/beans&gt; 1.3ç¼–å†™ç›®æ ‡ç±»å¹¶é…ç½®Code&lt;bean id=&quot;orderDao&quot; class=&quot;Spring.demo2.OrderDao&quot;&gt;&lt;/bean&gt; ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ç±»ä¸Šæ³¨è§£çš„æ–¹å¼ï¼Œæ­¤æ—¶å¼€å¯ç±»ä¸Šæ³¨è§£æ‰«æ &lt;context:component-scan base-package=â€Spring.demo2â€&gt;&lt;/context:component-scan&gt; 1.4ç¼–å†™åˆ‡é¢ç±»å¹¶é…ç½® è¯´æ˜ï¼š1.éœ€è¦åœ¨ç±»ä¸Šé…ç½®@Aspectï¼Œè¯´æ˜è¿™æ˜¯ä¸€ä¸ªåˆ‡é¢ç±»2.åœ¨æ–¹æ³•ä¸Šé…ç½®å¦‚ä½•å¢å¼ºï¼Œä¸­çš„å±æ€§ä¼šå‘Šè¯‰ä½ Springåœ¨å“ªä¸ªæ–¹æ³•ä¸Šçš„å“ªä¸ªç±»ä¸Šåº”ç”¨å¢å¼ºã€‚Codepackage Spring.demo2;import org.aspectj.lang.ProceedingJoinPoint;import org.aspectj.lang.annotation.AfterReturning;import org.aspectj.lang.annotation.Around;import org.aspectj.lang.annotation.Aspect;import org.aspectj.lang.annotation.Before;import org.springframework.stereotype.Component;@Component(value=&quot;myAspect&quot;)@Aspectpublic class MyAspect &#123; @Before(value=&quot;execution(* Spring.demo2.OrderDao.add(..))&quot;) public void befor()&#123; System.out.println(&quot;----------å‰ç½®å¢å¼º-----&quot;); &#125; //å¯ä»¥è·å–è¢«å¢å¼ºæ–¹æ³•çš„è¿”å›å€¼ï¼Œæ³¨æ„ä¸¤ä¸ªresultå¿…é¡»ç›¸åŒ @AfterReturning(value=&quot;execution(* Spring.demo2.OrderDao.delete(..))&quot;,returning=&quot;result&quot;) public void after(Object result)&#123; System.out.println(&quot;-------åç½®å¢å¼º-----&quot;+result); &#125; @Around(value=&quot;execution(* Spring.demo2.OrderDao.update(..))&quot;) public Object around(ProceedingJoinPoint joinPoint) throws Throwable&#123; System.out.println(&quot;-------ç¯ç»•å‰å¢å¼º------&quot;); Object proceed = joinPoint.proceed(); System.out.println(&quot;----ç¯ç»•åå¢å¼º-------&quot;); return proceed; &#125;&#125; 1.5ç¼–å†™æµ‹è¯•ç±»Codepackage Spring.demo2;import javax.annotation.Resource;import org.junit.runner.RunWith;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;/** * Springçš„AOPçš„åŸºäºAspectJæ³¨è§£å¼€å‘ * æ³¨æ„äº‹é¡¹ï¼š * 1.å¯¼åŒ… * 2.å¯¼å…¥XMLä¸­çš„é…ç½®æ–‡ä»¶ * 3.åœ¨XMLä¸­å¼€å¯AOPæ³¨è§£å¼€å‘&lt;aop:aspectj-autoproxy/&gt; * 4.æ‰«æç±»ä¸Šçš„æ³¨è§£&lt;context:component-scan base-package=&quot;Spring.demo2&quot;&gt;&lt;/context:component-scan&gt; * æˆ–è€… &lt;context:annotation-config/&gt; åœ¨æ²¡æœ‰æ‰«æçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ³¨è§£ @Resource @valueã€@Autowiredã€@Qulifier * @author rong * */@RunWith(SpringJUnit4ClassRunner.class)//å›ºå®šå†™æ³•@ContextConfiguration(&quot;classpath:applicationContextAop.xml&quot;)public class Test &#123; @Resource(name=&quot;OrderDao&quot;) private OrderDao orderDao; @org.junit.Test public void test1()&#123; orderDao.find(); orderDao.add(); orderDao.delete(); orderDao.update(); &#125;&#125; 2.Springçš„æ³¨è§£çš„AOPé€šçŸ¥ç±»å‹2.1@Beforå‰ç½®é€šçŸ¥Code@Before(value=&quot;execution(* Spring.demo2.OrderDao.add(..))&quot;) public void befor()&#123; System.out.println(&quot;----------å‰ç½®å¢å¼º-----&quot;); &#125; 2.2@AfterReturningåç½®é€šçŸ¥Code//å¯ä»¥è·å–è¢«å¢å¼ºæ–¹æ³•çš„è¿”å›å€¼ï¼Œæ³¨æ„ä¸¤ä¸ªresultå¿…é¡»ç›¸åŒ @AfterReturning(value=&quot;execution(* Spring.demo2.OrderDao.delete(..))&quot;,returning=&quot;result&quot;) public void after(Object result)&#123; System.out.println(&quot;-------åç½®å¢å¼º-----&quot;+result); &#125; 2.3@Aroundç¯ç»•é€šçŸ¥Code//æ³¨æ„ï¼šå†™æ–¹æ³•çš„æ—¶å€™éœ€è¦è¿”å›ä¸€ä¸ªObject,è¿”å›çš„æ˜¯è¢«å¢å¼ºçš„æ–¹æ³•@Around(value=&quot;execution(* Spring.demo2.OrderDao.update(..))&quot;) public Object around(ProceedingJoinPoint joinPoint) throws Throwable&#123; System.out.println(&quot;-------ç¯ç»•å‰å¢å¼º------&quot;); Object proceed = joinPoint.proceed(); System.out.println(&quot;----ç¯ç»•åå¢å¼º-------&quot;); return proceed; &#125; 2.4@AfterThrowingï¼šå¼‚å¸¸æŠ›å‡ºé€šçŸ¥ 2.5@Afteræœ€ç»ˆé€šçŸ¥ 3.Springçš„æ³¨è§£AOPåˆ‡å…¥ç‚¹çš„é…ç½® ä½¿ç”¨æƒ…æ™¯ï¼šå‡è®¾åœ¨åŒä¸€ä¸ªæ–¹æ³•ä¸Šæˆ‘éœ€è¦è¿›è¡Œå¤šä¸ªé€šçŸ¥ï¼Œé‚£ä¹ˆæ¯”è¾ƒéº»çƒ¦çš„æ˜¯æˆ‘éœ€è¦åœ¨æ¯ä¸ªæ–¹æ³•ä¸Šéƒ½é…ç½®ï¼Œä½†æ˜¯å¦‚æœæœ‰ä¸€å¤©æˆ‘å¢å¼ºçš„æ–¹æ³•æ”¹äº†ï¼Œå¯¼è‡´æˆ‘ éœ€è¦åœ¨æ¯ä¸ªæ–¹æ³•ä¸Šéƒ½è¿›è¡Œä¿®æ”¹é…ç½® 3.1Springçš„AOPçš„æ³¨è§£åˆ‡å…¥ç‚¹çš„é…ç½® 4.Springçš„JDBCæ¨¡æ¿çš„ä½¿ç”¨ Springæ˜¯EEå¼€å‘çš„ä¸€ç«™å¼çš„æ¡†æ¶ï¼Œæœ‰EEå¼€å‘çš„æ¯å±‚çš„è§£å†³æ–¹æ¡ˆã€‚Springå¯¹æŒä¹…å±‚ä¹Ÿæä¾›äº†è§£å†³æ–¹æ¡ˆï¼šORMæ¨¡å—å’ŒJDBCçš„æ¨¡æ¿ã€‚Springæä¾›äº†å¾ˆå¤šçš„æ¨¡æ¿ç”¨äºç®€åŒ–å¼€å‘ 4.1å¦‚ä½•ä½¿ç”¨ ä»¥ä¸‹ä½¿ç”¨åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š1.å¯¼å…¥jaråŒ…2.å‡†å¤‡æ•°æ®åº“ã€‚3.ä½¿ç”¨JDBCæ¨¡æ¿ä¿å­˜æ•°æ®4.å°†è¿æ¥æ± å’Œæ¨¡æ¿ç±»äº¤ç»™Springç®¡ç†5.ç¼–å†™æµ‹è¯•ç±» 4.1.1 å¯¼å…¥jaråŒ… 4.1.2 ä½¿ç”¨Springæä¾›çš„JDBCæ¨¡æ¿ æ ¸å¿ƒç±»ï¼šJdbcTemplate jdbc=new JdbcTemplate(dataSource);æ³¨æ„ï¼š éœ€è¦ä¼ å…¥çš„æ˜¯ä¸€ä¸ªè¿æ¥æ± å¯¹è±¡ï¼Œä¹Ÿæ”¯æŒæ— å‚çš„æ„é€ æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨jdbc.setDataSource(dataSource)é…ç½®ã€‚Code//1.ä¸ä½¿ç”¨Springç®¡ç† @Test public void test1()&#123; //è·å–è¿æ¥æ± ï¼ˆSpringè‡ªå¸¦çš„ä¸€ä¸ªï¼‰ DriverManagerDataSource dataSource = new DriverManagerDataSource(); dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;); dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/student&quot;); dataSource.setUsername(&quot;root&quot;); dataSource.setPassword(&quot;root&quot;); //åˆ›å»ºJDBCæ¨¡æ¿ JdbcTemplate jdbc=new JdbcTemplate(dataSource); jdbc.update(&quot;insert into stu values (?,?,?,?)&quot;,101,&quot;å¼ å¤§èƒ–1&quot;,&quot;ç”·&quot;,25); &#125; 4.1.3 æŠŠè¿æ¥æ± å’Œæ¨¡æ¿äº¤ç»™Springç®¡ç† è¯´æ˜ï¼š ä¸€ç›´æˆ‘éƒ½åœ¨æƒ³ï¼Œæ‰€è°“çš„äº¤ç»™Springç®¡ç†ï¼Œæ„æ€å°±æ˜¯æŠŠé‚£äº›éœ€è¦æˆ‘ä»¬newçš„å¯¹è±¡ç”¨æ³¨è§£å»ä»£æ›¿newçš„è¿‡ç¨‹ã€‚Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt; &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt; &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/student&quot;&gt;&lt;/property&gt; &lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt; &lt;property name=&quot;password&quot; value=&quot;root&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt; &lt;/bean&gt;&lt;/beans&gt; 4.1.4ç¼–å†™æµ‹è¯•ç±»Codepackage SpringJDBC.demo3;import javax.annotation.Resource;import org.junit.Test;import org.junit.runner.RunWith;import org.springframework.jdbc.core.JdbcTemplate;import org.springframework.jdbc.datasource.DriverManagerDataSource;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import com.mchange.v2.c3p0.ComboPooledDataSource;/** * ä½¿ç”¨Springæä¾›çš„JDBCæ¨¡æ¿ * Springæä¾›çš„JDBCæ¨¡æ¿æ ¸å¿ƒç±»ï¼š * JdbcTemplate jdbc=new JdbcTemplate(dataSource); * å…¶ä¸­è¿æ¥æ± çš„æ ¸å¿ƒç±»ï¼š * 1.Springæä¾›çš„è¿æ¥æ±  * DriverManagerDataSource dataSource = new DriverManagerDataSource(); * 2.c3p0è¿æ¥æ±  * ComboPooledDataSource dataSource2 = new ComboPooledDataSource(); * 3.DBCPè¿æ¥æ±  * new BasicDataSource(); * @author rong * */@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration(&quot;classpath:applicationContextJDBC.xml&quot;)public class JDBCTest &#123; //1.ä¸ä½¿ç”¨Springç®¡ç† @Test public void test1()&#123; //è·å–è¿æ¥æ± ï¼ˆSpringè‡ªå¸¦çš„ä¸€ä¸ªï¼‰ DriverManagerDataSource dataSource = new DriverManagerDataSource(); dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;); dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/student&quot;); dataSource.setUsername(&quot;root&quot;); dataSource.setPassword(&quot;root&quot;); //åˆ›å»ºJDBCæ¨¡æ¿ JdbcTemplate jdbc=new JdbcTemplate(dataSource); jdbc.update(&quot;insert into stu values (?,?,?,?)&quot;,101,&quot;å¼ å¤§èƒ–1&quot;,&quot;ç”·&quot;,25); &#125; //2.å°†å…¶äº¤ç»™Springç®¡ç† //è¯´æ˜ï¼šé‚£ä¸ªç±»éœ€è¦newçš„æ—¶å€™ï¼Œå°±å¯ä»¥æŠŠè¿™ä¸ªç±»äº¤ç»™Springç®¡ç†ï¼Œä¸éœ€è¦è‡ªå·±å»new @Resource(name=&quot;jdbcTemplate&quot;) private JdbcTemplate jdbcTemplate; @Test public void test2()&#123; jdbcTemplate.update(&quot;insert into stu values (?,?,?,?)&quot;,103,&quot;å¼ å¤§èƒ–3&quot;,&quot;ç”·&quot;,25); &#125; //3.ä½¿ç”¨c3p0è¿æ¥æ±  /** * å¯¼åŒ… * æœ‰ä½¿ç”¨é…ç½®æ–‡ä»¶å’Œä¸ä½¿ç”¨é…ç½®æ–‡ä»¶ä¸¤ç§æ–¹å¼ */ @Test public void test3()&#123; jdbcTemplate.update(&quot;insert into stu values (?,?,?,?)&quot;,105,&quot;å¼ å¤§èƒ–5&quot;,&quot;ç”·&quot;,25); &#125;&#125; 4.2æŠ½å–é…ç½®ä¿¡æ¯åˆ°å±æ€§æ–‡ä»¶ ä½¿ç”¨åœºæ™¯ï¼š åœ¨å®é™…å¼€å‘ä¸­ï¼Œå°†é…ç½®æ–‡ä»¶çš„å‚æ•°å•ç‹¬æ”¾åœ¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œåœ¨XMLæ–‡ä»¶ä¸­å†å°†å…¶å¼•å…¥è¿›æ¥ ï¼Œusernameï¼Œpassword 4.2.1 å®šä¹‰ä¸€ä¸ªå±æ€§æ–‡ä»¶ åˆ›å»ºä¸€ä¸ªpropertiesçš„æ–‡ä»¶Codejdbc.driverClass=com.mysql.jdbc.Driverjdbc.url=jdbc:mysql://localhost:3306/studentjdbc.username=rootjdbc.password=root 4.2.2 å¦‚ä½•åœ¨Springçš„é…è¿½æ–‡ä»¶ï¼ˆXMLï¼‰ä¸­å¼•å…¥å±æ€§æ–‡ä»¶ æœ‰ä¸¤ç§æ–¹å¼1.(ç”¨çš„å°‘)Code&lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt; &lt;property name=&quot;location&quot; value=&quot;classpath:properties&quot;/&gt;&lt;/bean&gt; 2.(å¸¸ç”¨)Code&lt;context:property-placeholder location=&quot;classpath:db.properties&quot;/&gt; å°±ä¼šå»åŠ è½½ç±»è·¯å¾„ä¸‹çš„å±æ€§æ–‡ä»¶äº†ï¼Œæˆ‘çŒœæµ‹æ˜¯æ”¾åœ¨åŸŸå¯¹è±¡ä¸­ï¼Œåé¢ç›´æ¥${key}å–å‡ºã€‚ 4.2.3 å¯¹åº”åœ¨é…ç½®æ–‡ä»¶ä¸­çš„å†™æ³• æ³¨æ„propertyä¸­çš„valueçš„å†™æ³•Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt; &lt;context:property-placeholder location=&quot;classpath:db.properties&quot;/&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt; &lt;property name=&quot;driverClass&quot; value=&quot;$&#123;jdbc.driverClass&#125;&quot;&gt;&lt;/property&gt; &lt;property name=&quot;jdbcUrl&quot; value=&quot;$&#123;jdbc.url&#125;&quot;&gt;&lt;/property&gt; &lt;property name=&quot;user&quot; value=&quot;$&#123;jdbc.username&#125;&quot;&gt;&lt;/property&gt; &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt; &lt;/bean&gt;&lt;/beans&gt;","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"æ¡†æ¶å­¦ä¹ ","slug":"æ¡†æ¶å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/æ¡†æ¶å­¦ä¹ /"}]},{"title":"æ•°æ®åº“è¿æ¥æ± ä»¥åŠJDBUtilsä½¿ç”¨","slug":"javaåŸºç¡€/JDBC","date":"2019-03-05T16:00:00.000Z","updated":"2019-03-06T08:05:44.028Z","comments":true,"path":"2019/03/06/javaåŸºç¡€/JDBC/","link":"","permalink":"http://SlectRxz.github.io/2019/03/06/javaåŸºç¡€/JDBC/","excerpt":"æ•°æ®åº“è¿æ¥æ± ï¼ŒåŒ…æ‹¬DBCPä»¥åŠC3P0ï¼ŒDBUtilså·¥å…·çš„ä½¿ç”¨","text":"æ•°æ®åº“è¿æ¥æ± ï¼ŒåŒ…æ‹¬DBCPä»¥åŠC3P0ï¼ŒDBUtilså·¥å…·çš„ä½¿ç”¨ æ•°æ®åº“è¿æ¥æ±  æ•°æ®åº“çš„è¿æ¥å¯¹è±¡åˆ›å»ºå·¥ä½œï¼Œæ¯”è¾ƒæ¶ˆè€—æ€§èƒ½ã€‚ 2.ä¸€å¼€å§‹ç°åœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€å—ç©ºé—´ï¼ˆé›†åˆï¼‰ ï¼Œ ä¸€å¼€å…ˆå¾€æ± å­é‡Œé¢æ”¾ç½® å¤šä¸ªè¿æ¥å¯¹è±¡ã€‚ åé¢éœ€è¦è¿æ¥çš„è¯ï¼Œç›´æ¥ä»æ± å­é‡Œé¢å»ã€‚ä¸è¦å»è‡ªå·±åˆ›å»ºè¿æ¥äº†ã€‚ ä½¿ç”¨å®Œæ¯•ï¼Œ è¦è®°å¾—å½’è¿˜è¿æ¥ã€‚ç¡®ä¿è¿æ¥å¯¹è±¡èƒ½å¾ªç¯åˆ©ç”¨ã€‚ ä¸‹é¢å†…å®¹æ˜¯æˆ‘æ¬è¿åˆ«äººå†™çš„æ¯”è¾ƒå¥½çš„å†…å®¹ æ²¡æœ‰æ± çš„æƒ…å†µ è®¤è¯†æ± è¯´æ˜ï¼šCode1ã€ æ± å°±æ˜¯ä¸€ç§å®¹çº³å¯¹è±¡çš„å®¹å™¨2ã€ è¿æ¥æ± å°±æ˜¯ä¿å­˜æ•°æ®åº“è¿æ¥å¯¹è±¡çš„å®¹å™¨3ã€ åœ¨è¿æ¥æ± ä¸­æˆ‘ä»¬ä¼šé¢„å…ˆåˆ›å»ºä¸€å®šæ•°é‡çš„è¿æ¥å¯¹è±¡ï¼Œå½“éœ€è¦æ•°æ®åº“è¿æ¥çš„æ—¶å€™ï¼Œåªè¦ä»æ•°æ®åº“è¿æ¥æ± ä¸­å–å‡ºä¸€ä¸ªï¼Œä½¿ç”¨å®Œæ¯•ä¹‹åå°±å†æ”¾å›å»ï¼Œè¿™äº›è¿æ¥å¯¹è±¡æ˜¯ä»¥ä¸€ç§å¾ªç¯é˜Ÿåˆ—æ¥å­˜æ”¾çš„ï¼Œå–çš„æ—¶å€™ä»å¤´å¼€å§‹ï¼Œæ”¾å›çš„æ—¶å€™æ”¾åœ¨å°¾éƒ¨ã€‚4ã€ é€šè¿‡è®¾ç½®æœ€å¤§è¿æ¥æ•°é‡æ¥é˜²æ­¢ç³»ç»Ÿæ— æ­¢å°½çš„ä¸æ•°æ®åº“è¿æ¥5ã€ è¿æ¥æ± ä¸­å¯ä»¥è®¾ç½®ç›‘å¬æœºåˆ¶ï¼Œç”¨æ¥æµ‹è¯•è¿æ¥çš„æ•°é‡ è¿æ¥æ± ä¸­çš„å±æ€§ è¿æ¥æ± çš„ä½¿ç”¨ è‡ªå®šä¹‰æ•°æ®åº“è¿æ¥æ±  ä»£ç å®ç° Codepackage è¿æ¥æ± ;import java.io.PrintWriter;import java.sql.Connection;import java.sql.SQLException;import java.sql.SQLFeatureNotSupportedException;import java.util.ArrayList;import java.util.List;import java.util.logging.Logger;import javax.sql.DataSource;/** * * @author rong *è¿™æ˜¯ä¸€ä¸ªæ•°æ®åº“è¿æ¥æ±  *1. ä¸€å¼€å§‹å…ˆå¾€è¿æ¥æ± ä¸­æ”¾10ä¸ªè¿æ¥ *2. æ¥çš„ç¨‹åºé€šè¿‡getConnection()è¿æ¥ *3. ç”¨å®Œé€šè¿‡addBack()å½’è¿˜ *4. æ‰©å®¹ *//** * * @author rong *æœ‰ç¼ºé™· *1. éœ€è¦é¢å¤–è®°ä½addBack()æ–¹æ³• *2. æ— æ³•é¢å‘æ¥å£ç¼–ç¨‹ *DaoSource datasource=new MyDataSource(); * *JAVAå¤šæ€ *ç¼–è¯‘æ—¶å€™çœ‹å·¦è¾¹ï¼Œè¿è¡Œæ—¶å€™çœ‹å³è¾¹ *è§£é‡Šï¼šç¼–è¯‘çš„æ—¶å€™çœ‹æ¥å£ä¸­æœ‰æ²¡æœ‰å®šä¹‰è¿™ä¸ªæ–¹æ³•ï¼Œè¿è¡Œçš„æ—¶å€™æ˜¯è¿è¡Œç»§æ‰¿ç±»å£çš„ç±»ä¸­çš„æ–¹æ³• */public class MyDataSource implements DataSource&#123; List&lt;Connection&gt; list=new ArrayList&lt;Connection&gt;(); public MyDataSource()&#123; for(int i=0;i&lt;10;i++)&#123; Connection conn = JDBCUtil.getConn(); list.add(conn); &#125; &#125; //è¯¥è¿æ¥æ± å¯¹å¤–å…¬å¸ƒçš„è·å–è¿æ¥çš„æ–¹æ³• @Override public Connection getConnection() throws SQLException &#123; // TODO Auto-generated method stub if(list.size()==0)&#123;//è¿æ¥ä¸å¤Ÿå†åˆ›å»º5ä¸ª for(int i=0;i&lt;5;i++)&#123; Connection conn = JDBCUtil.getConn(); list.add(conn); &#125; &#125; Connection connection = list.remove(0);//æ°¸è¿œç§»é™¤ç¬¬ä¸€ä¸ª return connection; &#125; public void addBack(Connection conn)&#123; list.add(conn); &#125; //---------------åé¢çš„æ–¹æ³•æš‚æ—¶ç”¨ä¸åˆ°-----------------------// @Override public PrintWriter getLogWriter() throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public void setLogWriter(PrintWriter out) throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public void setLoginTimeout(int seconds) throws SQLException &#123; // TODO Auto-generated method stub &#125; @Override public int getLoginTimeout() throws SQLException &#123; // TODO Auto-generated method stub return 0; &#125; @Override public Logger getParentLogger() throws SQLFeatureNotSupportedException &#123; // TODO Auto-generated method stub return null; &#125; @Override public &lt;T&gt; T unwrap(Class&lt;T&gt; iface) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125; @Override public boolean isWrapperFor(Class&lt;?&gt; iface) throws SQLException &#123; // TODO Auto-generated method stub return false; &#125; @Override public Connection getConnection(String username, String password) throws SQLException &#123; // TODO Auto-generated method stub return null; &#125;&#125; å‡ºç°çš„é—®é¢˜ï¼š éœ€è¦é¢å¤–è®°ä½ addBackæ–¹æ³• å•ä¾‹ã€‚ æ— æ³•é¢å‘æ¥å£ç¼–ç¨‹ã€‚ UserDao dao = new UserDaoImpl();dao.insert(); DataSource dataSource = new MyDataSource(); å› ä¸ºæ¥å£é‡Œé¢æ²¡æœ‰å®šä¹‰addBackæ–¹æ³•ã€‚ 4. æ€ä¹ˆè§£å†³? ä»¥addBack ä¸ºåˆ‡å…¥ç‚¹ã€‚ è§£å†³è‡ªå®šä¹‰æ•°æ®åº“è¿æ¥æ± å‡ºç°çš„é—®é¢˜ã€‚ ç”±äºå¤šäº†ä¸€ä¸ªaddBack æ–¹æ³•ï¼Œæ‰€ä»¥ä½¿ç”¨è¿™ä¸ªè¿æ¥æ± çš„åœ°æ–¹ï¼Œéœ€è¦é¢å¤–è®°ä½è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”è¿˜ä¸èƒ½é¢å‘æ¥å£ç¼–ç¨‹ã€‚ æˆ‘ä»¬æ‰“ç®—ä¿®æ”¹æ¥å£ä¸­çš„é‚£ä¸ªcloseæ–¹æ³•ã€‚ åŸæ¥çš„Connectionå¯¹è±¡çš„closeæ–¹æ³•ï¼Œæ˜¯çœŸçš„å…³é—­è¿æ¥ã€‚æ‰“ç®—ä¿®æ”¹è¿™ä¸ªcloseæ–¹æ³•ï¼Œä»¥ååœ¨è°ƒç”¨closeï¼Œ å¹¶ä¸æ˜¯çœŸçš„å…³é—­ï¼Œè€Œæ˜¯å½’è¿˜è¿æ¥å¯¹è±¡ã€‚ å¦‚ä½•æ‰©å±•æŸä¸€ä¸ªæ–¹æ³•? åŸæœ‰çš„æ–¹æ³•é€»è¾‘ï¼Œä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚ æƒ³ä¿®æ”¹è‡ªå·±çš„é€»è¾‘ ç›´æ¥æ”¹æºç  æ— æ³•å®ç°ã€‚ ç»§æ‰¿ï¼Œ å¿…é¡»å¾—çŸ¥é“è¿™ä¸ªæ¥å£çš„å…·ä½“å®ç°æ˜¯è°ã€‚ ä½¿ç”¨è£…é¥°è€…æ¨¡å¼ã€‚ å¼€æºè¿æ¥æ± DBCPï¼ˆdatabase connection poolï¼‰ å¯¼å…¥jaræ–‡ä»¶ ä¸ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼š public void testDBCP01(){ Connection conn = null; PreparedStatement ps = null; try { //1. æ„å»ºæ•°æ®æºå¯¹è±¡ BasicDataSource dataSource = new BasicDataSource(); //è¿çš„æ˜¯ä»€ä¹ˆç±»å‹çš„æ•°æ®åº“ï¼Œ è®¿é—®çš„æ˜¯å“ªä¸ªæ•°æ®åº“ ï¼Œ ç”¨æˆ·åï¼Œ å¯†ç ã€‚ã€‚ //jdbc:mysql://localhost/bank ä¸»åè®®ï¼šå­åè®® ://æœ¬åœ°/æ•°æ®åº“ dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;); dataSource.setUrl(&quot;jdbc:mysql://localhost/bank&quot;); dataSource.setUsername(&quot;root&quot;); dataSource.setPassword(&quot;root&quot;); //2. å¾—åˆ°è¿æ¥å¯¹è±¡ conn = dataSource.getConnection(); String sql = &quot;insert into account values(null , ? , ?)&quot;; ps = conn.prepareStatement(sql); ps.setString(1, &quot;admin&quot;); ps.setInt(2, 1000); ps.executeUpdate(); } catch (SQLException e) { e.printStackTrace(); }finally { JDBCUtil.release(conn, ps); } } ä½¿ç”¨é…ç½®æ–‡ä»¶æ–¹å¼ï¼š Connection conn = null; PreparedStatement ps = null; try { BasicDataSourceFactory factory = new BasicDataSourceFactory(); Properties properties = new Properties(); InputStream is = new FileInputStream(&quot;src//dbcpconfig.properties&quot;); properties.load(is); DataSource dataSource = factory.createDataSource(properties); //2. å¾—åˆ°è¿æ¥å¯¹è±¡ conn = dataSource.getConnection(); String sql = &quot;insert into account values(null , ? , ?)&quot;; ps = conn.prepareStatement(sql); ps.setString(1, &quot;liangchaowei&quot;); ps.setInt(2, 100); ps.executeUpdate(); } catch (Exception e) { e.printStackTrace(); }finally { JDBCUtil.release(conn, ps); } é…ç½®æ–‡ä»¶dbcpconfig.properties Code#è¿æ¥è®¾ç½®driverClassName=com.mysql.jdbc.Driverurl=jdbc:mysql://localhost:3306/jdbcusername=rootpassword=#&lt;!-- åˆå§‹åŒ–è¿æ¥ --&gt;initialSize=10#æœ€å¤§è¿æ¥æ•°é‡maxActive=50#&lt;!-- æœ€å¤§ç©ºé—²è¿æ¥ --&gt;maxIdle=20#&lt;!-- æœ€å°ç©ºé—²è¿æ¥ --&gt;minIdle=5#&lt;!-- è¶…æ—¶ç­‰å¾…æ—¶é—´ä»¥æ¯«ç§’ä¸ºå•ä½ 6000æ¯«ç§’/1000ç­‰äº60ç§’ --&gt;maxWait=60000#JDBCé©±åŠ¨å»ºç«‹è¿æ¥æ—¶é™„å¸¦çš„è¿æ¥å±æ€§å±æ€§çš„æ ¼å¼å¿…é¡»ä¸ºè¿™æ ·ï¼š[å±æ€§å=property;]#æ³¨æ„ï¼š&quot;user&quot; ä¸ &quot;password&quot; ä¸¤ä¸ªå±æ€§ä¼šè¢«æ˜ç¡®åœ°ä¼ é€’ï¼Œå› æ­¤è¿™é‡Œä¸éœ€è¦åŒ…å«ä»–ä»¬ã€‚connectionProperties=useUnicode=true;characterEncoding=gbk#æŒ‡å®šç”±è¿æ¥æ± æ‰€åˆ›å»ºçš„è¿æ¥çš„è‡ªåŠ¨æäº¤ï¼ˆauto-commitï¼‰çŠ¶æ€ã€‚defaultAutoCommit=true#driver default æŒ‡å®šç”±è¿æ¥æ± æ‰€åˆ›å»ºçš„è¿æ¥çš„äº‹åŠ¡çº§åˆ«ï¼ˆTransactionIsolationï¼‰ã€‚#å¯ç”¨å€¼ä¸ºä¸‹åˆ—ä¹‹ä¸€ï¼šï¼ˆè¯¦æƒ…å¯è§javadocã€‚ï¼‰NONE,READ_UNCOMMITTED, READ_COMMITTED, REPEATABLE_READ, SERIALIZABLEdefaultTransactionIsolation=READ_UNCOMMITTED C3P0 æ‹·è´jaræ–‡ä»¶ åˆ° libç›®å½• ä¸ä½¿ç”¨é…ç½®æ–‡ä»¶æ–¹å¼Connection conn = null; PreparedStatement ps = null; try { //1. åˆ›å»ºdatasource ComboPooledDataSource dataSource = new ComboPooledDataSource(); //2. è®¾ç½®è¿æ¥æ•°æ®çš„ä¿¡æ¯ //å¿˜è®°äº†---&gt; å»ä»¥å‰çš„ä»£ç  ---&gt; jdbcçš„æ–‡æ¡£ dataSource.setDriverClass(&quot;com.mysql.jdbc.Driver&quot;); dataSource.setJdbcUrl(&quot;jdbc:mysql://localhost/bank&quot;); dataSource.setUser(&quot;root&quot;); dataSource.setPassword(&quot;root&quot;); //2. å¾—åˆ°è¿æ¥å¯¹è±¡ conn = dataSource.getConnection(); String sql = &quot;insert into account values(null , ? , ?)&quot;; ps = conn.prepareStatement(sql); ps.setString(1, &quot;admi234n&quot;); ps.setInt(2, 103200); ps.executeUpdate(); } catch (Exception e) { e.printStackTrace(); }finally { JDBCUtil.release(conn, ps); } ä½¿ç”¨é…ç½®æ–‡ä»¶æ–¹å¼Codepackage è¿æ¥æ± ;import java.sql.Connection;import org.junit.Test;import com.mchange.v2.c3p0.ComboPooledDataSource;/** * C3P0æ•°æ®åº“è¿æ¥ï¼ˆä½¿ç”¨XMLä½œä¸ºé…ç½®æ–‡ä»¶ï¼‰ * æ³¨æ„ï¼šå½“é…ç½®æ–‡ä»¶çš„åå­—ä¸ºc3p0-config.xmlæ—¶ï¼Œåœ¨new ComboPooledDataSource()å¯¹è±¡ * æ—¶ï¼Œä¼šè‡ªåŠ¨ä½¿ç”¨ç±»åŠ è½½å™¨åŠ è½½XMLæ–‡ä»¶ * * @author rong * */public class C3P0Demo1 &#123; @Test public void test1()&#123; ComboPooledDataSource comboPooledDataSource = new ComboPooledDataSource(); //æ³¨æ„ï¼š Connection conn=null; java.sql.PreparedStatement ps=null; try &#123; //è·å–è¿æ¥å¯¹è±¡ conn = comboPooledDataSource.getConnection(); //å‡†å¤‡æŸ¥è¯¢sql String sql=&quot;insert into stu value(16,?,?,42)&quot;; //è·å–statement ps= conn.prepareStatement(sql); ps.setString(1, &quot;èƒ–è™&quot;); ps.setString(2, &quot;ç”·&quot;); ps.executeUpdate(); &#125; catch (Exception e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125;finally&#123; JDBCUtil.release(conn, ps); &#125; &#125;&#125; XMLé…ç½®æ–‡ä»¶Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;c3p0-config&gt; &lt;!-- default-config é»˜è®¤çš„é…ç½®ï¼Œ --&gt; &lt;default-config&gt; &lt;property name=&quot;driverClass&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt; &lt;property name=&quot;jdbcUrl&quot;&gt;jdbc:mysql://localhost/student&lt;/property&gt; &lt;property name=&quot;user&quot;&gt;root&lt;/property&gt; &lt;property name=&quot;password&quot;&gt;root&lt;/property&gt; &lt;property name=&quot;initialPoolSize&quot;&gt;10&lt;/property&gt; &lt;property name=&quot;maxIdleTime&quot;&gt;30&lt;/property&gt; &lt;property name=&quot;maxPoolSize&quot;&gt;100&lt;/property&gt; &lt;property name=&quot;minPoolSize&quot;&gt;10&lt;/property&gt; &lt;property name=&quot;maxStatements&quot;&gt;200&lt;/property&gt; &lt;/default-config&gt; &lt;!-- This app is massive! --&gt; &lt;named-config name=&quot;oracle&quot;&gt; &lt;property name=&quot;acquireIncrement&quot;&gt;50&lt;/property&gt; &lt;property name=&quot;initialPoolSize&quot;&gt;100&lt;/property&gt; &lt;property name=&quot;minPoolSize&quot;&gt;50&lt;/property&gt; &lt;property name=&quot;maxPoolSize&quot;&gt;1000&lt;/property&gt; &lt;!-- intergalactoApp adopts a different approach to configuring statement caching --&gt; &lt;property name=&quot;maxStatements&quot;&gt;0&lt;/property&gt; &lt;property name=&quot;maxStatementsPerConnection&quot;&gt;5&lt;/property&gt; &lt;!-- he&apos;s important, but there&apos;s only one of him --&gt; &lt;user-overrides user=&quot;master-of-the-universe&quot;&gt; &lt;property name=&quot;acquireIncrement&quot;&gt;1&lt;/property&gt; &lt;property name=&quot;initialPoolSize&quot;&gt;1&lt;/property&gt; &lt;property name=&quot;minPoolSize&quot;&gt;1&lt;/property&gt; &lt;property name=&quot;maxPoolSize&quot;&gt;5&lt;/property&gt; &lt;property name=&quot;maxStatementsPerConnection&quot;&gt;50&lt;/property&gt; &lt;/user-overrides&gt; &lt;/named-config&gt;&lt;/c3p0-config&gt; DBUtilså¢åˆ æ”¹//dbutils åªæ˜¯å¸®æˆ‘ä»¬ç®€åŒ–äº†CRUD çš„ä»£ç ï¼Œ ä½†æ˜¯è¿æ¥çš„åˆ›å»ºä»¥åŠè·å–å·¥ä½œã€‚ ä¸åœ¨ä»–çš„è€ƒè™‘èŒƒå›´ QueryRunner queryRunner = new QueryRunner(new ComboPooledDataSource()); //å¢åŠ  //queryRunner.update(&quot;insert into account values (null , ? , ? )&quot;, &quot;aa&quot; ,1000); //åˆ é™¤ //queryRunner.update(&quot;delete from account where id = ?&quot;, 5); //æ›´æ–° //queryRunner.update(&quot;update account set money = ? where id = ?&quot;, 10000000 , 6); æŸ¥è¯¢ï¼ˆä¸¤ç§æ–¹å¼ï¼‰ ç›´æ¥newæ¥å£çš„åŒ¿åå®ç°ç±» QueryRunner queryRunner = new QueryRunner(new ComboPooledDataSource()); Account account = queryRunner.query(&quot;select * from account where id = ?&quot;, new ResultSetHandler&lt;Account&gt;(){ //å»æ‰§è¡ŒæŸ¥è¯¢ï¼ŒæŸ¥è¯¢åˆ°çš„æ•°æ®è¿˜æ˜¯åœ¨é‚£ä¸ªresulté‡Œé¢ï¼Œç„¶åè°ƒç”¨ä¸‹é¢çš„handleæ–¹æ³•ï¼Œç”±ç”¨æˆ·æ‰‹åŠ¨å°è£… @Override public Account handle(ResultSet rs) throws SQLException { Account account = new Account(); while(rs.next()){ String name = rs.getString(&quot;name&quot;); int money = rs.getInt(&quot;money&quot;); account.setName(name); account.setMoney(money); } return account; } }, 6); System.out.println(account.toString()); ç›´æ¥ä½¿ç”¨æ¡†æ¶å·²ç»å†™å¥½çš„å®ç°ç±»ã€‚ * æŸ¥è¯¢å•ä¸ªå¯¹è±¡ QueryRunner queryRunner = new QueryRunner(new ComboPooledDataSource()); //æŸ¥è¯¢å•ä¸ªå¯¹è±¡ Account account = queryRunner.query(&quot;select * from account where id = ?&quot;, new BeanHandler&lt;Account&gt;(Account.class), 8); * æŸ¥è¯¢å¤šä¸ªå¯¹è±¡ QueryRunner queryRunner = new QueryRunner(new ComboPooledDataSource()); List&lt;Account&gt; list = queryRunner.query(&quot;select * from account &quot;, new BeanListHandler&lt;Account&gt;(Account.class)); ResultSetHandler å¸¸ç”¨çš„å®ç°ç±»ä»¥ä¸‹ä¸¤ä¸ªæ˜¯ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ BeanHandler, æŸ¥è¯¢åˆ°çš„å•ä¸ªæ•°æ®å°è£…æˆä¸€ä¸ªå¯¹è±¡ BeanListHandler, æŸ¥è¯¢åˆ°çš„å¤šä¸ªæ•°æ®å°è£… æˆä¸€ä¸ªList&lt;å¯¹è±¡&gt; ArrayHandler, æŸ¥è¯¢åˆ°çš„å•ä¸ªæ•°æ®å°è£…æˆä¸€ä¸ªæ•°ç»„ ArrayListHandler, æŸ¥è¯¢åˆ°çš„å¤šä¸ªæ•°æ®å°è£…æˆä¸€ä¸ªé›†åˆ ï¼Œé›†åˆé‡Œé¢çš„å…ƒç´ æ˜¯æ•°ç»„ã€‚ MapHandler, æŸ¥è¯¢åˆ°çš„å•ä¸ªæ•°æ®å°è£…æˆä¸€ä¸ªmap MapListHandler,æŸ¥è¯¢åˆ°çš„å¤šä¸ªæ•°æ®å°è£…æˆä¸€ä¸ªé›†åˆ ï¼Œé›†åˆé‡Œé¢çš„å…ƒç´ æ˜¯mapã€‚ ColumnListHandlerKeyedHandlerScalarHandler æ€»ç»“æ•°æ®è¿æ¥æ±  DBCP ä¸ä½¿ç”¨é…ç½® ä½¿ç”¨é…ç½® C3P0 ä¸ä½¿ç”¨é…ç½® ä½¿ç”¨é…ç½® ï¼ˆå¿…é¡»æŒæ¡ï¼‰ è‡ªå®šä¹‰è¿æ¥æ±  è£…é¥°è€…æ¨¡å¼ DBUtils ç®€åŒ–äº†æˆ‘ä»¬çš„CRUD ï¼Œ é‡Œé¢å®šä¹‰äº†é€šç”¨çš„CRUDæ–¹æ³•ã€‚ queryRunner.update();å¢åˆ æ”¹ queryRunner.queryæŸ¥","categories":[{"name":"JDBC","slug":"JDBC","permalink":"http://SlectRxz.github.io/categories/JDBC/"}],"tags":[{"name":"javaWebåŸºç¡€","slug":"javaWebåŸºç¡€","permalink":"http://SlectRxz.github.io/tags/javaWebåŸºç¡€/"}]},{"title":"äº‹åŠ¡","slug":"javaåŸºç¡€/äº‹åŠ¡","date":"2019-03-03T16:00:00.000Z","updated":"2019-03-06T03:28:49.248Z","comments":true,"path":"2019/03/04/javaåŸºç¡€/äº‹åŠ¡/","link":"","permalink":"http://SlectRxz.github.io/2019/03/04/javaåŸºç¡€/äº‹åŠ¡/","excerpt":"åŒ…æ‹¬äº‹åŠ¡çš„ç‰¹æ€§ACID","text":"åŒ…æ‹¬äº‹åŠ¡çš„ç‰¹æ€§ACID äº‹åŠ¡äº‹åŠ¡ Transaction å…¶å®æŒ‡çš„ä¸€ç»„æ“ä½œï¼Œé‡Œé¢åŒ…å«è®¸å¤šä¸ªå•ä¸€çš„é€»è¾‘ã€‚åªè¦æœ‰ä¸€ä¸ªé€»è¾‘æ²¡æœ‰æ‰§è¡ŒæˆåŠŸï¼Œé‚£ä¹ˆéƒ½ç®—å¤±è´¥ã€‚ æ‰€æœ‰çš„æ•°æ®éƒ½å›å½’åˆ°æœ€åˆçš„çŠ¶æ€(å›æ»š) ä¸ºä»€ä¹ˆè¦æœ‰äº‹åŠ¡? ä¸ºäº†ç¡®ä¿é€»è¾‘çš„æˆåŠŸã€‚ ä¾‹å­ï¼š é“¶è¡Œçš„è½¬è´¦ã€‚ ä½¿ç”¨å‘½ä»¤è¡Œæ–¹å¼æ¼”ç¤ºäº‹åŠ¡ã€‚ å¼€å¯äº‹åŠ¡ start transaction; æäº¤æˆ–è€…å›æ»šäº‹åŠ¡ commit; æäº¤äº‹åŠ¡ï¼Œ æ•°æ®å°†ä¼šå†™åˆ°ç£ç›˜ä¸Šçš„æ•°æ®åº“ rollback ; æ•°æ®å›æ»šï¼Œå›åˆ°æœ€åˆçš„çŠ¶æ€ã€‚ å…³é—­è‡ªåŠ¨æäº¤åŠŸèƒ½ã€‚ æ¼”ç¤ºäº‹åŠ¡ ä½¿ç”¨ä»£ç æ–¹å¼æ¼”ç¤ºäº‹åŠ¡ ä»£ç é‡Œé¢çš„äº‹åŠ¡ï¼Œä¸»è¦æ˜¯é’ˆå¯¹è¿æ¥æ¥çš„ã€‚ é€šè¿‡conn.setAutoCommitï¼ˆfalse ï¼‰æ¥å…³é—­è‡ªåŠ¨æäº¤çš„è®¾ç½®ã€‚ æäº¤äº‹åŠ¡ conn.commit(); å›æ»šäº‹åŠ¡ conn.rollback(); @Test public void testTransaction(){ Connection conn = null; PreparedStatement ps = null; ResultSet rs = null; try { conn = JDBCUtil.getConn(); //è¿æ¥ï¼Œäº‹åŠ¡é»˜è®¤å°±æ˜¯è‡ªåŠ¨æäº¤çš„ã€‚ å…³é—­è‡ªåŠ¨æäº¤ã€‚ conn.setAutoCommit(false); String sql = &quot;update account set money = money - ? where id = ?&quot;; ps = conn.prepareStatement(sql); //æ‰£é’±ï¼Œ æ‰£IDä¸º1 çš„100å—é’± ps.setInt(1, 100); ps.setInt(2, 1); ps.executeUpdate(); int a = 10 /0 ; //åŠ é’±ï¼Œ ç»™IDä¸º2 åŠ 100å—é’± ps.setInt(1, -100); ps.setInt(2, 2); ps.executeUpdate(); //æˆåŠŸï¼š æäº¤äº‹åŠ¡ã€‚ conn.commit(); } catch (SQLException e) { try { //äº‹å˜ï¼š å›æ»šäº‹åŠ¡ conn.rollback(); } catch (SQLException e1) { e1.printStackTrace(); } e.printStackTrace(); }finally { JDBCUtil.release(conn, ps, rs); } } æ³¨æ„ï¼š å…³é—­äº‹åŠ¡conn.setAutoCommit(false); äº‹åŠ¡çš„æäº¤conn.commit(); å›æ»šäº‹åŠ¡ conn.rollback(); äº‹åŠ¡çš„ç‰¹æ€§ACIDï¼ˆé¢è¯•ä¼šé—®ï¼‰ åŸå­æ€§ æŒ‡çš„æ˜¯ äº‹åŠ¡ä¸­åŒ…å«çš„é€»è¾‘ï¼Œä¸å¯åˆ†å‰²ã€‚ ä¸€è‡´æ€§ æŒ‡çš„æ˜¯ äº‹åŠ¡æ‰§è¡Œå‰åã€‚æ•°æ®å®Œæ•´æ€§ éš”ç¦»æ€§ æŒ‡çš„æ˜¯ äº‹åŠ¡åœ¨æ‰§è¡ŒæœŸé—´ä¸åº”è¯¥å—åˆ°å…¶ä»–äº‹åŠ¡çš„å½±å“ æŒä¹…æ€§ æŒ‡çš„æ˜¯ äº‹åŠ¡æ‰§è¡ŒæˆåŠŸï¼Œé‚£ä¹ˆæ•°æ®åº”è¯¥æŒä¹…ä¿å­˜åˆ°ç£ç›˜ä¸Šã€‚ äº‹åŠ¡çš„å®‰å…¨éšæ‚£ ä¸è€ƒè™‘éš”ç¦»çº§åˆ«è®¾ç½®ï¼Œé‚£ä¹ˆä¼šå‡ºç°ä»¥ä¸‹ï¼ˆè¯»å’Œå†™ï¼‰é—®é¢˜ã€‚ è¯» è„è¯» ä¸å¯é‡è¯»è¯» å¹»è¯». è„è¯» ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°å¦å¤–ä¸€ä¸ªäº‹åŠ¡è¿˜æœªæäº¤çš„æ•°æ® ä¸å¯é‡å¤è¯» ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°äº†å¦å¤–ä¸€ä¸ªäº‹åŠ¡æäº¤çš„æ•°æ® ï¼Œé€ æˆäº†å‰åä¸¤æ¬¡æŸ¥è¯¢ç»“æœä¸ä¸€è‡´ã€‚ è¯»æœªæäº¤ æ¼”ç¤º è®¾ç½®Açª—å£çš„éš”ç¦»çº§åˆ«ä¸º è¯»æœªæäº¤ ä¸¤ä¸ªçª—å£éƒ½åˆ†åˆ«å¼€å¯äº‹åŠ¡ å†™ ä¸¢å¤±æ›´æ–° è¯»å·²æäº¤æ¼”ç¤º è®¾ç½®Açª—å£çš„éš”ç¦»çº§åˆ«ä¸º è¯»å·²æäº¤ A B ä¸¤ä¸ªçª—å£éƒ½å¼€å¯äº‹åŠ¡ï¼Œ åœ¨Bçª—å£æ‰§è¡Œæ›´æ–°æ“ä½œã€‚ åœ¨Açª—å£æ‰§è¡Œçš„æŸ¥è¯¢ç»“æœä¸ä¸€è‡´ã€‚ ä¸€æ¬¡æ˜¯åœ¨Bçª—å£æäº¤äº‹åŠ¡ä¹‹å‰ï¼Œä¸€æ¬¡æ˜¯åœ¨Bçª—å£æäº¤äº‹åŠ¡ä¹‹åã€‚ è¿™ä¸ªéš”ç¦»çº§åˆ«èƒ½å¤Ÿå±è”½ è„è¯»çš„ç°è±¡ï¼Œ ä½†æ˜¯å¼•å‘äº†å¦ä¸€ä¸ªé—®é¢˜ ï¼Œä¸å¯é‡å¤è¯»ã€‚ å¯ä¸²è¡ŒåŒ– å¦‚æœæœ‰ä¸€ä¸ªè¿æ¥çš„éš”ç¦»çº§åˆ«è®¾ç½®ä¸ºäº†ä¸²è¡ŒåŒ– ï¼Œé‚£ä¹ˆè°å…ˆæ‰“å¼€äº†äº‹åŠ¡ï¼Œ è°å°±æœ‰äº†å…ˆæ‰§è¡Œçš„æƒåˆ©ï¼Œ è°åæ‰“å¼€äº‹åŠ¡ï¼Œè°å°±åªèƒ½å¾—ç€ï¼Œç­‰å‰é¢çš„é‚£ä¸ªäº‹åŠ¡ï¼Œæäº¤æˆ–è€…å›æ»šåï¼Œæ‰èƒ½æ‰§è¡Œã€‚ ä½†æ˜¯è¿™ç§éš”ç¦»çº§åˆ«ä¸€èˆ¬æ¯”è¾ƒå°‘ç”¨ã€‚ å®¹æ˜“é€ æˆæ€§èƒ½ä¸Šçš„é—®é¢˜ã€‚ æ•ˆç‡æ¯”è¾ƒä½ã€‚ æŒ‰æ•ˆç‡åˆ’åˆ†ï¼Œä»é«˜åˆ°ä½ è¯»æœªæäº¤ &gt; è¯»å·²æäº¤ &gt; å¯é‡å¤è¯» &gt; å¯ä¸²è¡ŒåŒ– æŒ‰æ‹¦æˆªç¨‹åº¦ ï¼Œä»é«˜åˆ°åº• å¯ä¸²è¡ŒåŒ– &gt; å¯é‡å¤è¯» &gt; è¯»å·²æäº¤ &gt; è¯»æœªæäº¤ äº‹åŠ¡æ€»ç»“éœ€è¦æŒæ¡çš„ åœ¨ä»£ç é‡Œé¢ä¼šä½¿ç”¨äº‹åŠ¡ conn.setAutoCommit(false); conn.commit(); conn.rollback(); äº‹åŠ¡åªæ˜¯é’ˆå¯¹è¿æ¥è¿æ¥å¯¹è±¡ï¼Œå¦‚æœå†å¼€ä¸€ä¸ªè¿æ¥å¯¹è±¡ï¼Œé‚£ä¹ˆé‚£æ˜¯é»˜è®¤çš„æäº¤ã€‚ äº‹åŠ¡æ˜¯ä¼šè‡ªåŠ¨æäº¤çš„ã€‚ éœ€è¦äº†è§£çš„å®‰å…¨éšæ‚£è¯» è„è¯» ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°äº†å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ® ä¸å¯é‡å¤è¯» ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°äº†å¦ä¸€ä¸ªäº‹åŠ¡å·²æäº¤çš„æ•°æ®ï¼Œé€ æˆå‰åä¸¤æ¬¡æŸ¥è¯¢ç»“æœä¸ä¸€è‡´ å¹»è¯» ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°äº†å¦ä¸€ä¸ªäº‹åŠ¡insertçš„æ•°æ® ï¼Œé€ æˆå‰åæŸ¥è¯¢ç»“æœä¸ä¸€è‡´ ã€‚ å†™ ä¸¢å¤±æ›´æ–°ã€‚ éš”ç¦»çº§åˆ«è¯»æœªæäº¤ å¼•å‘é—®é¢˜ï¼š è„è¯» è¯»å·²æäº¤ è§£å†³ï¼š è„è¯» ï¼Œ å¼•å‘ï¼š ä¸å¯é‡å¤è¯» å¯é‡å¤è¯» è§£å†³ï¼š è„è¯» ã€ ä¸å¯é‡å¤è¯» ï¼Œ æœªè§£å†³ï¼š å¹»è¯» å¯ä¸²è¡ŒåŒ– è§£å†³ï¼š è„è¯»ã€ ä¸å¯é‡å¤è¯» ã€ å¹»è¯»ã€‚ mySql é»˜è®¤çš„éš”ç¦»çº§åˆ«æ˜¯ å¯é‡å¤è¯» Oracle é»˜è®¤çš„éš”ç¦»çº§åˆ«æ˜¯ è¯»å·²æäº¤ ä¸¢å¤±æ›´æ–° è§£å†³ä¸¢å¤±æ›´æ–° æ‚²è§‚é” å¯ä»¥åœ¨æŸ¥è¯¢çš„æ—¶å€™ï¼ŒåŠ å…¥ for update ä¹è§‚é” è¦æ±‚ç¨‹åºå‘˜è‡ªå·±æ§åˆ¶ã€‚ æ€»ç»“äº‹åŠ¡ä½¿ç”¨å‘½ä»¤è¡Œæ¼”ç¤º ä½¿ç”¨ä»£ç æ¼”ç¤º è„è¯»ã€ ä¸å¯é‡å¤è¯»ã€ å¹»è¯» ä¸¢å¤±æ›´æ–° æ‚²è§‚é” ä¹è§‚é” 4ä¸ªéš”ç¦»çº§åˆ« è¯»æœªæäº¤ è¯»å·²æäº¤ å¯é‡å¤è¯» å¯ä¸²è¡ŒåŒ–","categories":[{"name":"JDBC","slug":"JDBC","permalink":"http://SlectRxz.github.io/categories/JDBC/"}],"tags":[{"name":"javaWebåŸºç¡€","slug":"javaWebåŸºç¡€","permalink":"http://SlectRxz.github.io/tags/javaWebåŸºç¡€/"}]},{"title":"å››å¤§åŸŸå¯¹è±¡","slug":"javaåŸºç¡€/javaWebåŸºç¡€ä¹‹åŸŸå¯¹è±¡","date":"2019-02-27T16:00:00.000Z","updated":"2019-04-10T09:53:47.427Z","comments":true,"path":"2019/02/28/javaåŸºç¡€/javaWebåŸºç¡€ä¹‹åŸŸå¯¹è±¡/","link":"","permalink":"http://SlectRxz.github.io/2019/02/28/javaåŸºç¡€/javaWebåŸºç¡€ä¹‹åŸŸå¯¹è±¡/","excerpt":"å››å¤§åŸŸå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€ä½œç”¨èŒƒå›´ã€ä½œç”¨çš„æ€»ç»“ã€‚","text":"å››å¤§åŸŸå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€ä½œç”¨èŒƒå›´ã€ä½œç”¨çš„æ€»ç»“ã€‚ æ ¹æ®æœ‰ä½œç”¨èŒƒå›´ç”±å°åˆ°å¤§ï¼špage(jspæœ‰æ•ˆ)â€”â€”ã€‹pageåŸŸæŒ‡çš„æ˜¯pageContext.request(ä¸€æ¬¡è¯·æ±‚)â€”ã€‹requeståŸŸrequest HttpServletContextsession(ä¸€æ¬¡ä¼šè¯)â€”ã€‹sessionåŸŸsession HttpSessionapplication(å½“å‰webåº”ç”¨)â€”ã€‹applicationåŸŸæŒ‡çš„æ˜¯application ServletContextï¼›ä¹‹æ‰€ä»¥ä»–ä»¬æ˜¯åŸŸå¯¹è±¡ï¼ŒåŸå› æ˜¯ä»–ä»¬éƒ½å†…ç½®äº†mapé›†åˆï¼Œéƒ½æœ‰setAttributeå’ŒgetAttributeæ–¹æ³•ã€‚ ä¸€ã€ PageContextåŸŸ1.ç”Ÿå‘½å‘¨æœŸï¼šå½“å¯¹JSPçš„è¯·æ±‚å¼€å§‹ï¼Œå½“ç›¸åº”ç»“æŸæ—¶é”€æ¯ã€‚ jspé¡µé¢è¢«æ‰§è¡Œï¼Œå£°æ˜å‘¨æœŸå¼€å§‹ï¼› jspé¡µé¢æ‰§è¡Œå®Œæ¯•ï¼Œå£°æ˜å‘¨æœŸç»“æŸï¼›2.ä½œç”¨èŒƒå›´ï¼šæ•´ä¸ªJSPé¡µé¢ï¼Œæ˜¯å››å¤§ä½œç”¨åŸŸä¸­æœ€å°çš„ä¸€ä¸ªã€‚3.ä½œç”¨ï¼š è·å–å…¶å®ƒå…«å¤§éšå¼å¯¹è±¡ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªå…¥å£å¯¹è±¡ã€‚ è·å–å…¶æ‰€æœ‰åŸŸä¸­çš„æ•°æ® pageContext æ“ä½œæ‰€æœ‰åŸŸä¸­å±æ€§çš„æ–¹æ³•public java.lang.Object getAttribute(java.lang.String name,int scope) public void setAttribute(java.lang.String name, java.lang.Object value,int scope)public void removeAttribute(java.lang.String name,int scope) pageContext ä¸­ä»£è¡¨åŸŸçš„å¸¸é‡ PageContext.APPLICATION_SCOPE PageContext.SESSION_SCOPE PageContext.REQUEST_SCOPE PageContext.PAGE_SCOPEfindAttributeæ–¹æ³•,åœ¨å››å¤§åŸŸä¸­æœå¯»å±æ€§ï¼Œæœå¯»çš„é¡ºåºæ˜¯pageåŸŸã€requeståŸŸã€sessionåŸŸã€applicationåŸŸï¼Œä»å°åŸŸåˆ°å¤§åŸŸå¼€å§‹æœç´¢ï¼Œå¦‚æœæœç´¢åˆ°å°±ç›´æ¥è·å–è¯¥å€¼ï¼Œå¦‚æœæ‰€æœ‰åŸŸä¸­éƒ½æ‰¾ä¸åˆ°ï¼Œè¿”å›ä¸€ä¸ªnull(ä¸elè¡¨è¾¾å¼ä¸åŒï¼Œæ­¤å¤„è¿”å›nullï¼Œå¯¹ç½‘é¡µæ˜¯ä¸å‹å¥½çš„) ï¼ˆ3ï¼‰è·³è½¬åˆ°å…¶ä»–èµ„æº å…¶èº«ä¸Šæä¾›äº†forwardå’Œincludeæ–¹æ³•ï¼Œç®€åŒ–é‡å®šå‘å’Œè½¬å‘çš„æ“ä½œäºŒã€RequeståŸŸ1.ç”Ÿå‘½å‘¨æœŸï¼š åœ¨Serviceæ–¹æ³•è°ƒç”¨å‰ç”±æœåŠ¡å™¨åˆ›å»ºï¼Œä¼ å…¥serviceæ–¹æ³•ã€‚æ•´ä¸ªè¯·æ±‚ç»“æŸï¼Œrequestç”Ÿå‘½ç»“æŸã€‚ ç”¨æˆ·å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå¼€å§‹ï¼ŒæœåŠ¡å™¨è¿”å›å“åº”ï¼Œè¯·æ±‚ç»“æŸï¼Œç”Ÿå‘½å‘¨æœŸç»“æŸï¼›2.ä½œç”¨èŒƒå›´ï¼šæ•´ä¸ªè¯·æ±‚é“¾ï¼ˆè¯·æ±‚è½¬å‘ä¹Ÿå­˜åœ¨ï¼‰3.ä½œç”¨ï¼šåœ¨æ•´ä¸ªè¯·æ±‚é“¾ä¸­å…±äº«æ•°æ®ï¼Œç»å¸¸ç”¨åˆ°ï¼šåœ¨servletä¸­å¤„ç†å¥½çš„æ•°æ®äº¤ç»™JSPæ˜¾ç¤ºï¼Œæ­¤æ—¶å‚æ•°å°±å¯ä»¥æ”¾åœ¨RequeståŸŸä¸­ã€‚ä¸‰ã€HttpSession åŸŸ1.ç”Ÿå‘½å‘¨æœŸï¼š åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨request.getSession()æ–¹æ³•æ—¶ï¼ŒæœåŠ¡å™¨ä¼šæ£€æŸ¥æ˜¯å¦å·²ç»æœ‰å¯¹åº”çš„sessionï¼Œå¦‚æœæ²¡æœ‰å°±åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªsessionå¹¶è¿”å›ã€‚ï¼ˆ1ï¼‰å½“ä¸€æ®µæ—¶é—´å†…sessionæ²¡æœ‰è¢«ä½¿ç”¨ï¼ˆé»˜è®¤ä¸º30åˆ†é’Ÿï¼‰ï¼Œåˆ™æœåŠ¡å™¨ä¼šé”€æ¯è¯¥sessionã€‚ï¼ˆ2ï¼‰å¦‚æœæœåŠ¡å™¨éæ­£å¸¸å…³é—­ï¼Œæ²¡æœ‰åˆ°æœŸçš„sessionä¹Ÿä¼šè·Ÿç€é”€æ¯ã€‚ï¼ˆ3ï¼‰å¦‚æœè°ƒç”¨sessionæä¾›çš„invalidate()ï¼Œå¯ä»¥ç«‹å³é”€æ¯sessionã€‚ç”¨æˆ·æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼Œåˆ›å»ºsessionï¼ˆå¼€å§‹ï¼‰ï¼Œsessionè¶…æ—¶æˆ–è€…è¢«å£°æ˜å¤±æ•ˆï¼Œè¯¥å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸï¼›2.ä½œç”¨èŒƒå›´ï¼šä¸€æ¬¡ä¼šè¯ã€‚HttpSession åœ¨æœåŠ¡å™¨ä¸­ï¼Œä¸ºæµè§ˆå™¨åˆ›å»ºç‹¬ä¸€æ— äºŒçš„å†…å­˜ç©ºé—´ï¼Œåœ¨å…¶ä¸­ä¿å­˜ä¼šè¯ç›¸å…³çš„ä¿¡æ¯æ³¨æ„ï¼šæœåŠ¡å™¨æ­£å¸¸å…³é—­ï¼Œå†å¯åŠ¨ï¼ŒSessionå¯¹è±¡ä¼šè¿›è¡Œé’åŒ–å’Œæ´»åŒ–æ“ä½œã€‚åŒæ—¶å¦‚æœæœåŠ¡å™¨é’åŒ–çš„æ—¶é—´åœ¨session é»˜è®¤é”€æ¯æ—¶é—´ä¹‹å†…ï¼Œ åˆ™æ´»åŒ–åsessionè¿˜æ˜¯å­˜åœ¨çš„ã€‚å¦åˆ™Sessionä¸å­˜åœ¨ã€‚ å¦‚æœJavaBean æ•°æ®åœ¨sessioné’åŒ–æ—¶ï¼Œæ²¡æœ‰å®ç°Serializable åˆ™å½“Sessionæ´»åŒ–æ—¶ï¼Œä¼šæ¶ˆå¤±ã€‚ å››ã€ServletContext1.ç”Ÿå‘½å‘¨æœŸï¼š å½“WEBåº”ç”¨è¢«åŠ è½½è¿›å®¹å™¨åˆ›å»ºä»£è¡¨æ•´ä¸ªWEBåº”ç”¨çš„ServletContextå¯¹è±¡ï¼› å½“æœåŠ¡å™¨å…³é—­æˆ–WEBåº”ç”¨è¢«ç§»é™¤æ—¶ï¼ŒServletContextå¯¹è±¡è·Ÿç€è¢«é”€æ¯ã€‚2.ä½œç”¨èŒƒå›´ï¼šæ•´ä¸ªWEBåº”ç”¨ã€‚3ã€ä½œç”¨ï¼ša)åœ¨ä¸åŒServlet ä¹‹é—´è½¬å‘this.getServletContext().getRequestDispatcher(â€œ/servlet/Demo10Servletâ€).forward(request,response);æ–¹æ³•æ‰§è¡Œç»“æŸï¼Œserviceå°±ä¼šè¿”å›åˆ°æœåŠ¡å™¨ï¼Œå†æœ‰æœåŠ¡å™¨å»è°ƒç”¨ç›®æ ‡servletï¼Œå…¶ä¸­requestä¼šé‡æ–°åˆ›å»ºï¼Œå¹¶å°†ä¹‹å‰çš„requestçš„æ•°æ®æ‹·è´è¿›å»ã€‚b)è¯»å–èµ„æºæ–‡ä»¶ã€‚1ã€ç”±äºç›¸å¯¹è·¯å¾„é»˜è®¤ç›¸å¯¹çš„æ˜¯javaè™šæ‹Ÿæœºå¯åŠ¨çš„ç›®å½•ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥å†™ç›¸å¯¹è·¯å¾„å°†ä¼šæ˜¯ç›¸å¯¹äºtomcat/binç›®å½•ï¼Œæ‰€ä»¥æ˜¯æ‹¿ä¸åˆ°èµ„æºçš„ã€‚å¦‚æœå†™æˆç»å¯¹è·¯å¾„ï¼Œå½“é¡¹ç›®å‘å¸ƒåˆ°å…¶ä»–ç¯å¢ƒæ—¶ï¼Œç»å¯¹è·¯å¾„å°±é”™äº†ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ServletContextæä¾›äº†ï¼šthis.getServletContext().getRealPath(â€œ/1.propertiesâ€)ï¼Œç»™è¿›ä¸€ä¸ªèµ„æºçš„è™šæ‹Ÿè·¯å¾„ï¼Œå°†ä¼šè¿”å›è¯¥èµ„æºåœ¨å½“å‰ç¯å¢ƒä¸‹çš„çœŸå®è·¯å¾„ã€‚ this.getServletContext().getResourceAsStream(â€œ/1.propertiesâ€)ï¼Œç»™ä¸€ä¸ªèµ„æºçš„è™šæ‹Ÿè·¯å¾„è¿”å›åˆ°è¯¥èµ„æºçœŸå®è·¯å¾„çš„æµã€‚2ã€å½“åœ¨éservletä¸‹è·å–èµ„æºæ–‡ä»¶æ—¶ï¼Œå°±æ²¡æœ‰ServletContextå¯¹è±¡ç”¨äº†ï¼Œæ­¤æ—¶åªèƒ½ç”¨ç±»åŠ è½½å™¨classLoader.getResourceAsStream(â€œ../../1.propertiesâ€)ï¼Œæ­¤æ–¹æ³•åˆ©ç”¨ç±»åŠ è½½å™¨ç›´æ¥å°†èµ„æºåŠ è½½åˆ°å†…å­˜ä¸­ï¼Œæœ‰æ›´æ–°å»¶è¿Ÿçš„é—®é¢˜ï¼Œä»¥åŠå¦‚æœæ–‡ä»¶å¤ªå¤§ï¼Œå ç”¨å†…å­˜è¿‡å¤§ã€‚classLoader.getResource(â€œ../1.propertiesâ€).getPath()ï¼Œç›´æ¥è¿”å›èµ„æºçš„çœŸå®è·¯å¾„ï¼Œæ²¡æœ‰æ›´æ–°å»¶è¿Ÿçš„é—®é¢˜ã€‚","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"javaWebåŸºç¡€","slug":"javaWebåŸºç¡€","permalink":"http://SlectRxz.github.io/tags/javaWebåŸºç¡€/"}]},{"title":"ç›‘å¬å™¨ä¸è¿‡æ»¤å™¨","slug":"javaåŸºç¡€/Listener&Filter","date":"2019-02-26T16:00:00.000Z","updated":"2019-03-07T08:43:07.629Z","comments":true,"path":"2019/02/27/javaåŸºç¡€/Listener&Filter/","link":"","permalink":"http://SlectRxz.github.io/2019/02/27/javaåŸºç¡€/Listener&Filter/","excerpt":"Springæ¡†æ¶çš„IOCå¼€å‘çš„ä¸¤ç§æ¨¡å¼ï¼ŒåŒ…æ‹¬XMLå¼€å‘ä¸æ³¨è§£å¼€å‘çš„æ¯”è¾ƒ","text":"Springæ¡†æ¶çš„IOCå¼€å‘çš„ä¸¤ç§æ¨¡å¼ï¼ŒåŒ…æ‹¬XMLå¼€å‘ä¸æ³¨è§£å¼€å‘çš„æ¯”è¾ƒ Listener &amp; FilterListener ç›‘å¬å™¨ èƒ½åšä»€ä¹ˆäº‹ï¼Ÿ ç›‘å¬æŸä¸€ä¸ªäº‹ä»¶çš„å‘ç”Ÿã€‚ çŠ¶æ€çš„æ”¹å˜ã€‚ ç›‘å¬å™¨çš„å†…éƒ¨æœºåˆ¶ å…¶å®å°±æ˜¯æ¥å£å›è°ƒ. æ¥å£å›è°ƒ éœ€æ±‚ï¼š Aåœ¨æ‰§è¡Œå¾ªç¯ï¼Œå½“å¾ªç¯åˆ°5çš„æ—¶å€™ï¼Œ é€šçŸ¥Bã€‚ äº‹å…ˆå…ˆæŠŠä¸€ä¸ªå¯¹è±¡ä¼ é€’ç»™ A ï¼Œ å½“A æ‰§è¡Œåˆ°5çš„æ—¶å€™ï¼Œé€šè¿‡è¿™ä¸ªå¯¹è±¡ï¼Œæ¥è°ƒç”¨Bä¸­çš„æ–¹æ³•ã€‚ ä½†æ˜¯æ³¨æ„ï¼Œä¸æ˜¯ç›´æ¥ä¼ é€’Bçš„å®ä¾‹ï¼Œè€Œæ˜¯ä¼ é€’ä¸€ä¸ªæ¥å£çš„å®ä¾‹è¿‡å»ã€‚ Webç›‘å¬å™¨ æ€»å…±æœ‰8ä¸ª åˆ’åˆ†æˆä¸‰ç§ç±»å‹ ç›‘å¬å™¨ä½¿ç”¨ï¼š å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç°æ¥å£ æ³¨å†Œ | é…ç½®ç›‘å¬å™¨ 1.ç›‘å¬ä¸‰ä¸ªä½œç”¨åŸŸåˆ›å»ºå’Œé”€æ¯request â€”httpServletRequest session â€”httpSession application â€” ServletContext 1. ServletContextListener servletcontextåœ¨ä»€ä¹ˆæ—¶å€™åˆ›å»ºï¼Ÿ 1. å¯åŠ¨æœåŠ¡å™¨çš„æ—¶å€™ servletContexté”€æ¯ï¼š 2. å…³é—­æœåŠ¡å™¨. ä»æœåŠ¡å™¨ç§»é™¤é¡¹ç›® 2. ServletRequestListener requeståˆ›å»º: è®¿é—®æœåŠ¡å™¨ä¸Šçš„ä»»æ„èµ„æºéƒ½ä¼šæœ‰è¯·æ±‚å‡ºç°ã€‚ è®¿é—® htmlï¼š ä¼š è®¿é—® jsp: ä¼š è®¿é—® servlet : ä¼š requesté”€æ¯ï¼š æœåŠ¡å™¨å·²ç»å¯¹è¿™æ¬¡è¯·æ±‚ä½œå‡ºäº†å“åº”ã€‚ public class MyRequestListener implements ServletRequestListener { @Override public void requestDestroyed(ServletRequestEvent sre) { System.out.println(&quot;servletrequest é”€æ¯äº†&quot;); } @Override public void requestInitialized(ServletRequestEvent sre) { System.out.println(&quot;servletrequest åˆå§‹åŒ–äº†&quot;); } } &lt;listener&gt; &lt;listener-class&gt;com.itheima.listener.MyRequestListener&lt;/listener-class&gt; &lt;/listener&gt; 3. HttpSessionListener sessionçš„åˆ›å»º åªè¦è°ƒç”¨getSession html: ä¸ä¼š jsp: ä¼š getSession(); servlet: ä¼š sessionçš„é”€æ¯ è¶…æ—¶ 30åˆ†é’Ÿ éæ­£å¸¸å…³é—­ é”€æ¯ æ­£å¸¸å…³é—­æœåŠ¡å™¨(åºåˆ—åŒ–) public class MySessionListener implements HttpSessionListener { @Override public void sessionCreated(HttpSessionEvent se) { System.out.println(&quot;åˆ›å»ºsessionäº†&quot;); } @Override public void sessionDestroyed(HttpSessionEvent se) { System.out.println(&quot;é”€æ¯sessionäº†&quot;); } } ä½œç”¨ï¼š ServletContextListener åˆ©ç”¨å®ƒæ¥ï¼Œåœ¨servletcontextåˆ›å»ºçš„æ—¶å€™ï¼Œ 1. å®Œæˆè‡ªå·±æƒ³è¦çš„åˆå§‹åŒ–å·¥ä½œ 2. æ‰§è¡Œè‡ªå®šä¹‰ä»»åŠ¡è°ƒåº¦ã€‚ æ‰§è¡ŒæŸä¸€ä¸ªä»»åŠ¡ã€‚ Timer HttpSessionListener ç»Ÿè®¡åœ¨çº¿äººæ•°. 2.ç›‘å¬ä¸‰ä¸ªä½œç”¨åŸŸå±æ€§çŠ¶æ€å˜æ›´ å¯ä»¥ç›‘å¬åœ¨ä½œç”¨åŸŸä¸­å€¼ æ·»åŠ  | æ›¿æ¢ | ç§»é™¤çš„åŠ¨ä½œã€‚ servletContext â€” ServletContextAttributeListener request â€” ServletRequestAttributeListener session â€” HttpSessionAttributeListener ç›‘å¬httpSessioné‡Œé¢å­˜å€¼çš„çŠ¶æ€å˜æ›´ è¿™ä¸€ç±»ç›‘å¬å™¨ä¸ç”¨æ³¨å†Œã€‚ HttpSessionBindingListener ç›‘å¬å¯¹è±¡ä¸session ç»‘å®šå’Œè§£é™¤ç»‘å®š çš„åŠ¨ä½œ ï¼ˆå°±æ˜¯ç›‘å¬è¿™ä¸ªå€¼åœ¨ä¸åœ¨sessionä¸­ï¼‰ 1. è®©javaBean å®ç°è¯¥æ¥å£å³å¯ @Override public void valueBound(HttpSessionBindingEvent event) { System.out.println(&quot;å¯¹è±¡è¢«ç»‘å®šè¿›æ¥äº†&quot;); } @Override public void valueUnbound(HttpSessionBindingEvent event) { System.out.println(&quot;å¯¹è±¡è¢«è§£é™¤ç»‘å®š&quot;); } HttpSessionActivationListener ç”¨äºç›‘å¬æ£€æµ‹ç°åœ¨sessionçš„å€¼ æ˜¯ é’åŒ– ï¼ˆåºåˆ—åŒ–ï¼‰è¿˜æ˜¯æ´»åŒ– ï¼ˆååºåˆ—åŒ–ï¼‰çš„åŠ¨ä½œæ³¨æ„ï¼šserializableæ¥å£ï¼Œæ ‡å¿—ç€è¯¥ç±»å¯ä»¥å®ç°åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼Œè¦æƒ³è¯¥ç±»èƒ½å¤Ÿå®ç°åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼Œå¿…é¡»ç»§æ‰¿è¯¥ç±» é’åŒ– ï¼ˆåºåˆ—åŒ–ï¼‰ æŠŠå†…å­˜ä¸­çš„æ•°æ® å­˜å‚¨åˆ°ç¡¬ç›˜ä¸Š æ´»åŒ– ï¼ˆååºåˆ—åŒ–ï¼‰ æŠŠç¡¬ç›˜ä¸­çš„æ•°æ®è¯»å–åˆ°å†…å­˜ä¸­ã€‚ sessionçš„é’åŒ–æ´»åŒ–çš„ç”¨æ„ä½•åœ¨ sessionä¸­çš„å€¼å¯èƒ½ä¼šå¾ˆå¤šï¼Œ å¹¶ä¸”æˆ‘ä»¬æœ‰å¾ˆé•¿ä¸€æ®µæ—¶é—´ä¸ä½¿ç”¨è¿™ä¸ªå†…å­˜ä¸­çš„å€¼ï¼Œ é‚£ä¹ˆå¯ä»¥è€ƒè™‘æŠŠsessionçš„å€¼å¯ä»¥å­˜å‚¨åˆ°ç¡¬ç›˜ä¸Šã€é’åŒ–ã€‘ï¼Œç­‰ä¸‹ä¸€æ¬¡åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œåœ¨ä»ç¡¬ç›˜ä¸Šæå–å‡ºæ¥ã€‚ ã€æ´»åŒ–ã€‘ å¦‚ä½•è®©sessionçš„åœ¨ä¸€å®šæ—¶é—´å†…é’åŒ–. åšé…ç½®å³å¯ 1. åœ¨tomcaté‡Œé¢ conf/context.xml é‡Œé¢é…ç½® å¯¹æ‰€æœ‰çš„è¿è¡Œåœ¨è¿™ä¸ªæœåŠ¡å™¨çš„é¡¹ç›®ç”Ÿæ•ˆ 2. åœ¨conf/Catalina/localhost/context.xml é…ç½® å¯¹ localhostç”Ÿæ•ˆã€‚ localhost:8080 3. åœ¨è‡ªå·±çš„webå·¥ç¨‹é¡¹ç›®ä¸­çš„ META-INF/context.xml åªå¯¹å½“å‰çš„å·¥ç¨‹ç”Ÿæ•ˆã€‚ maxIdleSwap ï¼š 1åˆ†é’Ÿä¸ç”¨å°±é’åŒ– directory ï¼š é’åŒ–åçš„é‚£ä¸ªæ–‡ä»¶å­˜æ”¾çš„ç›®å½•ä½ç½®ã€‚ D:\\tomcat\\apache-tomcat-7.0.52\\work\\Catalina\\localhost\\ListenerDemo\\itheima &lt;Context&gt; &lt;Manager className=&quot;org.apache.catalina.session.PersistentManager&quot; maxIdleSwap=&quot;1&quot;&gt; &lt;Store className=&quot;org.apache.catalina.session.FileStore&quot; directory=&quot;itheima&quot;/&gt; &lt;/Manager&gt; &lt;/Context&gt; Filter è¿‡æ»¤å™¨ ï¼Œ å…¶å®å°±æ˜¯å¯¹å®¢æˆ·ç«¯å‘å‡ºæ¥çš„è¯·æ±‚è¿›è¡Œè¿‡æ»¤ã€‚ æµè§ˆå™¨å‘å‡ºï¼Œ ç„¶åæœåŠ¡å™¨æ´¾servletå¤„ç†ã€‚ åœ¨ä¸­é—´å°±å¯ä»¥è¿‡æ»¤ï¼Œ å…¶å®è¿‡æ»¤å™¨èµ·åˆ°çš„æ˜¯æ‹¦æˆªçš„ä½œç”¨ã€‚ ä½œç”¨ å¯¹ä¸€äº›æ•æ„Ÿè¯æ±‡è¿›è¡Œè¿‡æ»¤ ç»Ÿä¸€è®¾ç½®ç¼–ç  è‡ªåŠ¨ç™»å½• â€¦ å¦‚ä½•ä½¿ç”¨Filter å®šä¹‰ä¸€ä¸ªç±»ï¼Œ å®ç°Filter public class FilterDemo implements Filter { public void destroy() { } public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException { System.out.println(&quot;æ¥åˆ°è¿‡è™‘å™¨äº†ã€‚ã€‚ã€‚&quot;); chain.doFilter(request, response); } public void init(FilterConfig fConfig) throws ServletException { } } æ³¨å†Œè¿‡æ»¤å™¨ åœ¨web.xmlé‡Œé¢æ³¨å†Œï¼Œæ³¨å†Œçš„æ‰‹æ³•ä¸servletåŸºæœ¬ä¸€æ ·ã€‚ &lt;filter&gt; &lt;display-name&gt;FilterDemo&lt;/display-name&gt; &lt;filter-name&gt;FilterDemo&lt;/filter-name&gt; &lt;filter-class&gt;com.itheima.filter.FilterDemo&lt;/filter-class&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;FilterDemo&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; Filterçš„ç”Ÿå‘½å‘¨æœŸ åˆ›å»º åœ¨æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™å°±åˆ›å»ºã€‚ é”€æ¯ æœåŠ¡å™¨åœæ­¢çš„æ—¶å€™ã€‚ ###Filteræ‰§è¡Œé¡ºåº å®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚ï¼Œå…ˆç»è¿‡è¿‡æ»¤å™¨ï¼Œ å¦‚æœè¿‡æ»¤å™¨æ”¾è¡Œï¼Œé‚£ä¹ˆæ‰èƒ½åˆ°servlet å¦‚æœæœ‰å¤šä¸ªè¿‡æ»¤å™¨ï¼Œ é‚£ä¹ˆä»–ä»¬ä¼šæŒ‰ç…§æ³¨å†Œçš„æ˜ å°„é¡ºåº æ¥ æ’é˜Ÿã€‚ åªè¦æœ‰ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œ ä¸æ”¾è¡Œï¼Œé‚£ä¹ˆåé¢æ’é˜Ÿçš„è¿‡æ»¤å™¨ä»¥åŠå’±ä»¬çš„servletéƒ½ä¸ä¼šæ”¶åˆ°è¯·æ±‚ã€‚ Filterç»†èŠ‚ï¼š initæ–¹æ³•çš„å‚æ•° FilterConfig , å¯ä»¥ç”¨äºè·å–filteråœ¨æ³¨å†Œçš„åå­— ä»¥åŠåˆå§‹åŒ–å‚æ•°ã€‚ å…¶å®è¿™é‡Œçš„è®¾è®¡çš„åˆè¡·ä¸ServletConfigæ˜¯ä¸€æ ·çš„ã€‚ å¦‚æœæƒ³æ”¾è¡Œï¼Œé‚£ä¹ˆåœ¨doFilter æ–¹æ³•é‡Œé¢æ“ä½œï¼Œä½¿ç”¨å‚æ•° chain chain.doFilter(request, response); æ”¾è¡Œï¼Œ è®©è¯·æ±‚åˆ°è¾¾ä¸‹ä¸€ä¸ªç›®æ ‡ã€‚ &lt;url-pattern&gt;/*&lt;/url-pattern&gt;å†™æ³•æ ¼å¼ä¸servletä¸€æ ·ã€‚/*ä»£è¡¨ç€ä½ è¿‡æ»¤è° å…¨è·¯å¾„åŒ¹é… ä»¥ / å¼€å§‹ /LoginServlet åªæœ‰è®¿é—®è¿™ä¸ªservletæ—¶æ‰æ‹¦æˆª ä»¥ç›®å½•åŒ¹é… ä»¥ / å¼€å§‹ ä»¥ * ç»“æŸ /demo01/* åªæœ‰è®¿é—®demo01ç›®å½•ä¸‹çš„æ–‡ä»¶æ‰ä¼šæ‹¦æˆª ä»¥åç¼€ååŒ¹é… ä»¥ * å¼€å§‹ ä»¥åç¼€åç»“æŸ .jsp .html *.do é’ˆå¯¹ dispatcher è®¾ç½® REQUEST ï¼š åªè¦æ˜¯è¯·æ±‚è¿‡æ¥ï¼Œéƒ½æ‹¦æˆªï¼Œé»˜è®¤å°±æ˜¯REQUEST FORWARD : åªè¦æ˜¯è½¬å‘éƒ½æ‹¦æˆªã€‚ ERROR ï¼š é¡µé¢å‡ºé”™å‘ç”Ÿè·³è½¬ INCLUDE ï¼š åŒ…å«é¡µé¢çš„æ—¶å€™å°±æ‹¦æˆªã€‚ è‡ªåŠ¨ç™»å½• éœ€æ±‚åˆ†æ 1. æ­å»ºç¯å¢ƒ æ­å»ºæ•°æ®åº“ æ­å»ºé¡µé¢ ç™»å½•servletä»£ç  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { try { String userName = request.getParameter(&quot;username&quot;); String password = request.getParameter(&quot;password&quot;); String autoLogin = request.getParameter(&quot;auto_login&quot;); UserBean user = new UserBean(); user.setUsername(userName); user.setPassword(password); UserDao dao = new UserDaoImpl(); UserBean userBean = dao.login(user); if(userBean != null){ //æˆåŠŸäº†ï¼Œè¿›å…¥é¦–é¡µ request.getSession().setAttribute(&quot;userBean&quot;, userBean); response.sendRedirect(&quot;index.jsp&quot;); }else{ //ä¸æˆåŠŸ... request.getRequestDispatcher(&quot;login.jsp&quot;).forward(request, response); } } catch (SQLException e) { e.printStackTrace(); } } è¿‡æ»¤å™¨ä»£ç (è§AutoLoginä»£ç ) è¿‡æ»¤å™¨çš„æ ¸å¿ƒä¸æ˜¯å®Œæˆæ‹¦æˆªä¸ç»™ ï¼Œ è¿˜æ˜¯æ”¾è¡Œæ˜¾ç¤ºã€‚ å®ƒçš„æ ¸å¿ƒæ˜¯åœ¨æ”¾è¡Œä¹‹å‰ï¼Œå¸®ç”¨æˆ·å®Œæˆç™»å½•çš„åŠŸèƒ½ã€‚ å®ç°æ€è·¯ å…ˆåˆ¤æ–­sessionæ˜¯å¦æœ‰æ•ˆï¼Œ å¦‚æœæœ‰æ•ˆï¼Œå°±ä¸ç”¨å–cookieäº†ï¼Œç›´æ¥æ”¾è¡Œã€‚ å¦‚æœsessionå¤±æ•ˆäº†ï¼Œé‚£ä¹ˆå°±å– cookieã€‚ æ²¡æœ‰cookie æ”¾è¡Œ æœ‰cookie 1. å–å‡ºæ¥cookieçš„å€¼ï¼Œç„¶åå®Œæˆç™»å½• 2. æŠŠè¿™ä¸ªç”¨æˆ·çš„å€¼å­˜å‚¨åˆ°sessionä¸­ 3. æ”¾è¡Œã€‚ /** * @see Filter#doFilter(ServletRequest, ServletResponse, FilterChain) */ public void doFilter(ServletRequest req, ServletResponse response, FilterChain chain) throws IOException, ServletException { try { HttpServletRequest request = (HttpServletRequest) req; //è®¾ç½®ç¼–ç æ ¼å¼ response.setContentType(&quot;text/html;charset=utf-8&quot;); request.setCharacterEncoding(&quot;utf-8&quot;); response.setCharacterEncoding(&quot;utf-8&quot;); //å…ˆåˆ¤æ–­ï¼Œç°åœ¨sessionä¸­è¿˜æœ‰æ²¡æœ‰é‚£ä¸ªuserBean. UserBean userBean = (UserBean) request.getSession().getAttribute(&quot;userBean&quot;); //è¿˜æœ‰ï¼Œæœ‰æ•ˆã€‚ if(userBean != null){ chain.doFilter(request, response); }else{ //ä»£è¡¨sessionå¤±æ•ˆäº†ã€‚ //2. çœ‹cookieã€‚ //1. æ¥è¯·æ±‚çš„æ—¶å€™ï¼Œå…ˆä»è¯·æ±‚é‡Œé¢å–å‡ºcookie , ä½†æ˜¯cookieæœ‰å¾ˆå¤šçš„key-value Cookie[] cookies = request.getCookies(); //2. ä»ä¸€å †çš„cookieé‡Œé¢æ‰¾å‡ºæˆ‘ä»¬ä»¥å‰ç»™æµè§ˆå™¨å‘çš„é‚£ä¸ªcookie Cookie cookie = CookieUtil.findCookie(cookies, &quot;auto_login&quot;); //ç¬¬ä¸€æ¬¡æ¥ if(cookie == null){ chain.doFilter(request, response); }else{ //ä¸æ˜¯ç¬¬ä¸€æ¬¡ã€‚ String value = cookie.getValue(); String username = value.split(&quot;#itheima#&quot;)[0]; String password = value.split(&quot;#itheima#&quot;)[1]; //å®Œæˆç™»å½• UserBean user = new UserBean(); user.setUsername(username); user.setPassword(password); UserDao dao = new UserDaoImpl(); userBean = dao.login(user); //ä½¿ç”¨sessionå­˜è¿™ä¸ªå€¼åˆ°åŸŸä¸­ï¼Œæ–¹ä¾¿ä¸‹ä¸€æ¬¡æœªè¿‡æœŸå‰è¿˜å¯ä»¥ç”¨ã€‚ request.getSession().setAttribute(&quot;userBean&quot;, userBean); chain.doFilter(request, response); } } } catch (Exception e) { e.printStackTrace(); chain.doFilter(req, response); } } BeanUtilsçš„ä½¿ç”¨ å¯¼åŒ…æ³¨æ„ï¼šBeanUtilså¯ä»¥å¸®æˆ‘ä»¬è½¬æ¢intï¼ŒStringç­‰ç±»å‹ï¼Œä½†æ˜¯æ—¥æœŸç±»å‹è½¬æ¢ä¸äº†æ€»ç»“å¦‚ä¸‹ï¼š å¦‚æœformå‚æ•°æ˜¯Stringç±»å‹ï¼Œjavabeanå±æ€§Stringç±»å‹ â€”- è°ƒç”¨BeanUtils.populate å°†formæ•°æ®å°è£… javabean å¦‚æœJavaBeanå±æ€§ç±»å‹ä¸æ˜¯String â€”- å°†formæ•°æ®å°è£…javabean éœ€è¦è½¬æ¢å™¨ â€”â€“ åœ¨BeanUtils API æä¾›å¾ˆå¤šé»˜è®¤è½¬æ¢å™¨ï¼ˆå®Œæˆå¸¸è§è½¬æ¢ï¼‰ å¦‚æœéœ€è¦è½¬æ¢ç±»å‹éå¸¸ç‰¹æ®Šï¼Œå¯ä»¥é€šè¿‡è‡ªå®šä¹‰è½¬æ¢å™¨å®Œæˆ å®šä¹‰ç±»å®ç°Converteræ¥å£ï¼Œå®ç°convertæ–¹æ³• ï¼Œåœ¨populateè°ƒç”¨ä¹‹å‰é€šè¿‡ConvertUtils.registeræ³¨å†Œè½¬æ¢å™¨ BeanUtils.populate(bean, map); //æ³¨å†Œè‡ªå·±çš„æ—¥æœŸè½¬æ¢å™¨ ConvertUtils.register(new MyDateConverter(), Date.class); //è½¬åŒ–æ•°æ® Map map = request.getParameterMap(); UserBean bean = new UserBean(); è½¬åŒ–mapä¸­çš„æ•°æ®ï¼Œæ”¾ç½®åˆ°beanå¯¹è±¡èº«ä¸Š BeanUtils.populate(bean, map); æ€»ç»“Listener8ä¸ª ä¸‰ç§ç±»å‹ é’ˆå¯¹ä¸‰ä¸ªä½œç”¨åŸŸçš„åˆ›å»ºå’Œé”€æ¯ é’ˆå¯¹ä¸‰ä¸ªä½œç”¨åŸŸçš„å€¼æ”¹å˜ ã€æ·»åŠ  | æ›¿æ¢ | ç§»é™¤ã€‘ é’ˆå¯¹sessionä¸­çš„å€¼ ã€é’åŒ– æ´»åŒ–ã€‘ ï¼Œ ã€ç»‘å®š è§£ç»‘ã€‘ é’åŒ– ( åºåˆ—åŒ– ) å†…å­˜ä¸­çš„å¯¹è±¡å­˜å‚¨åˆ°ç¡¬ç›˜ è¶…æ—¶å¤±æ•ˆã€‚ sessioné”€æ¯äº†ã€‚ éæ­£å¸¸å…³é—­æœåŠ¡å™¨ï¼Œ é’åŒ– ã€‚ æ­£å¸¸å…³é—­æœåŠ¡å™¨ é”€æ¯ è®¾ç½®äº†sessionï¼Œå¤šä¹…æ—¶é—´ã€‚ context.xml æ´»åŒ– (ååºåˆ—åŒ–) ä»ç¡¬ç›˜é‡Œé¢è¯»å–åˆ°å†…å­˜ ServletContextListner ï¼š åº”ç”¨è¢«éƒ¨ç½²çš„æ—¶å€™ï¼Œ æœåŠ¡å™¨åŠ è½½è¿™ä¸ªé¡¹ç›®çš„æ—¶å€™ï¼Œåšä¸€äº›åˆå§‹åŒ–å·¥ä½œï¼Œ ä»»åŠ¡è°ƒåº¦ã€‚HttpSessionListener ï¼š ç»Ÿè®¡åœ¨çº¿äººæ•°HttpSessionActivationListener ï¼š é’åŒ–æ´»åŒ–å¤„ç† ##Filter ä½¿ç”¨é¢‘ç‡æ›´é«˜ å¦‚æœè¦å†™ä¸€ä¸ªè¿‡æ»¤å™¨ã€‚ å®šä¹‰ä¸€ä¸ªç±»ï¼Œå®ç°æ¥å£ Filter æ³¨å†Œ . web.xml . ä¸servletç›¸ä¼¼ã€‚ è¿‡æ»¤å™¨æ”¾è¡Œã€‚ chain.doFilter(request, response); è¿‡æ»¤å™¨ç”Ÿå‘½å‘¨æœŸ åˆ›å»ºï¼š æœåŠ¡å™¨åŠ è½½è¿™ä¸ªé¡¹ç›®çš„æ—¶å€™åˆ›å»ºå®ä¾‹ é”€æ¯ï¼š å…³é—­æœåŠ¡å™¨æˆ–è€…ä»æœåŠ¡å™¨ä¸­ç§»é™¤é¡¹ç›®çš„æ—¶å€™ã€‚","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"javaWebåŸºç¡€","slug":"javaWebåŸºç¡€","permalink":"http://SlectRxz.github.io/tags/javaWebåŸºç¡€/"}]},{"title":"Springå­¦ä¹ æ—¥å¿—ï¼ˆ1ï¼‰","slug":"java/Springå­¦ä¹ (1)","date":"2019-02-24T16:00:00.000Z","updated":"2019-12-20T12:05:27.222Z","comments":true,"path":"2019/02/25/java/Springå­¦ä¹ (1)/","link":"","permalink":"http://SlectRxz.github.io/2019/02/25/java/Springå­¦ä¹ (1)/","excerpt":"Springæ¡†æ¶çš„IOCå¼€å‘çš„ä¸¤ç§æ¨¡å¼ï¼ŒåŒ…æ‹¬XMLå¼€å‘ä¸æ³¨è§£å¼€å‘çš„æ¯”è¾ƒ","text":"Springæ¡†æ¶çš„IOCå¼€å‘çš„ä¸¤ç§æ¨¡å¼ï¼ŒåŒ…æ‹¬XMLå¼€å‘ä¸æ³¨è§£å¼€å‘çš„æ¯”è¾ƒ Springçš„ç®€ä»‹ä»€ä¹ˆæ˜¯Spring Springæ˜¯ä¸€ä¸ªå¼€æºæ¡†æ¶ï¼Œäº2003å¹´å…´èµ·çš„è½»é‡çº§javaå¼€å‘æ¡†æ¶ï¼Œç®€å•è€Œè¨€ï¼ŒSpringæ˜¯ä¸€ä¸ªåˆ†å±‚çš„JAVASE/EEfull-stackï¼ˆä¸€ç«™å¼ï¼‰å¼€æºæ¡†æ¶ Springå…¥é—¨ï¼ˆIOCï¼‰ä¸€ã€ä»€ä¹ˆæ˜¯IOC IOCï¼ˆInversion of Controlï¼‰ï¼šæ§åˆ¶åè½¬ã€‚æ§åˆ¶åè½¬ï¼šå°†å¯¹è±¡çš„æ§åˆ¶æƒåè½¬äº¤ç»™Spring å¯¼åŒ… (å®˜ç½‘ï¼šhttp://SPring.io/) å¼•å…¥çº¦æŸæ–‡ä»¶ åœ¨springçš„è§£å‹è·¯å¾„ä¸‹spring-framework-4.2.4.RELEASE\\docs\\spring-framework-reference\\html\\xsd-configuration.html Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;&lt;/beans&gt; Springåº•å±‚å®ç°åŸç†ï¼š Springå­¦ä¹ è·¯çº¿ æŠŠç±»äº¤ç»™Springå¤„ç†ï¼Œæœ‰ä¸¤ç§æ–¹å¼ 1 . é€šè¿‡XMLé…ç½®æ–¹å¼Codepackage Spring.demo1;/** * ä¸šåŠ¡ç®¡ç†å±‚çš„æ¥å£ * @author rong * */public interface UserService &#123; public void add();&#125; Codepackage Spring.demo1;/** * ä¸šåŠ¡ç®¡ç†å±‚çš„å®ç°ç±» * @author rong * */public class UserServiceImp implements UserService &#123; private String name; public void setName(String name) &#123; this.name = name; &#125; @Override public void add() &#123; // TODO Auto-generated method stub System.out.println(&quot;UserServiceImpè¢«æ‰§è¡Œäº†&quot;+name); &#125;&#125; Codepackage Spring.demo1;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;import org.springframework.context.support.FileSystemXmlApplicationContext;public class Test &#123; @org.junit.Test public void demo1()&#123;// UserService user=new UserServiceImp(); UserServiceImp user=new UserServiceImp(); user.setName(&quot;å¼ ä¸‰&quot;); user.add(); &#125; /** * Spring æ–¹å¼çš„è°ƒç”¨ */ @org.junit.Test public void demo2()&#123; /** * åˆ›å»ºSpringå·¥å‚ */ ApplicationContext applicationContext=new ClassPathXmlApplicationContext(&quot;application.xml&quot;); UserService User = (UserService) applicationContext.getBean(&quot;UserService&quot;); User.add(); &#125; @org.junit.Test public void demo3()&#123; /** * åŠ è½½ç£ç›˜ä¸Šçš„é…ç½®æ–‡ä»¶ */ ApplicationContext applicationContext=new FileSystemXmlApplicationContext(&quot;D:\\\\111\\\\application.xml&quot;); UserService user = (UserService) applicationContext.getBean(&quot;UserService&quot;); user.add(); &#125;&#125; XMLé…ç½®æ–‡ä»¶å…¶ä¸­åŒ…æ‹¬äº†å±æ€§çš„æ³¨å…¥ï¼ˆé€šè¿‡æ„é€ å‡½æ•°æˆ–Setæ–¹æ³•ï¼‰SPELçš„/font&gt;çš„æ³¨å…¥é›†åˆçš„æ³¨å…¥çš„æ³¨å…¥Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;!-- Spring å…¥é—¨çš„é…ç½® id ç›¸å½“äºSpringç”Ÿæˆç±»æ—¶ï¼Œè¯¥ç±»çš„ä¸€ä¸ªç¼–å·ï¼Œï¼Œï¼Œç”¨äºgetBean() name ä½œç”¨ä¸ä¸Šé¢ç›¸åŒ class ç”Ÿæˆç±»çš„åœ°å€ åŒ…å.ç±»å init-method Springåœ¨åˆå§‹åŒ–è¯¥ç±»çš„æ—¶å€™æ‰€æ‰§è¡Œçš„æ–¹æ³• destory-method Springåœ¨å…³é—­å·¥å‚çš„æ—¶å€™æ‰€æ‰§è¡Œçš„æ–¹æ³• scope æ‰€åˆ›å»ºçš„ç±»æ˜¯ å•ä¾‹æ¨¡å¼-æ— è®ºgetBeanå‡ æ¬¡ï¼Œéƒ½åªnewä¸€æ¬¡ï¼ˆsingletonï¼‰ å¤šä¾‹æ¨¡å¼-getBeanå‡ æ¬¡å°±newå‡ æ¬¡ ï¼ˆprototypeï¼‰ request ç”Ÿæˆçš„å¯¹è±¡å­˜æ”¾åœ¨åŸŸä¸­ session åŒä¸Š globalsession ä½œç”¨è§word factory-method åœ¨ç±»åˆå§‹åŒ–æ—¶ï¼Œè‹¥ä¸å†™é»˜è®¤è°ƒç”¨æ— å‚çš„æ„é€ æ–¹æ³•ï¼Œè‹¥æƒ³æŒ‡å®šæ„é€ æ–¹æ³•ï¼Œåˆ™ä½¿ç”¨è¯¥æ–¹æ³• --&gt; &lt;bean id=&quot;UserService&quot; class=&quot;Spring.demo1.UserServiceImp&quot; &gt; &lt;property name=&quot;name&quot; value=&quot;å¼ ä¸‰&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;bean id=&quot;Custom&quot; class=&quot;Spring.demo2.CustomImp&quot; init-method=&quot;init&quot; destroy-method=&quot;destroy&quot; scope=&quot;prototype&quot; &gt; &lt;/bean&gt; &lt;bean id=&quot;person&quot; class=&quot;Spring.demo3.person&quot; &gt; &lt;/bean&gt; &lt;!-- å±æ€§çš„æ³¨å…¥ æœ‰ä¸¤ç§æ–¹å¼ 1.é€šè¿‡æ„é€ æ–¹å¼ï¼ˆæœ‰å‚æ„é€ ï¼‰ &lt;constructor-arg name=&quot;name&quot; value=&quot;å¥”é©°&quot;&gt;&lt;/constructor-arg&gt; 2.é€šè¿‡ç±»çš„setæ–¹æ³• &lt;property name=&quot;price&quot; value=&quot;1212.0&quot;&gt;&lt;/property&gt; æ³¨æ„ï¼š å½“æˆå‘˜ä¸åœ¨æ˜¯ç®€å•çš„å±æ€§ï¼Œè€Œå®æŸä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œvalueå˜ä¸ºref --&gt; &lt;bean id=&quot;car1&quot; class=&quot;Spring.demo4.car1&quot;&gt; &lt;constructor-arg name=&quot;name&quot; value=&quot;å¥”é©°&quot;&gt;&lt;/constructor-arg&gt; &lt;constructor-arg name=&quot;price&quot; value=&quot;12220.0&quot;&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; &lt;!-- &lt;bean id=&quot;car2&quot; class=&quot;Spring.demo4.car2&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;ä¸œé£&quot;&gt;&lt;/property&gt; &lt;property name=&quot;price&quot; value=&quot;1212.0&quot;&gt;&lt;/property&gt; &lt;/bean &gt; --&gt; &lt;!-- æ”¹ç”¨Påç§°ç©ºé—´æ³¨å…¥ --&gt; &lt;bean id=&quot;car2&quot; class=&quot;Spring.demo4.car2&quot; p:name=&quot;ä¸œé£&quot; p:price=&quot;4212.0&quot; &gt; &lt;/bean&gt; &lt;!-- &lt;bean id=&quot;staff&quot; class=&quot;Spring.demo4.staff&quot;&gt; &lt;constructor-arg name=&quot;name&quot; value=&quot;å¼ ä¸‰&quot;&gt;&lt;/constructor-arg&gt; &lt;constructor-arg name=&quot;car&quot; ref=&quot;car1&quot;&gt;&lt;/constructor-arg&gt; &lt;/bean&gt; --&gt; &lt;!-- æ”¹ç”¨Påç§° ç©ºé—´æ³¨å…¥ æ³¨æ„ï¼š Påç§°ç©ºé—´æ³¨å…¥èµ°çš„ä¹Ÿæ˜¯setæ–¹æ³•, å®˜æ–¹ç›®çš„æ˜¯ç®€åŒ–setæ³¨å…¥çš„propertyæ ‡ç­¾çš„å†™æ³• æœ‰setæ–¹æ³•å°±ä¸è¦æœ‰ æœ‰å‚çš„æ„é€ æ–¹æ³• --&gt; &lt;!-- &lt;bean id=&quot;staff&quot; class=&quot;Spring.demo4.staff&quot; p:name=&quot;å¼ ä¸‰&quot; p:car-ref=&quot;car1&quot;&gt; &lt;/bean&gt; --&gt; &lt;!-- SPELæ³¨å…¥ ä½¿ç”¨#&#123;&#125;ä½œä¸ºå®šç•Œç¬¦ å°±æ˜¯ç»™æ”¹å˜äº† valueçš„èµ‹å€¼ æ²¡æœ‰æ”¹å˜çš„æ˜¯ property å¯ä»¥ä¸ºæ•°ã€å­—ç¬¦ä¸²ã€booleanã€å…¶ä»–å¯¹è±¡ã€å…¶ä»–å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ã€æ”¯æŒè¿ç®—ç¬¦ --&gt; &lt;!-- &lt;bean id=&quot;staff&quot; class=&quot;Spring.demo4.staff&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;#&#123;&apos;å¼ ä¸‰&apos;&#125;&quot;&gt;&lt;/property&gt; &lt;property name=&quot;car&quot; value=&quot;#&#123;car1&#125;&quot;&gt;&lt;/property&gt; &lt;/bean&gt; --&gt; &lt;!-- è°ƒç”¨å…¶ä»–ç±»çš„æ–¹æ³• --&gt; &lt;bean id=&quot;calculate&quot; class=&quot;Spring.demo4.calculate&quot;&gt;&lt;/bean&gt; &lt;bean id=&quot;staff&quot; class=&quot;Spring.demo4.staff&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;#&#123;calculate.name&#125;&quot;&gt;&lt;/property&gt; &lt;property name=&quot;car&quot; value=&quot;#&#123;car1&#125;&quot;&gt;&lt;/property&gt; &lt;/bean&gt; &lt;!-- é›†åˆå±æ€§çš„æ³¨å…¥======================ä¸€èˆ¬ç”¨äºä¸åŒçš„æ¡†æ¶çš„æ•´åˆ= --&gt; &lt;bean id=&quot;collectionBean&quot; class=&quot;Spring.demo5.collectionBean&quot;&gt; &lt;!-- intæ•°ç»„çš„æ³¨å…¥ --&gt; &lt;property name=&quot;arr&quot;&gt; &lt;list&gt; &lt;value&gt;1&lt;/value&gt; &lt;value&gt;2&lt;/value&gt; &lt;value&gt;3&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;!-- List&lt;String&gt;é›†åˆæ³¨å…¥ --&gt; &lt;property name=&quot;list&quot;&gt; &lt;list&gt; &lt;value&gt;å¼ ä¸‰&lt;/value&gt; &lt;value&gt;æå››&lt;/value&gt; &lt;value&gt;ç‹äº”&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; &lt;!-- Set&lt;String&gt;seté›†åˆæ³¨å…¥ --&gt; &lt;property name=&quot;set&quot;&gt; &lt;set&gt; &lt;value&gt;å¼ ä¸‰&lt;/value&gt; &lt;value&gt;æå››&lt;/value&gt; &lt;value&gt;ç‹äº”&lt;/value&gt; &lt;/set&gt; &lt;/property&gt; &lt;!-- map&lt;int,String&gt;é›†åˆçš„æ³¨å…¥ --&gt; &lt;property name=&quot;map&quot;&gt; &lt;map&gt; &lt;entry key=&quot;1&quot; value=&quot;å¼ ä¸‰&quot;&gt;&lt;/entry&gt; &lt;entry key=&quot;2&quot; value=&quot;æå››&quot;&gt;&lt;/entry&gt; &lt;entry key=&quot;3&quot; value=&quot;ç‹äº”&quot;&gt;&lt;/entry&gt; &lt;/map&gt; &lt;/property&gt; &lt;/bean&gt;&lt;/beans&gt; 2 . é€šè¿‡æ³¨è§£æ–¹å¼ å¯¼åŒ…é™¤äº†å¼•å…¥åŸºæœ¬çš„å¼€å‘åŒ…ï¼Œè¿˜éœ€è¦å¼•å…¥AOPåŒ… å¼•å…¥çº¦æŸæ–‡ä»¶å“ªé‡Œæ‰¾ï¼Ÿspring-framework-4.2.4.RELEASE-docs\\spring-framework-reference\\htmlä¸­æ‰¾xsd-configuration.htmlä¸­æ‰¾åˆ°Contextçº¦æŸï¼ˆå…¶ä¸­åŒ…å«äº†beansçº¦æŸï¼Œbeansçº¦æŸæ˜¯Springä¸­æœ€åŸºæœ¬çš„çº¦æŸï¼‰ å¼€å¯ç»„ä»¶æ‰«æ(åœ¨XMLæ–‡ä»¶ä¸­)Code &lt;!--=====æ‰«ææ˜¯ä¸ºäº†æ‰«æç±»ä¸Šçš„æ³¨è§£ ============--&gt;&lt;context:component-scan base-package=&quot;demo1,demo2&quot;&gt;&lt;/context:component-scan&gt; ç¼–å†™æµ‹è¯•ç±» Codepackage demo1;public interface UserDao &#123; public void sava();&#125; Codepackage demo1;import org.springframework.beans.factory.annotation.Value;import org.springframework.stereotype.Component;@Component(value=&quot;UserDaoImp&quot;)//ç›¸å½“äº&lt;bean id=&quot;UserDaoImp&quot; class=&quot;demo1.UserDaoImp&quot;&gt;&lt;/bean&gt;public class UserDaoImp implements UserDao &#123; @Value(&quot;å¼ ä¸‰&quot;) private String name; //å¯ä»¥ä¸æä¾›setæ–¹æ³•ï¼Œåˆ™éœ€è¦å°†å±æ€§çš„æ³¨è§£æ·»åŠ åˆ°å±æ€§ä¸Šï¼›è‹¥æœ‰setæ–¹æ³•ï¼Œåˆ™éœ€è¦å°†å±æ€§çš„æ³¨å…¥æ·»åŠ åˆ°setæ–¹æ³•ä¸Š /*@Value(&quot;å¼ ä¸‰&quot;) public void setName(String name) &#123; this.name = name; &#125;*/ @Override public void sava() &#123; // TODO Auto-generated method stub System.out.println(&quot;sava()æ–¹æ³•æ‰§è¡Œäº†ã€‚ã€‚&quot;); &#125; @Override public String toString() &#123; return &quot;UserDaoImp [name=&quot; + name + &quot;]&quot;; &#125;&#125; è¯´æ˜ï¼šå±æ€§æ³¨å…¥çš„æ³¨è§£åˆ†ä¸ºä»¥ä¸‹ç±»å‹ æ™®é€šç±»å‹ @valueï¼ˆâ€œâ€ï¼‰è®¾ç½®æ™®é€šå±æ€§çš„å€¼ å¯¹è±¡ç±»å‹@Autowiredï¼šè®¾ç½®å¯¹è±¡çš„å±æ€§çš„å€¼ã€‚æ³¨æ„ï¼šæŒ‰ç…§ç±»å‹å®Œæˆå±æ€§æ³¨å…¥ï¼Œè€Œä¸æ˜¯åç§°ï¼Œä¸Componentï¼ˆâ€œCLassNameâ€ï¼‰æ— å…³ ä¸€èˆ¬æˆ‘ä»¬ä¹ æƒ¯æŒ‰åç§°åŒ¹é…ä¸‹é¢ä¸¤ä¸ªåŒæ—¶å†™ @Autowired@Qualifier(value=â€ClassNameâ€) //å¼ºåˆ¶ä½¿å®ƒæŒ‰ç…§åç§°çš„å±æ€§æ³¨å…¥@Resource(name=â€ClassNameâ€)ï¼šå®Œæˆå¯¹è±¡å±æ€§çš„æ³¨å…¥ï¼Œç­‰ä»·äºä¸Šé¢è¿ç»­ä¸¤ä¸ª(å¼€å‘ä¸­å¸¸ç”¨) Beançš„å…¶ä»–æ³¨è§£ Codepackage demo2;import javax.annotation.PostConstruct;import javax.annotation.PreDestroy;import org.springframework.context.annotation.Scope;import org.springframework.stereotype.Component;@Component(value=&quot;custom&quot;)//&lt;bean id=&quot;custom&quot; class=&quot;demo2&quot; init-method=&quot;init&quot; destory-method=&quot;destory&quot;&gt;&lt;/bean&gt;@Scope(&quot;prototype&quot;)public class custom &#123; @PostConstruct//åˆå§‹åŒ–æ³¨è§£ï¼Œç›¸å½“äºnit-method=&quot;init&quot; public void init()&#123; System.out.println(&quot;åˆå§‹åŒ–æ–¹æ³•æ‰§è¡Œäº†&quot;); &#125; public void save()&#123; System.out.println(&quot;saveæ–¹æ³•æ‰§è¡Œäº†&quot;); &#125; @PreDestroy//destoryæ³¨è§£ï¼Œç›¸å½“äºdestory-method=&quot;destory&quot; public void destory()&#123; System.out.println(&quot;destoryæ–¹æ³•æ‰§è¡Œäº†&quot;); &#125;&#125; è¯´æ˜ï¼š ç”Ÿå‘½å‘¨æœŸç›¸å…³çš„æ³¨è§£Code&lt;bean id=&quot;custom&quot; class=&quot;demo2&quot; init-method=&quot;init&quot; destory-method=&quot;destory&quot;&gt;&lt;/bean&gt; @PostConstructï¼šåˆå§‹åŒ–æ–¹æ³•@PreDestoryï¼šé”€æ¯æ–¹æ³• Beançš„ä½œç”¨èŒƒå›´æ³¨è§£(é‡è¦)@Scope( â€œ â€) ï¼šä½œç”¨èŒƒå›´ Prototype : å¤šä¾‹ Request : Session: Globalsession:æµ‹è¯•æ¡ˆä¾‹ï¼š Codepackage demo2;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;public class Test &#123; @org.junit.Test public void test1()&#123; ApplicationContext applicationContext=new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;); custom c = (custom) applicationContext.getBean(&quot;custom&quot;); System.out.println(c); custom c2 = (custom) applicationContext.getBean(&quot;custom&quot;); System.out.println(c2); &#125;&#125; è¾“å‡ºç»“æœï¼š Codeåˆå§‹åŒ–æ–¹æ³•æ‰§è¡Œäº†demo2.custom@1d9d4båˆå§‹åŒ–æ–¹æ³•æ‰§è¡Œäº†demo2.custom@1227d8d è¯´æ˜ï¼šç”±äºä½¿ç”¨äº†@Scope(â€œprototypeâ€)ï¼Œå¤šä¾‹æ¨¡å¼åˆå§‹åŒ–äº†ä¸¤æ¬¡ï¼Œå¾—åˆ°ä¸¤ä¸ªä¸åŒçš„idï¼› 3 . ä¸¤ç§æ–¹å¼çš„æ¯”è¾ƒ é€‚ç”¨åœºæ™¯ XMLï¼šå¯ä»¥ä½¿ç”¨ä»»ä½•åœºæ™¯ ç»“æ„æ¸…æ™°ï¼Œç»´æŠ¤æ–¹ä¾¿ æ³¨è§£ï¼šå¿…é¡»ä¿®æ”¹æºä»£ç ï¼ˆå¦‚æœä½ æ— æ³•ä¿®æ”¹æºä»£ç ï¼Œåªèƒ½ç”¨XMLï¼‰ å¼€å‘æ–¹ä¾¿ï¼Œé€Ÿåº¦å¿« 4 . XMLä¸æ³¨è§£çš„æ•´åˆå¼€å‘æ€è·¯ï¼šç”¨XMLç”¨æ¥ç®¡ç†ç±»çš„æ³¨å…¥ï¼Œç”¨æ³¨è§£å®Œæˆå±æ€§çš„æ³¨å…¥ã€‚æµ‹è¯•æ¡ˆä¾‹ï¼šCodepackage Demo3;import org.springframework.stereotype.Component;//@Component(&quot;order&quot;)public class order &#123; public void play() &#123; System.out.println(&quot;ç”Ÿäº§äº§å“&quot;); &#125;&#125; Codepackage Demo3;import javax.annotation.Resource;import org.springframework.stereotype.Component;//@Component(&quot;orderService&quot;)//ç›¸å½“äº&lt;bean id=&quot;orderService&quot; class=&quot;Demo3.orderService&quot;&gt;&lt;/bean&gt;public class orderService &#123; @Resource(name=&quot;order&quot;)//è¿™ä¸ªnameå°±æ˜¯é…ç½®æ–‡ä»¶(applicationContext.xml)é‡Œé¢çš„æˆ–è€… //å¦‚æœæ˜¯ç”¨çš„ç±»ä¸Šæ³¨è§£ç­‰åŒäº@Component(value=â€id/nameâ€)ä¸­çš„id private order od; public orderService() &#123; System.out.println(&quot;æ— å‚æ„é€ æ–¹æ³•è¢«è°ƒç”¨...&quot;); // TODO Auto-generated constructor stub &#125; public void t()&#123; od.play(); &#125;&#125; Codepackage Demo3;import javax.annotation.Resource;import org.junit.runner.RunWith;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration(&quot;classpath:applicationContext.xml&quot;)public class Test &#123; @Resource(name=&quot;orderService&quot;) private orderService se; @org.junit.Test public void test1()&#123; se.t(); &#125;&#125; é…ç½®æ–‡ä»¶Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xsi:schemaLocation=&quot; http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt; &lt;!--=====æ‰«ææ˜¯ä¸ºäº†æ‰«æç±»ä¸Šçš„æ³¨è§£ ============--&gt; &lt;!-- context:component-scan base-package=&quot;demo1,demo2&quot;&gt;&lt;/context:component-scan--&gt; &lt;context:annotation-config/&gt; &lt;!-- =======åœ¨æ²¡æœ‰æ‰«æçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ³¨è§£ @Resource @valueã€@Autowiredã€@Qulifier --&gt; &lt;bean id=&quot;peopleImp&quot; class=&quot;Demo1.peopleImp&quot;&gt;&lt;/bean&gt; &lt;bean id=&quot;order&quot; class=&quot;Demo3.order&quot;&gt;&lt;/bean&gt; &lt;bean id=&quot;orderService&quot; class=&quot;Demo3.orderService&quot;&gt;&lt;/bean&gt;&lt;/beans&gt;","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"æ¡†æ¶å­¦ä¹ ","slug":"æ¡†æ¶å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/æ¡†æ¶å­¦ä¹ /"}]},{"title":"Servletæ³¨è§£å¼€å‘","slug":"javaåŸºç¡€/Servletæ³¨è§£","date":"2019-02-22T16:00:00.000Z","updated":"2019-02-23T07:56:01.625Z","comments":true,"path":"2019/02/23/javaåŸºç¡€/Servletæ³¨è§£/","link":"","permalink":"http://SlectRxz.github.io/2019/02/23/javaåŸºç¡€/Servletæ³¨è§£/","excerpt":"Servlet 3.0æ”¯æŒæ³¨è§£å¼€å‘ï¼ŒåŒ…æ‹¬@WebServlet,@WebFilter","text":"Servlet 3.0æ”¯æŒæ³¨è§£å¼€å‘ï¼ŒåŒ…æ‹¬@WebServlet,@WebFilter åœ¨Servlet3.0ä¸­æ–°å¢æ³¨è§£çš„åŠŸèƒ½ï¼Œé™ä½äº†é…ç½®XMLæ‰€èŠ±è´¹çš„æ—¶é—´ä¸ç²¾åŠ›ã€‚æ³¨æ„ï¼šTmocat7.0ä»¥ä¸Šæ”¯æŒ ä¸€ã€@WebServletæ³¨è§£ ä½œç”¨ï¼šç”¨æ¥é…ç½®Servletï¼Œå…¶å°†ä¼šåœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶è¢«tomcatå®¹å™¨å¤„ç†ï¼Œå®¹å™¨å°†æ ¹æ®å…·ä½“çš„å±æ€§é…ç½®å°†ç›¸åº”çš„ç±»éƒ¨ç½²ä¸º Servletï¼Œä¸ªäººæ„Ÿè§‰å°±æ˜¯æ›¿ä»£äº†ä¼ ç»Ÿçš„åœ¨web.xmlä¸­çš„é…ç½®ã€‚ å‚æ•°è¯´æ˜ å±æ€§å ç±»å‹ å±æ€§æè¿° name String æŒ‡å®šServletçš„nameå±æ€§ï¼Œç›¸å½“äº value String[] ç­‰ä»·äºurlPatterns,äºŒè€…ä¸èƒ½å…±å­˜. urlpatterns String[] æŒ‡å®šä¸€ç»„servletçš„urlçš„åŒ¹é…æ¨¡å¼,ç­‰ä»·äºæ ‡ç­¾. loadOnStartup int æŒ‡å®šservletçš„åŠ è½½é¡ºåº,ç­‰ä»·äºæ ‡ç­¾. initParams WebInitParam[] æŒ‡å®šä¸€ç»„åˆå§‹åŒ–å‚æ•°,ç­‰ä»·äºæ ‡ç­¾. asyncSupported boolean ç”³æ˜servletæ˜¯å¦æ”¯æŒå¼‚æ­¥æ“ä½œæ¨¡å¼,ç­‰ä»·äºæ ‡ç­¾. displayName String servletçš„æ˜¾ç¤ºå,ç­‰ä»·äºæ ‡ç­¾. description String servletçš„æè¿°ä¿¡æ¯,ç­‰ä»·äºæ ‡ç­¾. ä¸ä¼ ç»ŸServletç›¸æ¯”æ³¨è§£å®ç° Codepackage annotate;import java.io.IOException;import javax.servlet.ServletException;import javax.servlet.annotation.WebServlet;import javax.servlet.http.HttpServlet;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;@WebServlet(name=&quot;test2&quot;, value=&quot;/test2&quot; )public class test2 extends HttpServlet &#123; public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; response.setCharacterEncoding(&quot;utf-8&quot;); request.setCharacterEncoding(&quot;utf-8&quot;); response.setContentType(&quot;text/html;charset=utf-8&quot;); response.getWriter().write(&quot;é¡µé¢æ‰§è¡Œäº†ã€‚ã€‚ã€‚&quot;); &#125; public void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123; doGet(request, response); &#125;&#125; ä¼ ç»Ÿçš„Servletçš„é…ç½®éœ€è¦åœ¨Web.xmlä¸­æ·»åŠ Servletçš„æ˜ å°„ Code&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; version=&quot;3.0&quot;&gt; &lt;servlet&gt; &lt;description&gt;This is the description of my J2EE component&lt;/description&gt; &lt;display-name&gt;This is the display name of my J2EE component&lt;/display-name&gt; &lt;servlet-name&gt;test1&lt;/servlet-name&gt; &lt;servlet-class&gt;annotate.test1&lt;/servlet-class&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;test1&lt;/servlet-name&gt; &lt;url-pattern&gt;/test1&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; äºŒã€@WebFilter ç”¨æ¥é…ç½®è¿‡æ»¤å™¨","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"æ³¨è§£å¼€å‘","slug":"æ³¨è§£å¼€å‘","permalink":"http://SlectRxz.github.io/tags/æ³¨è§£å¼€å‘/"}]},{"title":"MVC+ä¸‰å±‚æ¶æ„å¼€å‘æ¨¡å¼","slug":"java/MVCå¼€å‘æ¨¡å¼","date":"2019-01-16T16:00:00.000Z","updated":"2019-03-06T11:49:33.666Z","comments":true,"path":"2019/01/17/java/MVCå¼€å‘æ¨¡å¼/","link":"","permalink":"http://SlectRxz.github.io/2019/01/17/java/MVCå¼€å‘æ¨¡å¼/","excerpt":"Webå¼€å‘æ¨¡å¼","text":"Webå¼€å‘æ¨¡å¼ MVC Model:javabean:å°è£…ä¸šåŠ¡æ•°æ®ï¼Œæ¨¡å‹ Viewï¼šjspï¼šæ˜¾ç¤ºæ•°æ®ï¼Œè§†å›¾ Controller:servlet:è°ƒåº¦jspå’Œjavabeanèµ„æºï¼Œæ§åˆ¶å™¨ ä¸‰å±‚ç»“æ„ï¼š daoå±‚ï¼š å’Œæ•°æ®è®¿é—®ç›¸å…³çš„æ“ä½œ serviceå±‚ï¼š å’Œä¸šåŠ¡é€»è¾‘ç›¸å…³çš„æ“ä½œ webå±‚ï¼š å’Œç”¨æˆ·ç›´æ¥äº¤äº’ç›¸å…³çš„æ“ä½œï¼ˆä¼ æ¥å‚æ•°ï¼Œè·³è½¬é¡µé¢ï¼‰ MVC+ä¸‰å±‚æ¶æ„ä¸ªäººç†è§£ï¼š serviceå±‚(ä¸šåŠ¡é€»è¾‘å±‚)ï¼Œæ¯”å¦‚è¯´å½“æˆ‘ä»¬æ·»åŠ ç”¨æˆ·æ—¶éœ€è¦åˆ¤æ–­ç”¨æˆ·çš„idæ˜¯å¦ä¸ºç©ºï¼Œæ­¤æ—¶serviceå±‚è´Ÿè´£åˆ¤æ–­åå†è°ƒç”¨daoå±‚çš„æ–¹æ³•ï¼Œdaoå±‚åªè´Ÿè´£å¯¹æ•°æ®çš„å¢åˆ æŸ¥æ”¹ã€‚ servletè´Ÿè´£è°ƒç”¨ä¸šåŠ¡é€»è¾‘ï¼ˆé¡µé¢çš„è°ƒåº¦ï¼‰ï¼Œè€Œä¸å¤„ç†ä¸šåŠ¡é€»è¾‘ã€‚çœŸæ­£å¤„ç†ä¸šåŠ¡é€»è¾‘çš„æ˜¯serviceå±‚ã€‚ ä»servlet-&gt;jsp (é¡µé¢è·³è½¬è¿‡ç¨‹) Code //è®¾ç½®ç¼–ç æ ¼å¼ response.setContentType(&quot;text/html;charset=utf-8&quot;);request.setCharacterEncoding(&quot;utf-8&quot;);//æ‹¿åˆ°å¯¹è±¡ ï¼Œé€šè¿‡è°ƒç”¨daoä¸­çš„æ–¹æ³•Contact contact=new ContactPerson();List&lt;Person&gt; list = contact.search();////shift+alt+A åŒºå—é€‰æ‹©ï¼ŒæŒ‰ä¸€æ¬¡è¿›å…¥é€‰æ‹©æ¨¡å¼ï¼Œå†æŒ‰ä¸€æ¬¡å›æ¥/** * ctrl+F æ­£åˆ™æ›¿æ¢ ^(.*)$ \\1&quot;; * ^ä¸€è¡Œè¡¨ç¤º * $ç»“æŸè¡¨ç¤º * \\1åŒ¹é…é‡Œé¢çš„ä¸€è¡Œå†…å®¹ æ›¿æ¢ä¸ºè¿™ä¸ª&quot;; *///å°†å¯¹è±¡ä¿å­˜åœ¨åŸŸä¸­request.setAttribute(&quot;contacts&quot;,list);//è·³è½¬åˆ°æ˜¾ç¤ºé¡µé¢request.getRequestDispatcher(&quot;/listContact.jsp&quot;).forward(request, response); ä»jsp-&gt;servletä¸€èˆ¬æˆ‘ä»¬ç”¨${pageContext.request.contextPath }æ¥è·å–å½“å‰è·¯å¾„/QueryContactServlet?id=${con.id}æ˜¯é¡µé¢è·³è½¬çš„åŒæ—¶å°†idä½œä¸ºå‚æ•°ä¼ é€’è¿‡å» Code&lt;!-- ç›´æ¥ç”¨ELè¡¨è¾¾å¼ä»åŸŸå¯¹è±¡ä¸­è·å–æ•°æ®--&gt;&lt;c:forEach items=&quot;$&#123;contacts&#125;&quot; var=&quot;con&quot; varStatus=&quot;varsta&quot;&gt; &lt;tr&gt; &lt;th&gt;$&#123;varsta.count&#125;&lt;/th&gt; &lt;th&gt;$&#123;con.name&#125;&lt;/th&gt; &lt;th&gt;$&#123;con.gender&#125; &lt;/th&gt; &lt;th&gt;$&#123;con.email &#125;&lt;/th&gt; &lt;th&gt;$&#123;con.qq&#125;&lt;/th&gt; &lt;td colspan=&quot;2&quot; align=&quot;center&quot;&gt; &lt;a href=&quot;$&#123;pageContext.request.contextPath &#125;/QueryContactServlet?id=$&#123;con.id&#125;&quot;&gt;ä¿®æ”¹&lt;/a&gt; &lt;a href=&quot;$&#123;pageContext.request.contextPath &#125;/DeleteContactServlet?id=$&#123;con.id&#125;&quot;&gt;åˆ é™¤&lt;/a&gt; //è¯´æ˜ï¼Œæ­¤å¤„çš„pageContext.requestç›¸å½“äºpageContext.getRequest()æ–¹æ³•ï¼Œå…¶åœ¨äºå…ˆå¾—åˆ°requestå¯¹è±¡ï¼Œå†è°ƒç”¨requestçš„æ–¹æ³•ã€‚ &lt;/td&gt; &lt;/tr&gt; &lt;/c:forEach&gt; æ³¨æ„ï¼šæ­¤å¤„è®¾è®¡åˆ°ELè¡¨è¾¾å¼ è¯­æ³•ï¼š${è¡¨è¾¾å¼æˆ–å˜é‡}è¡¨è¾¾å¼/å˜é‡æ˜¯ä»åŸŸå¯¹è±¡ä¸­å¾—åˆ°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆå¾€åŸŸå¯¹è±¡ä¸­å­˜å‚¨è¾“å‡ºå¯¹è±¡çš„æŸä¸ªæˆå‘˜ï¼š${student.name},å…¶ä¸­studentçš„å¯¹è±¡å¿…é¡»æœ‰æ–¹æ³•getName() formè¡¨å•å½¢å¼ï¼šCode&lt;form action=&quot;$&#123;pageContext.request.contextPath &#125;/AddContactServlet&quot; method=&quot;post&quot;&gt; é¡¹ç›®ç»“æ„ï¼šæ³¨æ„ï¼šä¸ç®¡æ˜¯è·å–æ•°æ®è¿˜æ˜¯å‘é€æ•°æ®ï¼Œéƒ½æ˜¯ä»¥å¯¹è±¡ä¸ºåŸºæœ¬å•ä½ï¼Œå³JavaBeanã€‚","categories":[{"name":"Java","slug":"Java","permalink":"http://SlectRxz.github.io/categories/Java/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/å­¦ä¹ /"}]},{"title":"Javaåå°„","slug":"java/åå°„","date":"2019-01-06T16:00:00.000Z","updated":"2019-01-07T07:37:34.823Z","comments":true,"path":"2019/01/07/java/åå°„/","link":"","permalink":"http://SlectRxz.github.io/2019/01/07/java/åå°„/","excerpt":"Javaåå°„æœºåˆ¶","text":"Javaåå°„æœºåˆ¶ Javaåå°„æœºåˆ¶ä¸€ã€ä»€ä¹ˆæ˜¯åå°„æœºåˆ¶ JAVAåå°„æœºåˆ¶æ˜¯åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•å’Œå±æ€§ï¼›è¿™ç§åŠ¨æ€è·å–çš„ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•çš„åŠŸèƒ½ç§°ä¸ºjavaè¯­è¨€çš„åå°„æœºåˆ¶ã€‚ â€œç¨‹åºè¿è¡Œæ—¶ï¼Œå…è®¸æ”¹å˜ç¨‹åºç»“æ„æˆ–å˜é‡ç±»å‹ï¼Œè¿™ç§è¯­è¨€ç§°ä¸ºåŠ¨æ€è¯­è¨€â€ã€‚Javaä¸æ˜¯åŠ¨æ€è¯­è¨€ã€‚ä½†æ˜¯Javaæœ‰ç€ä¸€ä¸ªéå¸¸çªå‡ºçš„åŠ¨æ€ç›¸å…³æœºåˆ¶ï¼šReflectionï¼Œç”¨åœ¨Javaèº«ä¸ŠæŒ‡çš„æ˜¯æˆ‘ä»¬å¯ä»¥äºè¿è¡Œæ—¶åŠ è½½ã€æ¢çŸ¥ã€ä½¿ç”¨ç¼–è¯‘æœŸé—´å®Œå…¨æœªçŸ¥çš„classã€‚ äºŒã€ç†è§£Javaåå°„è¦æƒ³ç†è§£åï¼Œå¿…é¡»å¾—ä»â€œæ­£â€å¼€å§‹ç†è§£ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œå…ˆæœ‰ç±»å†å»å®ä¾‹åŒ–å¯¹è±¡ã€‚Codepackage com.wz.reflectdemo;import java.util.Date;//å…ˆæœ‰ç±»public class ReflectTest &#123; public static void main(String[] args) &#123; Date date = new Date();//å†äº§å¯¹è±¡ System.out.println(date); &#125;&#125; è€Œâ€œåâ€å°±æ˜¯é€šè¿‡å¯¹è±¡æ‰¾åˆ°ç±»ã€‚åœ¨Objectç±»ä¸­æä¾›ä¸€ä¸ªæ–¹æ³•å¾—åˆ°classå¯¹è±¡ã€‚Codepublic final Class &lt;?&gt;getClass() æ³¨ï¼šåå°„ä¹‹ä¸­çš„æ‰€æœ‰æ³›å‹éƒ½å®šä¹‰ä¸ºï¼Ÿï¼Œè¿”å›å€¼ä¸ºObject ä¸‰ã€Classç±»å¯¹è±¡çš„å®ä¾‹åŒ–java.lang.Classæ˜¯ä¸€ä¸ªç±»ï¼Œå®ƒä¸ä¸€èˆ¬ç±»ä¸€æ ·ç»§æ‰¿Objectã€‚è¿™ä¸ªç±»æ˜¯åå°„æ“ä½œçš„æºå¤´ï¼Œå³æ‰€æœ‰çš„åå°„éƒ½ä»æ­¤ç±»å¼€å§‹è¿›è¡Œï¼Œä¸‹é¢ä»‹ç»è·å–çš„ä¸‰ç§æ–¹å¼ã€‚ æ–¹å¼ä¸€ï¼šè°ƒç”¨Objectçš„getClass()æ–¹æ³•Codepackage com.wz.reflectdemo;import java.util.Date;public class ReflectTest &#123; public static void main(String[] args) &#123; Date date = new Date(); Class&lt;?&gt; cls = date.getClass(); System.out.println(cls); &#125;&#125; è¿è¡Œç»“æœï¼šCodeclass java.until.Date è¯´æ˜ï¼šè¿™ç§æ–¹å¼ç›¸å½“äºé€šè¿‡å®ä¾‹å¯¹è±¡åå‘å¾—åˆ°Classå¯¹è±¡ã€‚ æ–¹å¼äºŒã€ä½¿ç”¨â€œç±».classâ€è·å¾—Codepackage com.wz.reflectdemo;import java.util.Date;public class ReflectTest &#123; public static void main(String[] args) &#123; //Date date = new Date(); Class&lt;?&gt; cls = Date.class; System.out.println(cls); &#125;&#125; è¿è¡Œç»“æœï¼šCodeclass java.until.Date è¯´æ˜ï¼šæ–¹æ³•ä¸€ä¸­å–å¾—Classå¯¹è±¡ä¹‹å‰éœ€è¦å®ä¾‹åŒ–ï¼Œä½†æ˜¯ç›´æ¥é€šè¿‡ç±»å.Classæ²¡æœ‰å®ä¾‹åŒ–ã€‚ æ–¹æ³•ä¸‰ã€forName(String className) æ³¨æ„ï¼šæ³¨æ„æ­¤å­—ç¬¦ä¸²å¿…é¡»æ˜¯çœŸå®è·¯å¾„ï¼Œå°±æ˜¯å¸¦åŒ…åçš„ç±»è·¯å¾„ï¼ŒåŒ…å.ç±»åCodepublic static Class&lt;?&gt;forName(String className) throws ClassNotFoundException ä»£ç å¦‚ä¸‹ï¼šCodepackage com.wz.reflectdemo;//import java.util.Date;public class ReflectTest &#123; public static void main(String[] args) throws Exception &#123; Class&lt;?&gt; cls = Class.forName(&quot;java.util.Date&quot;);//æ³¨æ„æ­¤å­—ç¬¦ä¸²å¿…é¡»æ˜¯çœŸå®è·¯å¾„ï¼Œå°±æ˜¯å¸¦åŒ…åçš„ç±»è·¯å¾„ï¼ŒåŒ…å.ç±»å System.out.println(cls); &#125;&#125; è¿è¡Œç»“æœï¼šCodeclass java.until.Date æ³¨æ„ï¼šä¸‰ç§æ–¹å¼å¸¸ç”¨ç¬¬ä¸‰ç§ï¼Œç¬¬ä¸€ç§å¯¹è±¡éƒ½æœ‰äº†è¿˜è¦åå°„å¹²ä»€ä¹ˆã€‚ç¬¬äºŒç§éœ€è¦å¯¼å…¥ç±»çš„åŒ…ï¼Œä¾èµ–å¤ªå¼ºï¼Œä¸å¯¼åŒ…å°±æŠ›ç¼–è¯‘é”™è¯¯ã€‚ä¸€èˆ¬éƒ½ç¬¬ä¸‰ç§ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²å¯ä»¥ä¼ å…¥ä¹Ÿå¯å†™åœ¨é…ç½®æ–‡ä»¶ä¸­ç­‰å¤šç§æ–¹æ³•ã€‚ å››ã€åå°„å®ä¾‹åŒ–å¯¹è±¡é€šè¿‡å‰é¢çš„æ­¥éª¤å¾—åˆ°äº†Classå¯¹è±¡ï¼Œæ¥ä¸‹æ¥åˆ©ç”¨åå°„å®ä¾‹åŒ–å¾—åˆ°å¯¹è±¡ï¼Œå¾—åˆ°æ–¹æ³•å’Œå±æ€§ã€‚ 1ã€è·å–å®ä¾‹å¯¹è±¡Codepublic T newInstance() throws InstantiationException,IllegalAccessException eg:Codepackage com.wz.reflectdemo;class Book&#123; public Book()&#123; System.out.println(&quot;Bookç±»çš„æ— å‚æ„é€ æ–¹æ³•&quot;); &#125; @Override public String toString() &#123; return &quot;This a book !&quot;; &#125;&#125;public class TestDemo &#123; public static void main(String[] args) throws Exception &#123; Class&lt;?&gt; cls = Class.forName(&quot;com.wz.reflectdemo.Book&quot;); Object obj = cls.newInstance();//ç›¸å½“äºä½¿ç”¨newè°ƒç”¨æ— å‚æ„é€ å®ä¾‹åŒ–å¯¹è±¡ Book book = (Book)obj; System.out.println(book); &#125;&#125; è¿è¡Œç»“æœï¼šCodeBookç±»çš„æ— å‚æ„é€ æ–¹æ³•This a book ! æ³¨æ„ï¼šnewInstance()åªèƒ½è°ƒç”¨é»˜è®¤æ— å‚æ„é€ æ–¹æ³•ã€‚å½“æˆ‘ä»¬æ‰€å®ä¾‹åŒ–çš„ç±»ä¸­æ²¡æœ‰æä¾›æ— å‚çš„æ„é€ æ–¹æ³•æ—¶ï¼Œä¼šæŠ¥é”™ã€‚æ­¤æ—¶æˆ‘ä»¬éœ€è¦è·å–æœ‰å‚çš„æ„é€ æ–¹æ³•ã€‚ åœ¨Classç±»ä¸­ï¼Œæä¾›äº†æ–¹æ³•æ¥è·å–æ„é€ å‡½æ•°ï¼šï¼ˆ1ï¼‰è·å–æ‰€æœ‰çš„æ„é€ å‡½æ•°ï¼šCodepublic Constructor&lt;?&gt;[] getConstructors() throws SecurityException ï¼ˆ2ï¼‰è·å–æŒ‡å®šå‚æ•°é¡ºåºçš„æ„é€ å‡½æ•°ï¼šCodepublic Constructor&lt;T&gt; getConstructor(Class&lt;?&gt;... parameterTypes) throws NoSuchMethodException, SecurityExceptio è¯´æ˜ï¼šä»¥ä¸Šä¸¤ä¸ªç±»éƒ½è¿”å›â€œjava.lang.reflect.Constructorâ€ç±»çš„å¯¹è±¡ã€‚è¯¥ç±»ä¸­æä¾›æ˜ç¡®ä¼ é€’æœ‰å‚æ„é€ çš„æ–¹æ³•ï¼šCodepublic T newInstance(Object... initargs) throws InstantiationException, IllegalAccessException,IllegalArgumentException, InvocationTargetException å®ä¾‹ï¼šCodepackage com.wz.reflectdemo;import java.lang.reflect.Constructor;public class ReflectTest &#123; public static void main(String[] args) throws Exception &#123; Class&lt;?&gt; cls = Class.forName(&quot;com.wz.reflectdemo.Book&quot;); /*Object obj = cls.newInstance();//ç›¸å½“äºä½¿ç”¨newè°ƒç”¨æ— å‚æ„é€ å®ä¾‹åŒ–å¯¹è±¡ Book book = (Book)obj; System.out.println(book);*/ Constructor&lt;?&gt; con = cls.getConstructor(String.class,double.class); Object obj = con.newInstance(&quot;Javaå¼€å‘&quot;,79.8);//å®ä¾‹åŒ–å¯¹è±¡ System.out.println(obj); &#125;&#125; æ‰§è¡Œç»“æœï¼šCodeå›¾ä¹¦åç§°ï¼šJavaå¼€å‘ ,ä»·æ ¼ï¼š79.8 2ã€è°ƒç”¨æ–¹æ³•å’Œå±æ€§åœ¨Classç±»ä¸­è·å–æ–¹æ³•æœ‰ä»¥ä¸‹æ–¹å¼ï¼š ï¼ˆ1ï¼‰å–å¾—ä¸€ä¸ªç±»ä¸­çš„å…¨éƒ¨æ–¹æ³•Codepublic Method[] getMethods() throws SecurityException ï¼ˆ2ï¼‰å¾—åˆ°æŒ‡å®šæ–¹æ³•Codepublic Method getMethod(String name, Class&lt;?&gt;... parameterTypes) throwsNoSuchMethodException, SecurityException ä»¥ä¸Šæ–¹æ³•è¿”å›éƒ½æ˜¯â€œjava.lang.reflect.Methodâ€å¯¹è±¡ï¼Œåœ¨è¿™ä¸ªç±»ä¸­æœ‰ä¸€ä¸ªè°ƒç”¨æ–¹æ³•ï¼šCodepublic Object invoke(Object obj, Object... args) throws IllegalAccessException,IllegalArgumentException, InvocationTargetException eg:Codepackage com.wz.reflectdemo;import java.lang.reflect.Constructor;import java.lang.reflect.Method;public class ReflectTest &#123; public static void main(String[] args) throws Exception &#123; Class&lt;?&gt; cls = Class.forName(&quot;com.wz.reflectdemo.Book&quot;); Object obj = cls.newInstance(); Method setMet = cls.getMethod(&quot;setTitle&quot;, String.class); setMet.invoke(obj, &quot;Javaå¼€å‘&quot;);//ç­‰ä»·äºBookç±»çš„setTitle(&quot;Javaå¼€å‘&quot;) Method getMet = cls.getMethod(&quot;getTitle&quot;); System.out.println(getMet.invoke(obj));//ç­‰ä»·äºBookç±»çš„getTitle() &#125;&#125; è¾“å‡ºç»“æœï¼šCodejava å¼€å‘","categories":[{"name":"Java","slug":"Java","permalink":"http://SlectRxz.github.io/categories/Java/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/å­¦ä¹ /"}]},{"title":"Javaæ³¨è§£","slug":"java/æ³¨è§£","date":"2019-01-04T16:00:00.000Z","updated":"2019-03-08T02:18:48.571Z","comments":true,"path":"2019/01/05/java/æ³¨è§£/","link":"","permalink":"http://SlectRxz.github.io/2019/01/05/java/æ³¨è§£/","excerpt":"æœ‰å…³javaæ³¨è§£","text":"æœ‰å…³javaæ³¨è§£ Javaæ³¨è§£ å‡ºå¤„ï¼šhttps://blog.csdn.net/briblue/article/details/73824058 æ³¨è§£çš„å®šä¹‰ï¼š å®˜æ–¹å®šä¹‰ï¼šJava æ³¨è§£ç”¨äºä¸º Java ä»£ç æä¾›å…ƒæ•°æ®ã€‚ä½œä¸ºå…ƒæ•°æ®ï¼Œæ³¨è§£ä¸ç›´æ¥å½±å“ä½ çš„ä»£ç æ‰§è¡Œï¼Œä½†ä¹Ÿæœ‰ä¸€äº›ç±»å‹çš„æ³¨è§£å®é™…ä¸Šå¯ä»¥ç”¨äºè¿™ä¸€ç›®çš„ã€‚Java æ³¨è§£æ˜¯ä» Java5 å¼€å§‹æ·»åŠ åˆ° Java çš„ ï¼ˆçœ‹ä¸æ‡‚ï¼‰ æ³¨æ„ï¼š=æ³¨è§£è¦æ±‚ï¼šåœ¨å¼€å‘ä¸­åœ°ä½ï¼Œç±»ä¼¼äºdom4jè§£æXMLæ–‡ä»¶ï¼ŒXMLæ–‡ä»¶çš„è§£æç¨‹åºå‘˜ä¸ä¼šå»è§£æï¼Œé…ç½®XMLæ–‡ä»¶ã€‚ å®¹æ˜“ç†è§£çš„ï¼š æ³¨è§£å°±æ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼Œæ ‡ç­¾ä¸Šæœ‰ç€å„ç§å„æ ·çš„å«ä¹‰ï¼Œä¸åŒçš„æ ‡ç­¾å¯ä»¥è´´åœ¨ä¸åŒçš„ä»£ç ä¸Š è‡ªå®šä¹‰æ³¨è§£æ ¼å¼ï¼š æ³¨è§£é€šè¿‡ @interface å…³é”®å­—è¿›è¡Œå®šä¹‰ã€‚ CodePublic @interface TestAnnotation&#123;&#125;@TestAnnotationPublic void Test()&#123;&#125; åˆ›å»ºä¸€ä¸ªç±» Test,ç„¶ååœ¨ç±»å®šä¹‰çš„åœ°æ–¹åŠ ä¸Š @TestAnnotation å°±å¯ä»¥ç”¨ TestAnnotation æ³¨è§£è¿™ä¸ªç±»äº†ã€‚ä½ å¯ä»¥ç®€å•ç†è§£ä¸ºå°† TestAnnotation è¿™å¼ æ ‡ç­¾è´´åˆ° Test è¿™ä¸ªç±»ä¸Šé¢ã€‚ä¸è¿‡ï¼Œè¦æƒ³æ³¨è§£èƒ½å¤Ÿæ­£å¸¸å·¥ä½œï¼Œè¿˜éœ€è¦ä»‹ç»ä¸€ä¸‹ä¸€ä¸ªæ–°çš„æ¦‚å¿µé‚£å°±æ˜¯å…ƒæ³¨è§£ã€‚ å…ƒæ³¨è§£å…ƒæ³¨è§£æ˜¯å¯ä»¥æ³¨è§£åˆ°æ³¨è§£ä¸Šçš„æ³¨è§£ï¼Œå®ƒçš„ç›®çš„æ˜¯ç»™æ™®é€šçš„æ³¨è§£è¿›è¡Œè¯´æ˜çš„ï¼Œè¯´æ˜æŸä¸€æ³¨è§£çš„å­˜æ´»æœŸã€èŒƒå›´ç­‰ç­‰ã€‚ æ ¼å¼: public @interface æ³¨è§£åç§°{ public å±æ€§ç±»å‹ å±æ€§åç§°1(); public å±æ€§ç±»å‹ å±æ€§åç§°2() default é»˜è®¤å€¼; }æ”¯æŒç±»å‹ï¼šåŸºç¡€ç±»å‹ï¼ŒStringï¼Œannotationï¼Œæšä¸¾ç±»å‹ï¼Œå­—èŠ‚ç classç±»å‹æ³¨æ„ï¼šä¸æ”¯æŒè‡ªå®šä¹‰ç±»å‹å…ƒæ ‡ç­¾æœ‰@Retentionã€@Documentedã€@Targetã€@Inheritedã€@Repeatable @RetentionRetentionçš„è‹±æ–‡ä¸ºä¿ç•™æœŸçš„æ„æ€ï¼Œå½“å…¶åº”ç”¨åˆ°æŸä¸€ä¸ªæ³¨è§£ä¸Šæ—¶ï¼Œè¡¨è¾¾äº†è¿™ä¸ªæ³¨è§£çš„å­˜æ´»æ—¶é—´å®ƒçš„å–å€¼å¦‚ä¸‹ï¼š RetentionPolicy.SOURCE æ³¨è§£åªåœ¨æºç é˜¶æ®µä¿ç•™ï¼Œåœ¨ç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘æ—¶å®ƒå°†è¢«ä¸¢å¼ƒå¿½è§†ã€‚ RetentionPolicy.CLASS æ³¨è§£åªè¢«ä¿ç•™åˆ°ç¼–è¯‘è¿›è¡Œçš„æ—¶å€™ï¼Œå®ƒå¹¶ä¸ä¼šè¢«åŠ è½½åˆ° JVM ä¸­ã€‚ RetentionPolicy.RUNTIME æ³¨è§£å¯ä»¥ä¿ç•™åˆ°ç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œå®ƒä¼šè¢«åŠ è½½è¿›å…¥åˆ° JVM ä¸­ï¼Œæ‰€ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶å¯ä»¥è·å–åˆ°å®ƒä»¬ã€‚ å¯ä»¥ç†è§£ä¸ºå½“ä½¿ç”¨@Retentionè§£é‡Šæ ‡ç­¾æ—¶ï¼ŒæŒ‡å®šäº†è¯¥æ ‡ç­¾çš„ç”Ÿå‘½å‘¨æœŸã€‚Code@Retention(Retention.RUNTIME)public @interface TestAnnotation&#123;&#125; ä¸Šé¢çš„ä»£ç æŒ‡å®šäº†æ ‡ç­¾TestAnotationå¯åœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™è·å–åˆ°ã€‚ @Documentedä½œç”¨ï¼šå°†æ³¨è§£çš„å…ƒç´ åŒ…å«åˆ°JavaDocå½“ä¸­ã€‚ @Targetä½œç”¨ï¼šæŒ‡å®šäº†æ³¨è§£è¿ç”¨åœ¨ä½•å¤„ã€‚å¯ä»¥ç†è§£ä¸ºå½“è¢«@Targetæ³¨è§£ï¼Œå°±è¢«é™å®šäº†åº”ç”¨åœºæ™¯ã€‚ç±»æ¯”æ ‡ç­¾ï¼ŒåŸæœ¬æ ‡ç­¾å¯ä»¥è´´åˆ°ä»»ä½•åœ°æ–¹ï¼Œå½“æˆ‘é™åˆ¶åï¼Œåªèƒ½è´´åˆ°æŒ‡å®šçš„åœ°æ–¹ã€‚@Targetæœ‰ä¸‹é¢çš„å–å€¼ï¼š ElementType.ANNOTATION_TYPE å¯ä»¥ç»™ä¸€ä¸ªæ³¨è§£è¿›è¡Œæ³¨è§£ ElementType.CONSTRUCTOR å¯ä»¥ç»™æ„é€ æ–¹æ³•è¿›è¡Œæ³¨è§£ ElementType.FIELD å¯ä»¥ç»™å±æ€§è¿›è¡Œæ³¨è§£ ElementType.LOCAL_VARIABLE å¯ä»¥ç»™å±€éƒ¨å˜é‡è¿›è¡Œæ³¨è§£ ElementType.METHOD å¯ä»¥ç»™æ–¹æ³•è¿›è¡Œæ³¨è§£ ElementType.PACKAGE å¯ä»¥ç»™ä¸€ä¸ªåŒ…è¿›è¡Œæ³¨è§£ ElementType.PARAMETER å¯ä»¥ç»™ä¸€ä¸ªæ–¹æ³•å†…çš„å‚æ•°è¿›è¡Œæ³¨è§£ ElementType.TYPE å¯ä»¥ç»™ä¸€ä¸ªç±»å‹è¿›è¡Œæ³¨è§£ï¼Œæ¯”å¦‚ç±»ã€æ¥å£ã€æšä¸¾ @InheritedInherited æ˜¯ç»§æ‰¿çš„æ„æ€ï¼Œä½†æ˜¯å®ƒå¹¶ä¸æ˜¯è¯´æ³¨è§£æœ¬èº«å¯ä»¥ç»§æ‰¿ï¼Œè€Œæ˜¯è¯´å¦‚æœä¸€ä¸ªè¶…ç±»è¢« @Inherited æ³¨è§£è¿‡çš„æ³¨è§£è¿›è¡Œæ³¨è§£çš„è¯ï¼Œé‚£ä¹ˆå¦‚æœå®ƒçš„å­ç±»æ²¡æœ‰è¢«ä»»ä½•æ³¨è§£åº”ç”¨çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå­ç±»å°±ç»§æ‰¿äº†è¶…ç±»çš„æ³¨è§£ã€‚è¯´çš„æ¯”è¾ƒæŠ½è±¡ã€‚ä»£ç æ¥è§£é‡Šã€‚Code@Inherited@Retention(RetentionPolicy.RUNTIME)@interface Test &#123;&#125;@Testpublic class A &#123;&#125;public class B extends A &#123;&#125; æ³¨è§£ Test è¢« @Inherited ä¿®é¥°ï¼Œä¹‹åç±» A è¢« Test æ³¨è§£ï¼Œç±» B ç»§æ‰¿ A,ç±» B ä¹Ÿæ‹¥æœ‰ Test è¿™ä¸ªæ³¨è§£ã€‚è¿™æ ·å¼•ç”¨ç½‘ä¸Šçš„ä¾‹å­ç†è§£ï¼š è€å­éå¸¸æœ‰é’±ï¼Œæ‰€ä»¥äººä»¬ç»™ä»–è´´äº†ä¸€å¼ æ ‡ç­¾å«åšå¯Œè±ªã€‚è€å­çš„å„¿å­é•¿å¤§åï¼Œåªè¦æ²¡æœ‰å’Œè€å­æ–­ç»çˆ¶å­å…³ç³»ï¼Œè™½ç„¶åˆ«äººæ²¡æœ‰ç»™ä»–è´´æ ‡ç­¾ï¼Œä½†æ˜¯ä»–è‡ªç„¶ä¹Ÿæ˜¯å¯Œè±ªã€‚è€å­çš„å­™å­é•¿å¤§äº†ï¼Œè‡ªç„¶ä¹Ÿæ˜¯å¯Œè±ªã€‚è¿™å°±æ˜¯äººä»¬å£ä¸­æˆç§°çš„å¯Œä¸€ä»£ï¼Œå¯ŒäºŒä»£ï¼Œå¯Œä¸‰ä»£ã€‚è™½ç„¶å«æ³•ä¸åŒï¼Œå¥½åƒå¥½å¤šä¸ªæ ‡ç­¾ï¼Œä½†å…¶å®äº‹æƒ…çš„æœ¬è´¨ä¹Ÿå°±æ˜¯ä»–ä»¬æœ‰ä¸€å¼ å…±åŒçš„æ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯è€å­èº«ä¸Šçš„é‚£å¼ å¯Œè±ªçš„æ ‡ç­¾ã€‚ @RepeatableRepeatable è‡ªç„¶æ˜¯å¯é‡å¤çš„æ„æ€ã€‚@Repeatable æ˜¯ Java 1.8 æ‰åŠ è¿›æ¥çš„ï¼Œæ‰€ä»¥ç®—æ˜¯ä¸€ä¸ªæ–°çš„ç‰¹æ€§ã€‚ä»€ä¹ˆæ ·çš„æ³¨è§£ä¼šå¤šæ¬¡åº”ç”¨å‘¢ï¼Ÿé€šå¸¸æ˜¯æ³¨è§£çš„å€¼å¯ä»¥åŒæ—¶å–å¤šä¸ªã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¸€ä¸ªäººä»–æ—¢æ˜¯ç¨‹åºå‘˜åˆæ˜¯äº§å“ç»ç†(æ³¨ï¼šå¥½çš„äº§å“ç»ç†ä¸€èˆ¬éƒ½æ˜¯æ‡‚æŠ€æœ¯çš„ï¼Œæ›´å®¹æ˜“æ²Ÿé€š)ã€‚Code@interface Persons&#123; Person[] value();&#125;@Repeatable(Persons.class)@interface Person&#123; String role default &quot;&quot;;&#125;@Person(role=&quot;coder&quot;)@person(role=&quot;PM&quot;)public class CM&#123;&#125; æ³¨æ„ä¸Šé¢çš„ä»£ç ï¼ŒRepeatableæ³¨è§£äº†Personï¼Œè€Œ@Repeatableåé¢æ‹¬å·é‡Œçš„ç±»ç›¸å½“äºä¸€ä¸ªå®¹å™¨æ³¨è§£ å®¹å™¨æ³¨è§£å°±æ˜¯ç”¨æ¥å­˜æ”¾å…¶ä»–æ³¨è§£çš„åœ°æ–¹ï¼Œæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªæ³¨è§£Code@interface Persons&#123; Person[] value();&#125; æŒ‰ç…§è§„å®šï¼Œå®ƒé‡Œé¢å¿…é¡»è¦æœ‰ä¸€ä¸ª value çš„å±æ€§ï¼Œå±æ€§ç±»å‹æ˜¯ä¸€ä¸ªè¢« @Repeatable æ³¨è§£è¿‡çš„æ³¨è§£æ•°ç»„ï¼Œæ³¨æ„å®ƒæ˜¯æ•°ç»„ã€‚å¦‚æœä¸å¥½ç†è§£çš„è¯ï¼Œå¯ä»¥è¿™æ ·ç†è§£ã€‚Persons æ˜¯ä¸€å¼ æ€»çš„æ ‡ç­¾ï¼Œä¸Šé¢è´´æ»¡äº† Person è¿™ç§åŒç±»å‹ä½†å†…å®¹ä¸ä¸€æ ·çš„æ ‡ç­¾ã€‚æŠŠ Persons ç»™ä¸€ä¸ª CM è´´ä¸Šï¼Œç›¸å½“äºåŒæ—¶ç»™ä»–è´´äº†ç¨‹åºå‘˜ã€äº§å“ç»ç†çš„æ ‡ç­¾ã€‚æˆ‘ä»¬å¯èƒ½å¯¹äº @Person(role=â€PMâ€) æ‹¬å·é‡Œé¢çš„å†…å®¹æ„Ÿå…´è¶£ï¼Œå®ƒå…¶å®å°±æ˜¯ç»™ Person è¿™ä¸ªæ³¨è§£çš„ role å±æ€§èµ‹å€¼ä¸º PM ï¼Œå¤§å®¶ä¸æ˜ç™½æ­£å¸¸ï¼Œé©¬ä¸Šå°±è®²åˆ°æ³¨è§£çš„å±æ€§è¿™ä¸€å—ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"http://SlectRxz.github.io/categories/Java/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/å­¦ä¹ /"}]},{"title":"JSPåŸºç¡€è¯­æ³•","slug":"javaåŸºç¡€/JSPåŸºç¡€(ä¸€)","date":"2018-11-12T02:01:44.000Z","updated":"2018-12-03T08:37:26.813Z","comments":true,"path":"2018/11/12/javaåŸºç¡€/JSPåŸºç¡€(ä¸€)/","link":"","permalink":"http://SlectRxz.github.io/2018/11/12/javaåŸºç¡€/JSPåŸºç¡€(ä¸€)/","excerpt":"JSPåŸºç¡€è¯­æ³•","text":"JSPåŸºç¡€è¯­æ³• ##JspåŸºç¡€## 4.1 Jspå¼•å…¥ Servletçš„ä½œç”¨ï¼š ç”¨javaè¯­è¨€å¼€å‘åŠ¨æ€èµ„æºçš„æŠ€æœ¯ï¼ï¼ï¼Jspçš„ä½œç”¨ï¼šç”¨javaè¯­è¨€ï¼ˆ+htmlè¯­è¨€ï¼‰å¼€å‘åŠ¨æ€èµ„æºçš„æŠ€æœ¯ï¼ï¼ï¼ Jspå°±æ˜¯servletï¼ï¼ï¼ 4.2 Jspçš„ç‰¹ç‚¹ 1ï¼‰jspçš„è¿è¡Œå¿…é¡»äº¤ç»™tomcatæœåŠ¡å™¨ï¼ï¼ï¼ï¼ tomcatçš„workç›®å½•ï¼š tomcatæœåŠ¡å™¨å­˜æ”¾jspè¿è¡Œæ—¶çš„ä¸´æ—¶æ–‡ä»¶ 2ï¼‰jspé¡µé¢æ—¢å¯ä»¥å†™htmlä»£ç ï¼Œä¹Ÿå¯ä»¥å†™javaä»£ç ã€‚ ï¼ˆhtmlé¡µé¢ä¸èƒ½å†™javaä»£ç  ã€‚è€Œjspé¡µé¢å¯ä»¥å†™javaä»£ç ï¼‰ 4.3 ä½“éªŒjspé¡µé¢ä½œç”¨ éœ€æ±‚ï¼šæ˜¾ç¤ºå½“å‰æ—¶é—´åˆ°æµè§ˆå™¨ä¸Š å¯ä»¥æŠŠjspé¡µé¢å½“åšhtmlé¡µé¢åœ¨tomcatä¸­è®¿é—®ï¼ï¼ï¼ 4.4 Jspçš„æ‰§è¡Œè¿‡ç¨‹ é—®é¢˜ï¼š è®¿é—®http://localhost:8080/day12/01.hello.jsp å¦‚ä½•æ˜¾ç¤ºæ•ˆæœï¼Ÿ 1ï¼‰è®¿é—®åˆ°01.hello.jspé¡µé¢ï¼Œtomcatæ‰«æåˆ°jspæ–‡ä»¶ï¼Œåœ¨%tomcat%/workæŠŠjspæ–‡ä»¶ç¿»è¯‘æˆjavaæºæ–‡ä»¶ (01.hello.jsp-&gt; _01_hello_jsp.java) ï¼ˆç¿»è¯‘ï¼‰ 2ï¼‰tomcatæœåŠ¡å™¨æŠŠjavaæºæ–‡ä»¶ç¼–è¯‘æˆclasså­—èŠ‚ç æ–‡ä»¶ ï¼ˆç¼–è¯‘ï¼‰ ï¼ˆ_01_hello_jsp.java -&gt; _01_hello_jsp.classï¼‰ 3ï¼‰tomcatæœåŠ¡å™¨æ„é€ _01_hello_jspç±»å¯¹è±¡ 4ï¼‰tomcatæœåŠ¡å™¨è°ƒç”¨_01_hello_jspç±»é‡Œé¢æ–¹æ³•ï¼Œè¿”å›å†…å®¹æ˜¾ç¤ºåˆ°æµè§ˆå™¨ã€‚ 1.ç¬¬ä¸€æ¬¡è®¿é—®jspï¼š2.èµ°ï¼ˆ1ï¼‰ï¼ˆ2ï¼‰ï¼ˆ3ï¼‰ï¼ˆ4ï¼‰3.ç¬¬næ¬¡è®¿é—®jspï¼š4.èµ°ï¼ˆ4ï¼‰æ³¨æ„ï¼š 1ï¼‰jspæ–‡ä»¶ä¿®æ”¹äº†æˆ–jspçš„ä¸´æ—¶æ–‡ä»¶è¢«åˆ é™¤äº†ï¼Œè¦é‡æ–°èµ°ç¿»è¯‘ï¼ˆ1ï¼‰å’Œç¼–è¯‘ï¼ˆ2ï¼‰çš„è¿‡ç¨‹ 4.5 ç–‘é—® é—®é¢˜ï¼š ä¸ºä»€ä¹ˆJspå°±æ˜¯servletï¼ï¼ï¼ jspç¿»è¯‘çš„javaæ–‡ä»¶ï¼š public final class _01_hello_jsp extends org.apache.jasper.runtime.HttpJspBase implements org.apache.jasper.runtime.JspSourceDependent { HttpJspBaseç±»ï¼š public abstract class org.apache.jasper.runtime.HttpJspBase extends javax.servlet.http.HttpServlet implements javax.servlet.jsp.HttpJspPage { ç»“è®ºï¼š Jspå°±æ˜¯ä¸€ä¸ªservletç¨‹åºï¼ï¼ï¼ servletçš„æŠ€æœ¯å¯ä»¥ç”¨åœ¨jspç¨‹åºä¸­ jspçš„æŠ€æœ¯å¹¶ä¸æ˜¯å…¨éƒ¨é€‚ç”¨äºservletç¨‹åºï¼ Servletçš„ç”Ÿå‘½å‘¨æœŸï¼š 1ï¼‰æ„é€ æ–¹æ³•ï¼ˆç¬¬1æ¬¡è®¿é—®ï¼‰ 2ï¼‰initæ–¹æ³•ï¼ˆç¬¬1æ¬¡è®¿é—®ï¼‰ 3ï¼‰serviceæ–¹æ³• 4ï¼‰destroyæ–¹æ³• Jspçš„ç”Ÿå‘½å‘¨æœŸ 1ï¼‰ç¿»è¯‘ï¼š jsp-&gt;javaæ–‡ä»¶ 2ï¼‰ç¼–è¯‘ï¼š javaæ–‡ä»¶-&gt;classæ–‡ä»¶ï¼ˆservletç¨‹åºï¼‰ 3ï¼‰æ„é€ æ–¹æ³•ï¼ˆç¬¬1æ¬¡è®¿é—®ï¼‰ 4ï¼‰initæ–¹æ³•ï¼ˆç¬¬1æ¬¡è®¿é—®ï¼‰ï¼š_jspInit() 5ï¼‰serviceæ–¹æ³•ï¼š_jspService() 6ï¼‰destroyæ–¹æ³•ï¼š_jspDestroy() ##Jspè¯­æ³•## 5.1 Jspæ¨¡æ¿ jspé¡µé¢ä¸­çš„htmlä»£ç å°±æ˜¯jspçš„æ¨¡æ¿ 5.2 Jspè¡¨è¾¾å¼ è¯­æ³•ï¼š&lt;%=å˜é‡æˆ–è¡¨è¾¾å¼%&gt; ä½œç”¨ï¼š å‘æµè§ˆå™¨è¾“å‡ºå˜é‡çš„å€¼æˆ–è¡¨è¾¾å¼è®¡ç®—çš„ç»“æœ æ³¨æ„ï¼š 1ï¼‰è¡¨è¾¾å¼çš„åŸç†å°±æ˜¯ç¿»è¯‘æˆout.print(â€œå˜é‡â€ );é€šè¿‡è¯¥æ–¹æ³•å‘æµè§ˆå™¨å†™å‡ºå†…å®¹ 2ï¼‰è¡¨è¾¾å¼åé¢ä¸éœ€è¦å¸¦åˆ†å·ç»“æŸã€‚ 5.3 Jspçš„è„šæœ¬ è¯­æ³•ï¼š&lt;%javaä»£ç  %&gt; ä½œç”¨ï¼š æ‰§è¡Œjavaä»£ç  æ³¨æ„ï¼š åŸç†æŠŠè„šæœ¬ä¸­javaä»£ç åŸå°ä¸åŠ¨æ‹·è´åˆ°_jspServiceæ–¹æ³•ä¸­æ‰§è¡Œã€‚ å°±æ˜¯åœ¨serviceæ–¹æ³•ä¸­æ‰§è¡Œäº†ä¸€æ®µjavaä»£ç  5.4 Jspçš„å£°æ˜ è¯­æ³•ï¼š&lt;%! å˜é‡æˆ–æ–¹æ³• %&gt; ä½œç”¨ï¼š å£°æ˜jspçš„å˜é‡æˆ–æ–¹æ³• æ³¨æ„: 1ï¼‰å˜é‡ç¿»è¯‘æˆæˆå‘˜å˜é‡ï¼Œæ–¹æ³•ç¿»è¯‘æˆæˆå‘˜æ–¹æ³•ã€‚ 5.5 Jspçš„æ³¨é‡Š è¯­æ³•ï¼š &lt;%â€“ jspæ³¨é‡Š â€“%&gt; æ³¨æ„; 1)htmlçš„æ³¨é‡Šä¼šè¢«ç¿»è¯‘å’Œæ‰§è¡Œã€‚è€Œjspçš„æ³¨é‡Šä¸èƒ½è¢«ç¿»è¯‘å’Œæ‰§è¡Œã€‚ ##Jspçš„ä¸‰å¤§æŒ‡ä»¤## 6.1 includeæŒ‡ä»¤ ä½œç”¨ï¼š åœ¨å½“å‰é¡µé¢ç”¨äºåŒ…å«å…¶ä»–é¡µé¢ è¯­æ³•ï¼š &lt;%@include file=â€common/header.jspâ€%&gt; æ³¨æ„ï¼š 1ï¼‰åŸç†æ˜¯æŠŠè¢«åŒ…å«çš„é¡µé¢ï¼ˆheader.jspï¼‰çš„å†…å®¹ç¿»è¯‘åˆ°åŒ…å«é¡µé¢(index.jsp)ä¸­,åˆå¹¶æˆç¿»è¯‘æˆä¸€ ä¸ªjavaæºæ–‡ä»¶ï¼Œå†ç¼–è¯‘è¿è¡Œï¼ï¼ï¼Œè¿™ç§åŒ…å«å«é™æ€åŒ…å«ï¼ˆæºç åŒ…å«ï¼‰ 2ï¼‰å¦‚æœä½¿ç”¨é™æ€åŒ…å«ï¼Œè¢«åŒ…å«é¡µé¢ä¸­ä¸éœ€è¦å‡ºç°å…¨å±€çš„htmlæ ‡ç­¾äº†ï¼ï¼ï¼ï¼ˆå¦‚htmlã€headã€ bodyï¼‰ 6.2 pageæŒ‡ä»¤ ä½œç”¨ï¼š å‘Šè¯‰tomcatæœåŠ¡å™¨å¦‚ä½•ç¿»è¯‘jspæ–‡ä»¶ &lt;%@ page language=â€javaâ€ â€“å‘Šè¯‰æœåŠ¡å™¨ä½¿ç”¨ä»€ä¹ˆåŠ¨æ€è¯­è¨€æ¥ç¿»è¯‘jspæ–‡ä»¶ import=â€java.util.*â€ â€“å‘Šè¯‰æœåŠ¡å™¨javaæ–‡ä»¶ä½¿ç”¨ä»€ä¹ˆåŒ… å¯¼å…¥åŒ…ï¼Œå¤šä¸ªåŒ…ä¹‹é—´ç”¨é€—å·åˆ†å‰² pageEncoding=â€utf-8â€ â€“å‘Šè¯‰æœåŠ¡å™¨ä½¿ç”¨ä»€ä¹ˆç¼–ç ç¿»è¯‘jspæ–‡ä»¶ï¼ˆæˆjavaæ–‡ä»¶ï¼‰ contentType=â€text/html; charset=utf-8â€ æœåŠ¡å™¨å‘é€æµè§ˆå™¨çš„æ•°æ®ç±»å‹å’Œå†…å®¹ç¼–ç  æ³¨æ„ï¼šåœ¨å¼€å‘å·¥å…·ä¸­ï¼Œä»¥ååªéœ€è¦è®¾ç½®pageEncodingå³å¯è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ errorPage=â€error.jspâ€ isErrorPage=â€falseâ€ buffer=â€8kbâ€ session=â€trueâ€ isELIgnored=â€falseâ€ %&gt; 6.3 taglibæŒ‡ä»¤ æ€»ç»“ï¼š 1ï¼‰ç¼–ç å®æˆ˜ï¼š 1.1 servletåº”ç”¨ 1.2 åˆæ­¥äº†è§£è½¯ä»¶å¼€å‘æµç¨‹ 2ï¼‰JspåŸºç¡€ 2.1 Jspçš„æ‰§è¡ŒåŸç†ï¼ˆç¿»è¯‘-ã€‹ç¼–è¯‘-ã€‹servletçš„ç”Ÿå‘½å‘¨æœŸï¼‰ 2.2 è¯­æ³•ï¼ˆjspè¡¨è¾¾å¼ï¼Œjspè„šæœ¬ï¼‰ 2.3 æŒ‡ä»¤ includeæŒ‡ä»¤ pageæŒ‡ä»¤","categories":[{"name":"JavaWeb","slug":"JavaWeb","permalink":"http://SlectRxz.github.io/categories/JavaWeb/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/å­¦ä¹ /"}]},{"title":"èƒŒæ™¯éŸ³ä¹æ·»åŠ æ­¥éª¤","slug":"addmusic","date":"2018-11-03T16:00:00.000Z","updated":"2018-11-12T03:15:28.400Z","comments":true,"path":"2018/11/04/addmusic/","link":"","permalink":"http://SlectRxz.github.io/2018/11/04/addmusic/","excerpt":"å…³äºåšå®¢å¦‚ä½•æ·»åŠ èƒŒæ™¯éŸ³ä¹","text":"å…³äºåšå®¢å¦‚ä½•æ·»åŠ èƒŒæ™¯éŸ³ä¹ 1ã€æ‰“å¼€ç½‘æ˜“äº‘éŸ³ä¹é¦–é¡µï¼Œç„¶åæœç´¢ä½ è¦æ·»åŠ çš„èƒŒæ™¯éŸ³ä¹ 2ã€æœç´¢åˆ°æ­Œæ›²ç‚¹å‡»ç”Ÿæˆå¤–é“¾æ’­æ”¾å™¨ï¼Œè¿›å»ä¸‹ä¸€ä¸ªç•Œé¢3ã€æ‰“å¼€ä¸»é¢˜ä¸‹çš„_partialæ–‡ä»¶å¤¹ä¸‹çš„left-col.ejsæ–‡ä»¶ï¼Œé€‰æ‹©iframeæ’ä»¶ï¼Œèµ‹å€¼HTMLä»£ç åˆ°&lt;div&gt;&lt;/div&gt;ä¸­ æ³¨æ„ï¼šå› ä¸ºæˆ‘æƒ³æŠŠè¿™ä¸ªæ’­æ”¾å™¨æ”¾åœ¨åšå®¢é¡µé¢çš„å·¦ä¾§æ é‡Œï¼Œæ‰€ä»¥å°±æŠŠä»¥ä¸Šä»£ç å¤åˆ¶åˆ°ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹å®ç°å·¦ä¾§æ çš„é‚£ä¸ªæ¨¡æ¿æ–‡ä»¶é‡Œï¼Œä¹Ÿå°±æ˜¯left-col.ejsæ–‡ä»¶ï¼Œï¼ˆéœ€è¦å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºæ‰€ä½¿ç”¨çš„ä¸»é¢˜ä¸åŒï¼Œå¯èƒ½æ–‡ä»¶ä¹Ÿå°±ä¸ä¸€æ ·ï¼Œä½†æ˜¯å¤§è‡´åŸç†å°±å¦‚åˆšæ‰æˆ‘æ‰€æåˆ°çš„ï¼šæƒ³æ”¾åœ¨å“ªä¸ªåŒºåŸŸï¼Œå°±æŠŠä»£ç å¤åˆ¶åˆ°å®ç°é‚£å—åŒºåŸŸçš„æ¨¡æ¿æ–‡ä»¶é‡Œï¼‰ã€‚ æˆ‘çš„ä¸»é¢˜ç›®å½•æ˜¯YourBlogName\\themes\\smackdown\\layout\\_partial\\left-col.ejsã€‚Code&lt;div style=&quot;position:absolute;bottom:100px;left:15px;width:60%&quot;&gt; &lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=250 height=86 src=&quot;//music.163.com/outchain/player?type=2&amp;id=543681750&amp;auto=1&amp;height=66&quot;&gt;&lt;/iframe&gt;&lt;/div&gt; æ³¨æ„ï¼š widthä¸heightè°ƒèŠ‚æ’­æ”¾é¡µçš„å¤§å°","categories":[{"name":"ç¯å¢ƒæ­å»º","slug":"ç¯å¢ƒæ­å»º","permalink":"http://SlectRxz.github.io/categories/ç¯å¢ƒæ­å»º/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/å­¦ä¹ /"}]},{"title":"ç®—æ³•","slug":"èƒŒåŒ…é—®é¢˜","date":"2018-10-14T13:58:57.005Z","updated":"2019-12-20T12:18:13.284Z","comments":true,"path":"2018/10/14/èƒŒåŒ…é—®é¢˜/","link":"","permalink":"http://SlectRxz.github.io/2018/10/14/èƒŒåŒ…é—®é¢˜/","excerpt":"ç®—æ³•- 0-1èƒŒåŒ…é—®é¢˜é—®é¢˜æè¿°ï¼š æœ‰Nä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸ºVçš„èƒŒåŒ…ã€‚ç¬¬iä»¶ç‰©å“çš„è´¹ç”¨æ˜¯c[i]ï¼Œä»·å€¼æ˜¯w[i]ã€‚æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…å¯ä½¿è¿™äº›ç‰©å“çš„è´¹ç”¨æ€»å’Œä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”ä»·å€¼æ€»å’Œæœ€å¤§ã€‚","text":"ç®—æ³•- 0-1èƒŒåŒ…é—®é¢˜é—®é¢˜æè¿°ï¼š æœ‰Nä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸ºVçš„èƒŒåŒ…ã€‚ç¬¬iä»¶ç‰©å“çš„è´¹ç”¨æ˜¯c[i]ï¼Œä»·å€¼æ˜¯w[i]ã€‚æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…å¯ä½¿è¿™äº›ç‰©å“çš„è´¹ç”¨æ€»å’Œä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”ä»·å€¼æ€»å’Œæœ€å¤§ã€‚ è¿™ä¸ªé—®é¢˜çš„ç‰¹ç‚¹æ˜¯ï¼šæ¯ç§ç‰©å“åªæœ‰ä¸€ä»¶ï¼Œå¯ä»¥é€‰æ‹©æ”¾æˆ–è€…ä¸æ”¾ã€‚ï¼ˆæ”¾æ˜¯1ï¼Œä¸æ”¾æ˜¯0ï¼‰ D[i][j]=max(D[i-1][j],D[i-1][j-v[i]]+b[i]);D[i][j]è¡¨ç¤ºç¬¬å‰iä»¶ç‰©å“ï¼Œjæ˜¯å…¶èƒŒåŒ…çš„å®¹é‡ï¼Œå…¶ä»·å€¼ç”¨äºŒç»´è¯å…¸D[ ][ ]è®°å½•å…¶å€¼å‚¨å­˜ä¸åŒçš„jï¼ˆèƒŒåŒ…å®¹é‡ï¼‰èƒ½è£…çš„æœ€å¤§ä»·å€¼ é—®é¢˜æè¿°ï¼š æœ‰Nä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸ºVçš„èƒŒåŒ…ã€‚ç¬¬iä»¶ç‰©å“çš„è´¹ç”¨æ˜¯c[i]ï¼Œä»·å€¼æ˜¯w[i]ã€‚æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…å¯ä½¿è¿™äº›ç‰©å“çš„è´¹ç”¨æ€»å’Œä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”ä»·å€¼æ€»å’Œæœ€å¤§ã€‚ è¿™ä¸ªé—®é¢˜çš„ç‰¹ç‚¹æ˜¯ï¼šæ¯ç§ç‰©å“åªæœ‰ä¸€ä»¶ï¼Œå¯ä»¥é€‰æ‹©æ”¾æˆ–è€…ä¸æ”¾ã€‚ï¼ˆæ”¾æ˜¯1ï¼Œä¸æ”¾æ˜¯0ï¼‰ D[i][j]=max(D[i-1][j],D[i-1][j-v[i]]+b[i]);D[i][j]è¡¨ç¤ºç¬¬å‰iä»¶ç‰©å“ï¼Œjæ˜¯å…¶èƒŒåŒ…çš„å®¹é‡ï¼Œå…¶ä»·å€¼ç”¨äºŒç»´è¯å…¸D[ ][ ]è®°å½•å…¶å€¼å‚¨å­˜ä¸åŒçš„jï¼ˆèƒŒåŒ…å®¹é‡ï¼‰èƒ½è£…çš„æœ€å¤§ä»·å€¼ Code blockCode#include&lt;iostream&gt;#define MAX 20#define max(a,b) a&gt;b?a:busing namespace std;int D[MAX][MAX];int fill(int n,int v[],int b[],int c)&#123; for(int i=1;i&lt;=n;i++) for(int j=1;j&lt;=c;j++) &#123; If( j&lt;v[ I ] ) D[i][j]=D[i-1][j]; else D[i][j]=max(D[i-1][j],D[i-1][j-v[i]]+b[i]);//è§£é‡Šï¼šå½“èƒŒåŒ…çš„å®¹é‡æ…¢æ…¢å¢åŠ ï¼Œæ­¤æ—¶å¤§äºè¿™ä¸ªç‰©å“v[i]ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­//æ”¾ç‰©å“ ä¸ ä¸æ”¾ç‰©å“çš„ä»·å€¼å“ªä¸ªé«˜ã€‚ã€‚ã€‚ã€‚ã€‚ &#125; return 1;&#125;int main()&#123; int n,v[MAX],b[MAX],c; cin&gt;&gt;n; for(int i=1;i&lt;=n;i++) cin&gt;&gt;v[i]; for(int i=1;i&lt;=n;i++) cin&gt;&gt;b[i]; cin&gt;&gt;c; fill(n,v,b,c); cout&lt;&lt;D[n][c];&#125;","categories":[{"name":"ä»£ç æ€»ç»“","slug":"ä»£ç æ€»ç»“","permalink":"http://SlectRxz.github.io/categories/ä»£ç æ€»ç»“/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"http://SlectRxz.github.io/tags/ç®—æ³•/"}]},{"title":"My first blog","slug":"hello-world","date":"2018-10-14T07:40:00.425Z","updated":"2019-12-22T01:32:14.950Z","comments":true,"path":"2018/10/14/hello-world/","link":"","permalink":"http://SlectRxz.github.io/2018/10/14/hello-world/","excerpt":"åšå®¢æ­å»ºè®°å½•","text":"åšå®¢æ­å»ºè®°å½• æ‰¾äº†å¾ˆå¤šæ•™ç¨‹ï¼Œä¹Ÿçœ‹äº†ä¸€äº›è§†é¢‘ï¼Œæœ€åç»ˆäºå°†å…¶æ­å»ºå¥½äº†ï¼Œç¬¬ä¸€æ¬¡å†™ï¼Œæœ‰è¯¯è¯·æŒ‡æ­£ã€‚ ####æ­å»ºç¯å¢ƒå‡†å¤‡ï¼š å®‰è£…Gitï¼šGitä¸‹è½½åŒ…64ä½. ä¸‹è½½node.js node.jsä¸‹è½½åœ°å€ å®‰è£…Hexo åˆ©ç”¨npmå‘½ä»¤å³å¯å®‰è£…ã€‚å•å‡»é¼ æ ‡iå³é”®ï¼Œé€‰ç€Git Bash","categories":[{"name":"æ­å»ºè¯´æ˜","slug":"æ­å»ºè¯´æ˜","permalink":"http://SlectRxz.github.io/categories/æ­å»ºè¯´æ˜/"}],"tags":[{"name":"blogè®°å½•","slug":"blogè®°å½•","permalink":"http://SlectRxz.github.io/tags/blogè®°å½•/"}]},{"title":"LinuxåŸºç¡€ï¼ˆå››ï¼‰","slug":"LinuxåŸºç¡€ï¼ˆå››ï¼‰","date":"2017-05-12T02:01:44.000Z","updated":"2018-10-16T11:40:21.032Z","comments":true,"path":"2017/05/12/LinuxåŸºç¡€ï¼ˆå››ï¼‰/","link":"","permalink":"http://SlectRxz.github.io/2017/05/12/LinuxåŸºç¡€ï¼ˆå››ï¼‰/","excerpt":"Linuxç½‘ç»œé…ç½®ä¸ä½¿ç”¨","text":"Linuxç½‘ç»œé…ç½®ä¸ä½¿ç”¨ 4ã€è™šæ‹Ÿæœºlinuxä¸Šç½‘é—®é¢˜4.1ã€VMwareä¸­è™šæ‹Ÿæœºç½‘ç»œçš„ä¸‰ç§è®¾ç½®ç¬¬ä¸€ç§ï¼šæ¡¥æ¥ï¼ˆbridgedï¼‰ç¬¬äºŒç§ï¼šNATç¬¬ä¸‰ç§ï¼šHost only ã€‚è¯¥æ¨¡å¼ä¸‹ä»…ä¸»æœºå¯ä»¥ä¸Šç½‘ï¼Œè™šæ‹Ÿæœºä¸èƒ½ä¸Šç½‘ã€‚ 4.2ã€è™šæ‹Ÿæœºä¸Šç½‘æ–¹å¼1ï¼šNATæ–¹å¼è®¾ç½®æ­¥éª¤ï¼šç¬¬ä¸€æ­¥ï¼šåœ¨èœå•æ  è™šæ‹Ÿæœº -&gt; è®¾ç½® -&gt; ç¡¬ä»¶ -&gt; ç½‘ç»œé€‚é…å™¨ï¼Œå³ä¾§é€‰æ‹©NATæ¨¡å¼ç¬¬äºŒæ­¥ï¼š vi /etc/network/interfacesï¼Œæ‰“å¼€è¯¥æ–‡ä»¶ï¼Œå°†å†…å®¹ç¼–è¾‘æˆä¸ºï¼š auto loiface lo inet loopback auto eth0iface eth0 inet dhcpaddress 192.168.1.141netmask 255.255.255.0gateway 192.168.1.1 ç¬¬ä¸‰æ­¥ï¼šæ‰§è¡Œ/etc/init.d/networking restarté‡å¯ç½‘å¡ 4.3ã€è™šæ‹Ÿæœºä¸Šç½‘æ–¹å¼2ï¼šæ¡¥æ¥æ–¹å¼ç¬¬ä¸€æ­¥ï¼šæ¡¥æ¥ã€‚åœ¨èœå•æ  è™šæ‹Ÿæœº -&gt; è®¾ç½® -&gt; ç¡¬ä»¶ -&gt; ç½‘ç»œé€‚é…å™¨ï¼Œå³ä¾§é€‰æ‹©æ¡¥æ¥æ¨¡å¼ã€‚ç¬¬äºŒæ­¥ï¼šæ¡¥æ¥åˆ°å¯ä»¥ä¸Šç½‘çš„ç½‘å¡ã€‚åœ¨èœå•æ  ç¼–è¾‘ -&gt; è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨ï¼Œé€‰æ‹©æ¡¥æ¥åˆ°è‡ªå·±Windowsä¸­å¯ä»¥ä¸Šç½‘çš„ç½‘å¡ä¸Šï¼ˆä¸€èˆ¬å°±æ˜¯Wifiç½‘ç»œæˆ–è€…æœ‰çº¿ç½‘ç»œï¼‰ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®dhcpå¹¶é‡å¯ç½‘å¡ã€‚ vi /etc/network/interfacesï¼Œæ‰“å¼€è¯¥æ–‡ä»¶ï¼Œå°†å†…å®¹ç¼–è¾‘æˆä¸ºï¼šauto loiface lo inet loopback auto eth0iface eth0 inet dhcpaddress 192.168.1.141netmask 255.255.255.0gateway 192.168.1.1 ä¿å­˜é€€å‡ºã€‚ç„¶åå‘½ä»¤è¡Œæ‰§è¡Œ/etc/init.d/networking restarté‡å¯ç½‘å¡ 4.4ã€æ€»ç»“ç¬¬ä¸€ï¼ŒNATæ–¹å¼è®¾ç½®ä¸Šç½‘æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ä¸èƒ½ç”¨åœ¨åµŒå…¥å¼å¼€å‘ä¸­ã€‚ç¬¬äºŒï¼Œæ¡¥æ¥æ–¹å¼è®¾ç½®ä¸Šç½‘è¾ƒç¹çï¼Œä½†æ˜¯åœ¨åµŒå…¥å¼å¼€å‘ä¸­æ¯”è¾ƒæœ‰ç”¨ã€‚ ä½¿ç”¨æŠ€å·§ï¼š1ã€ä½¿ç”¨shellçš„Tabé”®è‡ªåŠ¨è¡¥å…¨Tabåœ¨linuxå‘½ä»¤è¡Œè¾“å…¥ä¸­å¯ä»¥è‡ªåŠ¨å®Œæˆã€‚åœ¨linux å‘½ä»¤è¡Œä¸­ä½¿ç”¨Tabé”®ä¼šæå¤§æé«˜è¾“å…¥æ•ˆç‡2ã€ä½¿ç”¨shellçš„å†å²è®°å½•shellä¼šè®°å½•ç”¨æˆ·æ‰§è¡Œå‘½ä»¤çš„å†å²è®°å½•ï¼Œè€Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨å‘½ä»¤éƒ½ä¼šåœ¨çŸ­æ—¶é—´å†…é›†ä¸­åå¤ä½¿ç”¨å› æ­¤å½“ä½ éœ€è¦ä½¿ç”¨ä¸€æ¡åˆšæ‰è¿˜ä½¿ç”¨è¿‡çš„å‘½ä»¤æ—¶ï¼Œä¸éœ€å†æ¬¡èŠ±æ—¶é—´è¾“å…¥ï¼Œåªè¦æŒ‰ä¸‹é”®ç›˜ä¸Šä¸‹ç®­å¤´æŒ‰é”®ï¼Œå°±å¯å®ç°ä¸Šä¸‹ç¿»é¡µï¼Œç¿»å‡ºåˆšæ‰ç”¨è¿‡çš„å‘½ä»¤ï¼Œç›´æ¥å›è½¦æ‰§è¡Œã€‚å°±å¥½åƒç”µè¯æœºçš„é€šè¯è®°å½•å’Œå¿«é€Ÿå›æ‹¨ä¸€æ ·ã€‚3ã€linuxå‘½ä»¤è¡Œä¸­ä¸€äº›ç¬¦å·çš„å«ä¹‰ï¼š . ä»£è¡¨å½“å‰ç›®å½• .. ä»£è¡¨ä¸Šä¸€å±‚ç›®å½•ï¼Œå½“å‰ç›®å½•çš„çˆ¶ç›®å½• - ä»£è¡¨å‰ä¸€ä¸ªç›®å½•ï¼Œæˆ‘åˆšæ‰ä»å“ªä¸ªç›®å½•cdè¿‡æ¥ ~ ä»£è¡¨å½“å‰ç”¨æˆ·çš„å®¿ä¸»ç›®å½• / ä»£è¡¨æ ¹ç›®å½• $ æ™®é€šç”¨æˆ·çš„å‘½ä»¤è¡Œæç¤ºç¬¦ # rootç”¨æˆ·çš„å‘½ä»¤è¡Œæç¤ºç¬¦ * ä¸‡èƒ½åŒ¹é…ç¬¦ å®¿ä¸»ç›®å½•ï¼šæ‰€è°“å®¿ä¸»ç›®å½•ï¼Œå°±æ˜¯æ“ä½œç³»ç»Ÿä¸ºå½“å‰ç”¨æˆ·æ‰€è®¾è®¡çš„ç”¨æ¥å­˜æ”¾æ–‡ä»¶ã€å·¥ä½œçš„é»˜è®¤ç›®å½•ã€‚å¦‚Windowsä¸­çš„â€œæˆ‘çš„æ–‡æ¡£â€ç›®å½•ï¼Œå°±æ˜¯Windowsä¸ºæˆ‘ä»¬è®¾è®¡çš„å®¿ä¸»ç›®å½•ã€‚Linuxä¸­æ¯ä¸ªç”¨æˆ·éƒ½æœ‰è‡ªå·±çš„å®¿ä¸»ç›®å½•ï¼Œè¿™ä¸ªç›®å½•å¯¹äºæ™®é€šç”¨æˆ·æ¥è¯´ï¼Œåœ¨/home/username/ï¼Œè€Œå¯¹äºrootç”¨æˆ·æ¥è¯´ï¼Œåœ¨/rootã€‚","categories":[{"name":"LinuxåŸºç¡€","slug":"LinuxåŸºç¡€","permalink":"http://SlectRxz.github.io/categories/LinuxåŸºç¡€/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/å­¦ä¹ /"}]},{"title":"LinuxåŸºç¡€ï¼ˆä¸‰ï¼‰","slug":"LinuxåŸºç¡€ï¼ˆä¸‰ï¼‰","date":"2017-05-11T02:01:44.000Z","updated":"2019-09-12T14:24:40.727Z","comments":true,"path":"2017/05/11/LinuxåŸºç¡€ï¼ˆä¸‰ï¼‰/","link":"","permalink":"http://SlectRxz.github.io/2017/05/11/LinuxåŸºç¡€ï¼ˆä¸‰ï¼‰/","excerpt":"viç¼–è¾‘å™¨çš„ä½¿ç”¨","text":"viç¼–è¾‘å™¨çš„ä½¿ç”¨ 3ã€ç¼–è¾‘å™¨viçš„ä½¿ç”¨ï¼ˆviå’Œvimçš„è”ç³»ï¼‰ä»€ä¹ˆæ˜¯ç¼–è¾‘å™¨ï¼Ÿç¼–è¾‘å™¨å°±æ˜¯ä¸€æ¬¾è½¯ä»¶ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨å°±æ˜¯ç”¨æ¥ç¼–è¾‘ã€‚è­¬å¦‚ç¼–å†™æ–‡ä»¶ï¼Œç¼–å†™ä»£ç ã€‚Windowsä¸­çš„å¸¸ç”¨ç¼–è¾‘å™¨ï¼Œå¦‚è‡ªå¸¦çš„notepadã€‚æ¯”è¾ƒå¥½ç”¨çš„notepad++ï¼ŒUltraEditorï¼ŒSlickEditorLinuxä¸­å¸¸ç”¨ç¼–è¾‘å™¨ï¼Œè‡ªå¸¦çš„æœ€å¤è€çš„viã€‚æ¯”è¾ƒå¥½ç”¨çš„vimï¼Œgeditã€‚æ³¨ï¼šviå’Œvimçš„å…³ç³»ï¼švimæ˜¯viçš„å‡çº§ç‰ˆï¼Œæ¨èä½¿ç”¨vimã€‚æˆ‘ä»¬åœ¨åé¢æåˆ°viæ—¶ï¼Œå…¶å®éƒ½æ˜¯æŒ‡vimã€‚ 3.1ã€viåŸºç¡€ä½¿ç”¨ä½¿ç”¨viæ¥æ‰“å¼€/åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œvi pathname viçš„ä¸¤ç§æ¨¡å¼ï¼šå‘½ä»¤æ¨¡å¼ï¼šå½“viæ‰“å¼€æ—¶é»˜è®¤ä¸ºå‘½ä»¤æ¨¡å¼ï¼Œè¦è½¬å…¥è¾“å…¥æ¨¡å¼ï¼Œéœ€è¦æŒ‰aæˆ–è€…ié”®ã€‚åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œæ­¤æ—¶é”®ç›˜ä¸Šè¾“å…¥çš„æ‰€æœ‰ä¸œè¥¿éƒ½è¢«viå½“ä½œå‘½ä»¤æ¥å¯¹å¾…ã€‚åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œæœ€å¥½ä¸è¦ä¹±è¾“å…¥ã€‚æ­¤æ—¶åº”è¯¥è¾“å…¥ç›¸åº”çš„å‘½ä»¤ï¼Œæ¥è®©viåšç›¸åº”çš„äº‹ã€‚è¾“å…¥æ¨¡å¼ï¼šè¾“å…¥æ¨¡å¼ç”¨æ¥å‘æ–‡ä»¶è¾“å…¥å†…å®¹ã€‚å¯ä»¥ä»å‘½ä»¤æ¨¡å¼ä¸­æŒ‰aæˆ–è€…iè¿›å…¥è¾“å…¥æ¨¡å¼ã€‚è¿›å…¥è¾“å…¥æ¨¡å¼åï¼Œå°±å¯ä»¥éšæ„æŒ‰é”®ç›˜è¿›è¡Œè¾“å…¥äº†ã€‚è¾“å…¥å®Œæˆåå¦‚æœè¦ä¿å­˜ï¼Œè¦å…ˆé€€å›åˆ°å‘½ä»¤æ¨¡å¼ï¼ˆå› ä¸ºä¿å­˜ä¹Ÿæ˜¯ä¸€ç§å‘½ä»¤ï¼‰ã€‚åœ¨è¾“å…¥æ¨¡å¼ä¸‹æŒ‰ESCé”®é€€å›åˆ°å‘½ä»¤æ¨¡å¼ã€‚æ³¨ï¼šæ³¨æ„çœ‹å±å¹•å·¦ä¸‹è§’ï¼Œå½“å‘½ä»¤æ¨¡å¼æ—¶æ— æç¤ºä¿¡æ¯æˆ–è€…æç¤ºæ–‡ä»¶åç­‰ä¿¡æ¯ï¼Œç­‰å¤„äºè¾“å…¥æ¨¡å¼æ—¶ï¼Œæç¤º â€“ INSERT â€“åœ¨å‘½ä»¤æ¨¡å¼ä¸‹å¦‚ä½•ä¿å­˜ï¼š:wq ä¿å­˜å¹¶ä¸”é€€å‡º:w åªä¿å­˜ä¸æ¨å‡º:q ä¸ä¿å­˜é€€å‡º è¿›æ¥çœ‹äº†ä¸€ä¸‹æ²¡æ”¹é€€å‡º:q! ä¸ä¿å­˜å¼ºåˆ¶é€€å‡º:wq! ä¿å­˜å¹¶å¼ºåˆ¶é€€å‡º 3.2ã€viçš„é«˜çº§ä½¿ç”¨ æŸ¥æ‰¾åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œè¾“å…¥/xxxï¼Œå°±å¯ä»¥æŸ¥æ‰¾åˆ°xxx å¿«é€Ÿåˆ‡æ¢è¡Œåœ¨å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œè¾“å…¥:numï¼Œå°±å¯ä»¥å¿«é€Ÿåˆ‡æ¢åˆ°numè¡Œ è®¾ç½®æ˜¾ç¤ºè¡Œå·åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œè¾“å…¥:set nuï¼Œå°±å¯ä»¥æ˜¾ç¤ºè¡Œå· æ³¨ï¼šè®¾ç½®ä¸æ˜¾ç¤ºè¡Œå·ï¼Œå‘½ä»¤æ¨¡å¼è¾“å…¥:set nonuè®¾ç½®æ°¸ä¹…æ˜¾ç¤ºè¡Œå·ï¼Œéœ€è¦ä¿®æ”¹viçš„é…ç½®æ–‡ä»¶ã€‚æ‰“å¼€viçš„é…ç½®æ–‡ä»¶~/.vimrcï¼Œåœ¨å…¶ä¸­è¾“å…¥set nuå³å¯ã€‚ è¡Œåˆ é™¤å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œå…ˆå°†å…‰æ ‡ç§»åŠ¨åˆ°è¦åˆ é™¤çš„è¡Œï¼Œç„¶åè¾“å…¥ddå¦‚æœè¦åˆ é™¤è¿ç»­å¤šè¡Œï¼Œè­¬å¦‚è¦åˆ é™¤è¿ç»­çš„3è¡Œï¼Œä½¿ç”¨3dd è¡Œå¤åˆ¶ç²˜è´´å¤åˆ¶ï¼šå‘½ä»¤æ¨¡å¼ä¸‹ï¼Œnyyç²˜è´´ï¼šå‘½ä»¤æ¨¡å¼ä¸‹ï¼Œpç»†èŠ‚ï¼Œå¤åˆ¶æ—¶è¦æŠŠå…‰æ ‡æ”¾åœ¨å¤šè¡Œçš„ç¬¬ä¸€è¡Œï¼Œç²˜è´´æ—¶å®é™…ç²˜è´´åˆ°å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸‹ä¸€è¡Œã€‚ 3.3ã€linuxä¸­æƒé™è¡¨ç¤º&amp;ç®¡ç†3.3.1ã€æ™®é€šç”¨æˆ·ä¸ç‰¹æƒç”¨æˆ· suå‘½ä»¤åˆ‡æ¢ç”¨æˆ·Windowsä¸­æœ‰æ™®é€šç”¨æˆ·å’Œç‰¹æƒç”¨æˆ·ï¼Œç‰¹æƒç”¨æˆ·æ˜¯Administratorï¼Œæ™®é€šç”¨æˆ·å¯ä»¥æœ‰å¾ˆå¤šä¸ªã€‚ç‰¹æƒç”¨æˆ·æ˜¯ç³»ç»Ÿçš„ç®¡ç†å‘˜ï¼Œå¯¹ç³»ç»Ÿå†…æ‰€æœ‰æ–‡ä»¶å…·æœ‰æ“ä½œæƒé™ã€‚æ¯ä¸ªæ™®é€šç”¨æˆ·åªèƒ½å¤„ç†è‡ªå·±çš„æ–‡ä»¶ï¼Œä¸èƒ½è®¿é—®å…¶ä»–ç”¨æˆ·çš„æ–‡ä»¶ï¼Œæ›´ä¸èƒ½éšæ„å¤„ç†æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ã€‚Linuxä¸­ä¹Ÿæœ‰æ™®é€šç”¨æˆ·å’Œç‰¹æƒç”¨æˆ·çš„åŒºåˆ«ã€‚ç‰¹æƒç”¨æˆ·å°±æ˜¯rootç”¨æˆ·ã€‚æ™®é€šç”¨æˆ·æƒé™å—åˆ°é™åˆ¶ï¼Œè­¬å¦‚è¯´æ™®é€šç”¨æˆ·ä¸èƒ½cd /rootï¼Œæ™®é€šç”¨æˆ·ä¸èƒ½ä½¿ç”¨apt-get install æ¥è£…è½¯ä»¶ã€‚ å¯ä»¥ä½¿ç”¨su ç”¨æˆ·åæ¥åœ¨ä¸åŒç”¨æˆ·é—´åˆ‡æ¢ã€‚è­¬å¦‚è¦ä»æ™®é€šç”¨æˆ·åˆ‡æ¢åˆ°rootï¼Œå¯ä»¥su rootï¼Œç„¶åè¾“å…¥rootçš„å¯†ç å³å¯è½¬å…¥rootç”¨æˆ·ã€‚ä»rootè¦åˆ‡æ¢åˆ°æ™®é€šç”¨æˆ·gecï¼Œåˆ™su gecå³å¯ã€‚ 3.3.2ã€rwxä¸æƒé™è¡¨ç¤ºls -læ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯drwxr-xr-x 10ä¸ªå­—ç¬¦ï¼Œç¬¬ä¸€ä¸ªè¡¨ç¤ºæ–‡ä»¶ç±»å‹ã€‚å‰©ä¸‹çš„9ä¸ªåˆ†æˆ3ç»„ï¼Œè¡¨ç¤ºæ–‡ä»¶æƒé™ã€‚å‰ä¸‰ä¸ªè¡¨ç¤ºæ­¤æ–‡ä»¶çš„å±ä¸»å¯¹æ–‡ä»¶çš„æƒé™ä¸­é—´ä¸‰ä¸ªè¡¨ç¤ºæ­¤æ–‡ä»¶å±ä¸»æ‰€åœ¨çš„ç»„å¯¹æ–‡ä»¶çš„æƒé™æœ€åä¸‰ä¸ªè¡¨ç¤ºå…¶ä»–ç”¨æˆ·å¯¹æ–‡ä»¶çš„æƒé™rwxæ€ä¹ˆè§£æï¼šrä»£è¡¨å¯è¯»ï¼Œwä»£è¡¨å¯å†™ï¼Œxä»£è¡¨å¯æ‰§è¡Œrwxï¼šå¯è¯»ï¼Œå¯å†™ï¼Œå¯æ‰§è¡Œr-x: å¯è¯»ï¼Œä¸å¯å†™ï¼Œå¯æ‰§è¡Œrâ€“: å¯è¯»ï¼Œä¸å¯å†™ï¼Œä¸å¯æ‰§è¡Œ 3.3.3ã€ä½¿ç”¨sudoæš‚æ—¶è·å–rootæƒé™è¿™æ˜¯ubuntuçš„ä¸€ä¸ªç‰¹ç‚¹ï¼Œåœ¨ubuntuä¸­å¯ä»¥ä½¿ç”¨sudoå‘½ä»¤è®©æ™®é€šç”¨æˆ·æš‚æ—¶è·å–rootç”¨æˆ·çš„æƒé™ï¼Œè€Œä¸å¿…è¿›è¡Œç”¨æˆ·åˆ‡æ¢ã€‚","categories":[{"name":"LinuxåŸºç¡€","slug":"LinuxåŸºç¡€","permalink":"http://SlectRxz.github.io/categories/LinuxåŸºç¡€/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/å­¦ä¹ /"}]},{"title":"LinuxåŸºç¡€ï¼ˆäºŒï¼‰","slug":"LinuxåŸºç¡€ï¼ˆäºŒï¼‰","date":"2017-05-08T02:01:44.000Z","updated":"2018-10-16T11:40:15.881Z","comments":true,"path":"2017/05/08/LinuxåŸºç¡€ï¼ˆäºŒï¼‰/","link":"","permalink":"http://SlectRxz.github.io/2017/05/08/LinuxåŸºç¡€ï¼ˆäºŒï¼‰/","excerpt":"å…³äºLinuxçš„åŸºæœ¬ä»‹ç»ä»¥åŠç®€å•å‘½ä»¤çš„æ¦‚è¿°","text":"å…³äºLinuxçš„åŸºæœ¬ä»‹ç»ä»¥åŠç®€å•å‘½ä»¤çš„æ¦‚è¿° 2ã€linuxåŸºç¡€çŸ¥è¯†ä¸æŠ€èƒ½2.1ã€linuxå†…æ ¸ã€å‘è¡Œç‰ˆlinuxæœ¬èº«æŒ‡çš„æ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œåªæœ‰å†…æ ¸æ˜¯æ— æ³•ç›´æ¥ä½¿ç”¨çš„ã€‚æˆ‘ä»¬éœ€è¦çš„ï¼Œå¯ä»¥ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿæ˜¯ä¸€ä¸ªåŒ…å«äº†å†…æ ¸å’Œä¸€æ‰¹æœ‰ç”¨çš„åº”ç”¨ç¨‹åºçš„ä¸€ä¸ªé›†åˆä½“ï¼Œè¿™ä¸ªå°±å«linuxå‘è¡Œç‰ˆã€‚ubuntuã€redhatå°±æ˜¯linuxçš„ä¸åŒçš„å‘è¡Œç‰ˆã€‚ 2.2ã€GUIï¼ˆå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼‰å’Œcmdlineï¼ˆå‘½ä»¤è¡Œï¼‰GUIï¼šgrahics user interfaceï¼Œå›¾å½¢ç”¨æˆ·ç•Œé¢ã€‚cmdlineï¼šcommand lineï¼Œå‘½ä»¤è¡Œã€‚äººæœºäº¤äº’ï¼šäººå’Œæœºå™¨ï¼ˆè®¡ç®—æœºï¼‰è¿›è¡Œäº¤äº’ï¼Œå¸¸ç”¨çš„æœ‰å‘½ä»¤è¡Œå’ŒGUIã€‚Windowsä¸‹æ—¢æœ‰GUIï¼Œåˆæœ‰å‘½ä»¤è¡Œã€‚linuxä¸­ä¹Ÿæ˜¯æ—¢æœ‰GUIï¼Œåˆæœ‰å‘½ä»¤è¡Œã€‚ä½†æ˜¯ï¼Œåœ¨linuxä¸­æˆ‘ä»¬å¸¸ç”¨å‘½ä»¤è¡Œï¼Œåœ¨Windowsä¸­å¸¸ç”¨GUI 2.3ã€linuxå¸¸ç”¨å‘½ä»¤ï¼š(1) lsï¼ˆlistï¼Œåˆ—è¡¨ï¼‰ä½œç”¨ï¼šä½¿ç”¨åˆ—è¡¨æŠŠå½“å‰æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶æ˜¾ç¤ºå‡ºæ¥ ls -a æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶ ls -l ä»¥è¯¦ç»†ä¿¡æ¯æ˜¾ç¤º ls -a -l ls -l -a ls -la ls -al å››ç§æ–¹å¼éƒ½æ˜¯å¯ä»¥çš„ ls -al ~ ï¼šåˆ—å‡ºè‡ªå·±ä¸»æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰éšè—æ–‡ä»¶ä¸ç›¸å…³çš„æ–‡ä»¶å±æ€§ (2) cdï¼ˆchange directoryï¼Œæ›´æ”¹ç›®å½•ï¼‰ä½œç”¨ï¼šç”¨æ¥åˆ‡æ¢ç›®å½•æ¶‰åŠåˆ°ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„cd .. ..ä»£è¡¨ä¸Šä¸€å±‚ç›®å½• .ä»£è¡¨å½“å‰ç›®å½• (3) pwdï¼ˆprint work directoryï¼Œæ‰“å°å·¥ä½œç›®å½•ï¼‰ä½œç”¨ï¼šæ‰“å°å‡ºå½“å‰çš„ç»å¯¹è·¯å¾„ (4) mkdirï¼ˆmake directoryï¼Œåˆ›å»ºæ–‡ä»¶å¤¹ï¼‰ä½œç”¨ï¼šåˆ›å»ºç©ºæ–‡ä»¶å¤¹ mkdir -p çº§è”åˆ›å»ºæ–‡ä»¶å¤¹(5) mvï¼ˆmoveï¼Œç§»åŠ¨ï¼‰ä½œç”¨ï¼šåœ¨ç›®å½•é—´ç§»åŠ¨æ–‡ä»¶ï¼Œé‡å‘½åæ–‡ä»¶ mv æºæ–‡ä»¶pathname ç›®çš„æ–‡ä»¶pathname (6) touchä½œç”¨ï¼šåˆ›å»ºç©ºæ–‡ä»¶ touch pathname (7) cpï¼ˆcopyï¼Œå¤åˆ¶ï¼‰ä½œç”¨ï¼šå¤åˆ¶æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ cp æºæ–‡ä»¶pathname ç›®æ ‡æ–‡ä»¶pathname cp -r ç”¨æ¥å¤åˆ¶æ–‡ä»¶å¤¹ cp -f å¼ºåˆ¶å¤åˆ¶å®é™…æ“ä½œæ—¶ï¼Œä¸€èˆ¬éƒ½æ˜¯cp -få¤åˆ¶æ–‡ä»¶ï¼Œcp -rfå¤åˆ¶æ–‡ä»¶å¤¹ (8) rmï¼ˆremoveï¼Œå»é™¤ï¼Œåˆ é™¤ï¼‰ä½œç”¨ï¼šç”¨æ¥åˆ é™¤æ–‡ä»¶ï¼Œæ–‡ä»¶å¤¹ rm æ–‡ä»¶pathname rm -r æ–‡ä»¶å¤¹pathname (9) catä½œç”¨ï¼šç›´æ¥åœ¨å‘½ä»¤è¡Œä¸‹æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ ä¹Ÿå¯ä»¥ç”¨æ¥å‘æ–‡ä»¶è¾“å…¥ï¼Œæš‚æ—¶ä¸ç®¡ (10)rmdirï¼ˆremove directoryï¼Œåˆ é™¤æ–‡ä»¶å¤¹ï¼‰ä½œç”¨ï¼šåˆ é™¤ç©ºæ–‡ä»¶å¤¹rmdirå’Œrm -rçš„åŒºåˆ«ï¼šrmdiråªèƒ½åˆ é™¤ç©ºæ–‡ä»¶å¤¹ï¼Œè€Œrm -rå¯ä»¥åˆ é™¤ç©ºæ–‡ä»¶å¤¹å’Œéç©ºæ–‡ä»¶å¤¹ (11) lnï¼ˆlinkï¼Œè¿æ¥æ–‡ä»¶ï¼‰åŸºç¡€ï¼šwindowsä¸­å¿«æ·æ–¹å¼ï¼Œå®é™…ä¸Šå¿«æ·æ–¹å¼å’Œå®ƒæŒ‡å‘çš„æ–‡ä»¶æ˜¯ç‹¬ç«‹çš„ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸¤ä¸ªéƒ½å ç¡¬ç›˜ç©ºé—´ï¼Œåªä¸è¿‡ç”¨æˆ·è®¿é—®å¿«æ·æ–¹å¼æ—¶ï¼Œå…¶æ•ˆæœç­‰åŒäºè®¿é—®æŒ‡å‘çš„æ–‡ä»¶ã€‚ linuxä¸­æœ‰ä¸¤ç§è¿æ¥æ–‡ä»¶ï¼šä¸€ç§å«è½¯è¿æ¥ï¼ˆç¬¦å·è¿æ¥ï¼‰ï¼Œç­‰åŒäºwindowsä¸­å¿«æ·æ–¹å¼ä¸€ç§å«ç¡¬è¿æ¥åˆ›å»ºè½¯è¿æ¥æ–‡ä»¶ï¼š ln -s æºæ–‡ä»¶å ç¬¦å·è¿æ¥æ–‡ä»¶åä¸¾ä¾‹ï¼šln -s src.cï¼Œlinker.cï¼Œ linker.cå°±æ˜¯src.cçš„ä¸€ä¸ªç¬¦å·è¿æ¥æ–‡ä»¶ ç¡¬è¿æ¥ï¼šln æºæ–‡ä»¶å è¿æ¥æ–‡ä»¶åç¡¬è¿æ¥å®é™…ä¸Šå’Œæºæ–‡ä»¶åœ¨ç¡¬ç›˜ä¸­æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œæ•ˆæœç±»ä¼¼äºç¡¬ç›˜ä¸Šçš„ä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šï¼Œåœ¨æˆ‘ä»¬çœ‹æ¥æœ‰å¥½å¤šä¸ªæ–‡ä»¶ä¸€æ ·ã€‚æ¯æ¬¡åˆ é™¤ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œåªè¦ä»–è¿˜æœ‰å…¶ä»–çš„ç¡¬è¿æ¥å­˜åœ¨ï¼Œè¿™ä¸ªæ–‡ä»¶å°±ä¸ä¼šè¢«çœŸæ­£åˆ é™¤ã€‚åªæœ‰ç­‰æ‰€æœ‰çš„è¿æ¥æ–‡ä»¶éƒ½åˆ é™¤æ‰äº†ï¼Œè¿™ä¸ªæ–‡ä»¶æ‰ä¼šè¢«çœŸæ­£ä»ç¡¬ç›˜ä¸Šåˆ é™¤ã€‚ åŸºç¡€çŸ¥è¯†ï¼š1ã€ls -læ˜¾ç¤ºçš„è¯¦ç»†ä¿¡æ¯ä¸­ï¼š-rw-râ€“râ€“drwxr-xr-xä¸€å…±10ä¸ªå­—ç¬¦ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦è¡¨ç¤ºæ–‡ä»¶ç±»å‹ï¼Œåé¢9ä¸ªå­—ç¬¦è¡¨ç¤ºæ–‡ä»¶æƒé™ã€‚æ–‡ä»¶ç±»å‹ï¼š è¡¨ç¤ºæ™®é€šæ–‡ä»¶ã€‚æ™®é€šæ–‡ä»¶æŒ‡æ–‡æœ¬æ–‡ä»¶å’ŒäºŒè¿›åˆ¶ æ–‡ä»¶ï¼Œå¦‚a.c 1.txt a.outéƒ½æ˜¯æ™®é€šæ–‡ä»¶d è¡¨ç¤ºæ–‡ä»¶å¤¹ï¼Œdæ˜¯directoryçš„ç¼©å†™l è¡¨ç¤ºç¬¦å·è¿æ¥æ–‡ä»¶ï¼Œåé¢ä¼šç”¨-&gt;æ‰“å°å‡ºå®ƒæŒ‡å‘çš„æ–‡ä»¶s è¡¨ç¤ºsocketæ–‡ä»¶p è¡¨ç¤ºç®¡é“æ–‡ä»¶ pipe","categories":[{"name":"LinuxåŸºç¡€","slug":"LinuxåŸºç¡€","permalink":"http://SlectRxz.github.io/categories/LinuxåŸºç¡€/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/å­¦ä¹ /"}]},{"title":"LinuxåŸºç¡€ï¼ˆä¸€ï¼‰","slug":"LinuxåŸºç¡€ï¼ˆä¸€ï¼‰","date":"2017-05-05T02:01:44.000Z","updated":"2018-10-16T11:40:10.897Z","comments":true,"path":"2017/05/05/LinuxåŸºç¡€ï¼ˆä¸€ï¼‰/","link":"","permalink":"http://SlectRxz.github.io/2017/05/05/LinuxåŸºç¡€ï¼ˆä¸€ï¼‰/","excerpt":"æ“ä½œç³»ç»Ÿã€ç›¸å¯¹è·¯å¾„ä¸ç»å¯¹è·¯å¾„çš„ç®€ä»‹","text":"æ“ä½œç³»ç»Ÿã€ç›¸å¯¹è·¯å¾„ä¸ç»å¯¹è·¯å¾„çš„ç®€ä»‹ 1ã€æ“ä½œç³»ç»ŸåŸºç¡€æ¦‚å¿µ1.1ã€Windowsä¸linuxçš„å…³ç³»å½“å‰ä¸»æµçš„æ“ä½œç³»ç»Ÿï¼šwindowsã€ã€androidã€iOSã€symbianã€linux/unix Windowsï¼šå‚»ç“œå¼ã€å¥½å­¦ä¹ ã€å·¥èµ„ä½Linuxï¼šlinuxè®¤ä¸ºæ¯ä¸€ä¸ªç”¨æˆ·éƒ½æ˜¯ä¸“ä¸šäººå£«ï¼Œæ“ä½œéº»çƒ¦ï¼Œå­¦ä¹ æ¯”è¾ƒéš¾ï¼Œå…è´¹çš„ã€å¼€æºçš„ï¼Œlinuxæ€§èƒ½å¥½ï¼Œå¯ç§»æ¤æ€§å¥½ï¼Œå¥½çš„è®¾è®¡ç†å¿µAndroidï¼šç§»åŠ¨æ“ä½œç³»ç»Ÿï¼ŒandroidåŸºäºlinuxiOSï¼šå¾ˆä¼˜ç§€ï¼Œåˆ›é€ æ€§ï¼Œèµ°é’¢ä¸ åµŒå…¥å¼æ“ä½œç³»ç»Ÿï¼šlinux + WinCEå½“å‰ï¼šæ¶ˆè´¹ç”µå­Androidï¼Œå·¥ä¸šlinux 1.2ã€å¤šæœºå¼€å‘ï¼šåŒç³»ç»Ÿä¸è™šæ‹Ÿæœºå¼€å‘åµŒå…¥å¼ç¨‹åºï¼Œéœ€è¦linuxç¯å¢ƒã€‚ä½†æ˜¯å› ä¸ºï¼šwindowsä¸­æœ‰è®¸å¤šå¾ˆå¥½ç”¨çš„è½¯ä»¶ï¼Œå¦‚notepad++ã€SourceInsightï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦windowsã€‚ ç¬¬ä¸€ç§ï¼šåŒç³»ç»Ÿ ä¸æ–¹ä¾¿ç¬¬äºŒç§ï¼šè™šæ‹Ÿæœº æ–¹ä¾¿ï¼ŒæŸå¤±æ€§èƒ½ï¼Œä¸ çœŸæœºå¾®å°å·®å¼‚ç¬¬ä¸‰ç§ï¼šä¸¤å°ç”µè„‘ï¼šä¸æ–¹ä¾¿ ç°å®ä¸­ï¼šä¸ªäººå¼€å‘è€…ï¼šè™šæ‹Ÿæœºå¤§å…¬å¸ï¼šæœåŠ¡å™¨+å®¢æˆ·ç«¯ 1.3ã€æ­å»ºå¼€å‘ç¯å¢ƒæ¶‰åŠåˆ°ä¸¤ä¸ªä¸œè¥¿ï¼šè™šæ‹Ÿæœºè½¯ä»¶+linuxç³»ç»Ÿè™šæ‹Ÿæœºè½¯ä»¶ï¼šå°±æ˜¯ä¸€ä¸ªå•çº¯çš„åœ¨windowsä¸­è¿è¡Œçš„è½¯ä»¶ï¼Œè·Ÿwordã€360æ²¡æœ‰æœ¬è´¨åŒºåˆ«ã€‚ç°åœ¨ä¸»æµçš„è™šæ‹Ÿæœºè½¯ä»¶æœ‰VMWareå’ŒVirtualBoxè™šæ‹Ÿæœºè½¯ä»¶åœ¨windowsç³»ç»Ÿä¸­è¿è¡Œï¼Œè¿è¡Œåå®ƒä¼šæ¨¡æ‹Ÿå‡ºæ¥ä¸€ä¸ªç”µè„‘ï¼Œæ‰€ä»¥å«è™šæ‹Ÿæœºã€‚ç„¶åæˆ‘ä»¬å¯ä»¥åœ¨è¯¥è™šæ‹Ÿæœºä¸­å®‰è£…åˆ«çš„æ“ä½œç³»ç»Ÿã€‚å½“å‰ï¼Œå¯ä»¥å…ˆä½¿ç”¨äº‹å…ˆå®‰è£…å¥½çš„aston_ubuntuï¼Œå¯†ç æ˜¯rootã€‚è‡ªå·±ä¸Šç½‘æœç´¢å®‰è£…æ•™ç¨‹ã€‚ 1.4ã€éšè—æ–‡ä»¶ä¸ééšè—æ–‡ä»¶Windowsä¸­ï¼šæ–‡ä»¶éšè—ä¸ä¸éšè—é€šè¿‡è®¾ç½®æ–‡ä»¶å±æ€§å®ç°çš„ï¼Œå¯ä»¥ç‚¹å‡»æ–‡ä»¶ï¼Œå³é”®å±æ€§ï¼Œé€‰æ‹©å‹¾é€‰éšè—é€‰é¡¹æ¥è®¾ç½®æ–‡ä»¶ä¸ºéšè—æ–‡ä»¶ã€‚åœ¨Windowsä¸­æŸ¥çœ‹éšè—æ–‡ä»¶æ–¹æ³•ï¼šèœå•æ  å·¥å…·-&gt;æ–‡ä»¶å¤¹é€‰é¡¹-&gt;æŸ¥çœ‹-&gt;æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚Linuxä¸­ï¼šlinuxä¸­éšè—æ–‡ä»¶ç‰¹ç‚¹æ˜¯æ–‡ä»¶åä»¥.å¼€å¤´ï¼Œè·Ÿæ–‡ä»¶å±æ€§æ— å…³ã€‚åœ¨linuxä¸­æŸ¥çœ‹éšè—æ–‡ä»¶ç”¨ls -aå‘½ä»¤ï¼ˆæ™®é€šæ˜¾ç¤ºlsï¼‰ 1.5ã€ç›¸å¯¹è·¯å¾„ä¸ç»å¯¹è·¯å¾„ä»€ä¹ˆæ˜¯è·¯å¾„ï¼šè·¯å¾„æ˜¯ç”¨æ¥æ ‡è¯†ä¸€ä¸ªæ–‡ä»¶åœ¨æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿä¸­å­˜å‚¨ä½ç½®çš„ã€‚ä¸¾ä¾‹ï¼šD:\\winshare\\enum.cå…¨è·¯å¾„pathnameD:\\winshareè·¯å¾„ path`enum.cæ–‡ä»¶å name ç»å¯¹è·¯å¾„ï¼šè·¯å¾„æ˜¯ä»ç»å¯¹ä½ç½®å¼€å§‹çš„ã€‚è­¬å¦‚Windowsä¸­ä»æŸä¸€ä¸ªç›˜ç¬¦å¼€å§‹ï¼ˆC:\\ï¼‰ï¼Œlinuxä¸­ä»æ ¹ç›®å½•/å¼€å§‹ç›¸å¯¹è·¯å¾„ï¼šæŒ‡æ˜è·¯å¾„çš„æ—¶å€™ï¼Œæ˜¯ä»å½“å‰æ‰€åœ¨çš„ä½ç½®å¼€å§‹çš„ã€‚ ä¸¾ä¾‹ï¼šD:\\æˆ‘çš„æ–‡æ¡£\\123\\123.txtD:\\æˆ‘çš„æ–‡æ¡£\\abc\\abc.txtå½“å‰åœ¨123.txtï¼Œä½†æ˜¯è¦å»abc.txtæ–¹å¼1ï¼šé‡‡ç”¨ç»å¯¹è·¯å¾„ã€‚D:\\æˆ‘çš„æ–‡æ¡£\\abc\\abc.txtæ–¹å¼2ï¼šé‡‡ç”¨ç›¸å¯¹è·¯å¾„ã€‚../abc/abc.txtä»å½“å‰è·¯å¾„å¼€å§‹ï¼Œå¾€ä¸Šèµ°ä¸€å±‚ï¼Œå†å¾€ä¸‹èµ°ä¸€å±‚ï¼ˆabcï¼‰å°±åˆ°äº† æµ‹è¯•ï¼š/abc/123/def.txt æ˜¯linuxç»å¯¹è·¯å¾„abc/123/def.txt ä¸æ˜¯linuxç»å¯¹è·¯å¾„F:\\abc\\123\\def.txt æ˜¯windowsç»å¯¹è·¯å¾„abc\\123\\def.txt ä¸æ˜¯windowsç»å¯¹è·¯å¾„","categories":[{"name":"LinuxåŸºç¡€","slug":"LinuxåŸºç¡€","permalink":"http://SlectRxz.github.io/categories/LinuxåŸºç¡€/"}],"tags":[{"name":"å­¦ä¹ ","slug":"å­¦ä¹ ","permalink":"http://SlectRxz.github.io/tags/å­¦ä¹ /"}]}]}